{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/purchases/PurchasesModal.jsx"],"sourcesContent":["import mongoose from \"mongoose\";\nimport Purchase from \"../models/purchaseModel.js\";\nimport Product from \"../models/productModel.js\";\n\n/* =======================\n   GET ALL PURCHASES\n======================= */\nconst getAllPurchases = async (req, res) => {\n  try {\n    const purchases = await Purchase.find()\n      .populate(\"products.productId\", \"name code manufacturer\")\n      .sort({ createdAt: -1 });\n\n    res.status(200).json({\n      success: true,\n      count: purchases.length,\n      data: purchases,\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: \"Failed to fetch purchases\",\n      error: error.message,\n    });\n  }\n};\n\n/* =======================\n   GET PURCHASE BY ID\n======================= */\nconst getPurchaseById = async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    if (!mongoose.Types.ObjectId.isValid(id)) {\n      return res.status(400).json({ message: \"Invalid purchase ID\" });\n    }\n\n    const purchase = await Purchase.findById(id).populate(\n      \"products.productId\",\n      \"name code manufacturer\"\n    );\n\n    if (!purchase) {\n      return res.status(404).json({ message: \"Purchase not found\" });\n    }\n\n    res.status(200).json({\n      success: true,\n      data: purchase,\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: \"Failed to fetch purchase\",\n      error: error.message,\n    });\n  }\n};\n\n/* =======================\n   CREATE PURCHASE\n======================= */\nconst createPurchase = async (req, res) => {\n  try {\n    const {\n      supplier,\n      purchaseDate,\n      invoiceNumber,\n      totalAmount,\n      paidAmount,\n      paymentStatus,\n      purchaseStatus,\n      balance,\n      taxAmount,\n      products,\n    } = req.body;\n\n    if (!supplier || !purchaseDate || !invoiceNumber || !products?.length) {\n      return res.status(400).json({\n        success: false,\n        message: \"Supplier, purchase date, invoice number, and products are required\",\n      });\n    }\n\n    // Process products: create new Product if productId is missing\n    const processedProducts = [];\n    for (const p of products) {\n      if (!p.productId) {\n        const newProduct = await Product.create({\n          name: p.name,\n          code: p.code || \"\",\n          manufacturer: p.manufacturer,\n        });\n        processedProducts.push({ ...p, productId: newProduct._id });\n      } else {\n        processedProducts.push(p);\n      }\n\n      // Validate required product fields\n      if (!p.name || !p.bno || !p.mfg || !p.exp || !p.quantity || !p.price || !p.manufacturer) {\n        return res.status(400).json({\n          success: false,\n          message: \"All product fields are required (name, bno, mfg, exp, quantity, price, manufacturer)\",\n        });\n      }\n    }\n\n    const purchase = await Purchase.create({\n      supplier,\n      purchaseDate,\n      invoiceNumber,\n      totalAmount,\n      paidAmount: paidAmount || 0,\n      paymentStatus: paymentStatus || \"Pending\",\n      purchaseStatus: purchaseStatus || \"Draft\",\n      balance: balance || totalAmount,\n      taxAmount: taxAmount || 0,\n      products: processedProducts,\n    });\n\n    res.status(201).json({\n      success: true,\n      message: \"Purchase created successfully\",\n      data: purchase,\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(400).json({\n      success: false,\n      message: \"Failed to create purchase\",\n      error: error.message,\n    });\n  }\n};\n\n/* =======================\n   UPDATE PURCHASE\n======================= */\nconst updatePurchase = async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    if (!mongoose.Types.ObjectId.isValid(id)) {\n      return res.status(400).json({ message: \"Invalid purchase ID\" });\n    }\n\n    const purchase = await Purchase.findById(id);\n    if (!purchase) {\n      return res.status(404).json({ message: \"Purchase not found\" });\n    }\n\n    const updatedData = { ...req.body };\n\n    // Process products same as createPurchase\n    if (updatedData.products) {\n      const processedProducts = [];\n      for (const p of updatedData.products) {\n        if (!p.productId) {\n          const newProduct = await Product.create({\n            name: p.name,\n            code: p.code || \"\",\n            manufacturer: p.manufacturer,\n          });\n          processedProducts.push({ ...p, productId: newProduct._id });\n        } else {\n          processedProducts.push(p);\n        }\n\n        // Validate required product fields\n        if (!p.name || !p.bno || !p.mfg || !p.exp || !p.quantity || !p.price || !p.manufacturer) {\n          return res.status(400).json({\n            success: false,\n            message: \"All product fields are required (name, bno, mfg, exp, quantity, price, manufacturer)\",\n          });\n        }\n      }\n      updatedData.products = processedProducts;\n    }\n\n    // Update purchase\n    Object.assign(purchase, updatedData);\n    await purchase.save();\n\n    res.status(200).json({\n      success: true,\n      message: \"Purchase updated successfully\",\n      data: purchase,\n    });\n  } catch (error) {\n    res.status(400).json({\n      message: \"Failed to update purchase\",\n      error: error.message,\n    });\n  }\n};\n\n/* =======================\n   DELETE PURCHASE\n======================= */\nconst deletePurchase = async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    if (!mongoose.Types.ObjectId.isValid(id)) {\n      return res.status(400).json({ message: \"Invalid purchase ID\" });\n    }\n\n    const purchase = await Purchase.findByIdAndDelete(id);\n    if (!purchase) {\n      return res.status(404).json({ message: \"Purchase not found\" });\n    }\n\n    res.status(200).json({\n      success: true,\n      message: \"Purchase deleted successfully\",\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: \"Failed to delete purchase\",\n      error: error.message,\n    });\n  }\n};\n\n/* =======================\n   PURCHASE LIST (MINIMAL)\n======================= */\nconst getPurchaseList = async (req, res) => {\n  try {\n    const purchases = await Purchase.find(\n      {},\n      { _id: 1, invoiceNumber: 1, supplier: 1 }\n    ).sort({ createdAt: -1 });\n\n    res.status(200).json({\n      success: true,\n      data: purchases,\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: \"Failed to fetch purchase list\",\n      error: error.message,\n    });\n  }\n};\n\nexport {\n  getAllPurchases,\n  getPurchaseById,\n  createPurchase,\n  updatePurchase,\n  deletePurchase,\n  getPurchaseList,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error â€” check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAG3B;AACA;AAHA;;;AAKA,MAAM,WACJ,QAAQ,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D;;QAKA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,gJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C;;QAIA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF;;QAEA,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/purchases/PartialPaymentModal.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { X, CheckCircle, AlertTriangle } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst PartialPaymentModal = ({ onClose, onUpdate }) => {\n  const [purchases, setPurchases] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n  const [selectedSupplier, setSelectedSupplier] = useState(\"\");\n  const [paidAmount, setPaidAmount] = useState(\"\");\n  const [paymentStatus, setPaymentStatus] = useState(\"Pending\");\n  const [totalAmount, setTotalAmount] = useState(0);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  // Fetch all purchases and suppliers\n  useEffect(() => {\n    const fetchAllPurchases = async () => {\n      try {\n        const res = await apiRequest(\"/purchases\", { method: \"GET\" });\n        const allPurchases = res?.data || [];\n        setPurchases(allPurchases);\n        setSuppliers([...new Set(allPurchases.map((p) => p.supplier))]);\n      } catch (err) {\n        console.error(err);\n        setErrorMessage(\"Failed to fetch purchases\");\n        setShowError(true);\n      }\n    };\n    fetchAllPurchases();\n  }, []);\n\n  // Handle supplier selection\n  const handleSupplierChange = (supplier) => {\n    setSelectedSupplier(supplier);\n    setPaidAmount(\"\"); // clear paid amount\n    setPaymentStatus(\"Pending\");\n\n    // Sum of balances for the selected supplier\n    const supplierPurchases = purchases.filter((p) => p.supplier === supplier);\n    const total = supplierPurchases.reduce(\n      (sum, p) => sum + ((p.totalAmount || 0) - (p.paidAmount || 0)),\n      0\n    );\n    setTotalAmount(total);\n  };\n\n  // Automatically update payment status based on paidAmount\n  useEffect(() => {\n    const numericPaid = Number(paidAmount) || 0;\n\n    if (numericPaid === 0) setPaymentStatus(\"Pending\");\n    else if (numericPaid < totalAmount) setPaymentStatus(\"Partial\");\n    else setPaymentStatus(\"Paid\");\n  }, [paidAmount, totalAmount]);\n\n  const handleSubmit = async () => {\n    if (!selectedSupplier) return;\n\n    try {\n      await apiRequest(`/purchases/createPurchase/${selectedSupplier}`, {\n        method: \"POST\",\n        data: {\n          supplier: selectedSupplier,\n          paidAmount: Number(paidAmount) || 0,\n          paymentStatus,\n        },\n      });\n\n      setShowSuccess(true);\n      setTimeout(() => {\n        setShowSuccess(false);\n        onUpdate();\n        onClose();\n      }, 1500);\n    } catch (err) {\n      console.error(err);\n      setErrorMessage(err?.response?.data?.message || \"Failed to update payment\");\n      setShowError(true);\n    }\n  };\n\n  return (\n    <>\n      {/* Success */}\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <CheckCircle className=\"w-12 h-12 text-green-600 mx-auto mb-2\" />\n            <h2 className=\"font-bold text-green-700 text-lg\">Success</h2>\n            <p>Partial payment updated successfully</p>\n          </div>\n        </div>\n      )}\n\n      {/* Error */}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <AlertTriangle className=\"w-12 h-12 text-red-600 mx-auto mb-2\" />\n            <h2 className=\"font-bold text-red-700 text-lg\">Error</h2>\n            <p>{errorMessage}</p>\n            <button\n              onClick={() => setShowError(false)}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Modal */}\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-bold\">Partial Payment</h2>\n            <button onClick={onClose} className=\"p-2 hover:bg-gray-200 rounded-full\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-4\">\n            {/* Supplier Selection */}\n            <div>\n              <label className=\"block text-sm font-medium\">Select Supplier</label>\n              <select\n                value={selectedSupplier}\n                onChange={(e) => handleSupplierChange(e.target.value)}\n                className=\"w-full h-9 px-3 border rounded-md text-sm\"\n              >\n                <option value=\"\">Select Supplier</option>\n                {suppliers.map((s, i) => (\n                  <option key={i} value={s}>\n                    {s}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Payment Details */}\n            {selectedSupplier && (\n              <>\n                <div>\n                  <label className=\"block text-sm font-medium\">Total Amount</label>\n                  <input\n                    type=\"number\"\n                    value={totalAmount}\n                    readOnly\n                    className=\"w-full h-9 px-3 border rounded-md bg-gray-100 text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium\">Paid Amount</label>\n                  <input\n                    type=\"number\"\n                    value={paidAmount}\n                    onChange={(e) => setPaidAmount(e.target.value)}\n                    placeholder=\"Enter amount\"\n                    className=\"w-full h-9 px-3 border rounded-md text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium\">Payment Status</label>\n                  <select\n                    value={paymentStatus}\n                    onChange={(e) => setPaymentStatus(e.target.value)}\n                    className=\"w-full h-9 px-3 border rounded-md text-sm\"\n                  >\n                    <option value=\"Pending\">Pending</option>\n                    <option value=\"Partial\">Partial</option>\n                    <option value=\"Paid\">Paid</option>\n                  </select>\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"flex justify-end gap-3 mt-6\">\n            <button\n              onClick={onClose}\n              className=\"px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-100\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSubmit}\n              disabled={!selectedSupplier}\n              className=\"px-4 py-2 rounded-md bg-teal-600 text-white hover:bg-teal-700 disabled:bg-gray-300\"\n            >\n              Update Payment\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PartialPaymentModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 850, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/PurchasesPage.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Plus, CheckCircle, AlertTriangle, Printer } from \"lucide-react\";\nimport PurchasesModal from \"../../components/purchases/PurchasesModal\";\nimport PartialPaymentModal from \"../../components/purchases/PartialPaymentModal\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst PurchasesPage = () => {\n  const [openModal, setOpenModal] = useState(false);\n  const [openPartialModal, setOpenPartialModal] = useState(false);\n  const [selectedPurchase, setSelectedPurchase] = useState(null);\n  const [purchases, setPurchases] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedSupplier, setSelectedSupplier] = useState(\"\");\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  /* ---------------- FETCH ---------------- */\n  const fetchPurchases = async () => {\n    setLoading(true);\n    try {\n      const response = await apiRequest(\"/purchases\", \"GET\");\n      setPurchases(response?.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch purchases:\", error);\n      setErrorMessage(\"Failed to fetch purchases\");\n      setShowError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPurchases();\n  }, []);\n\n  /* ---------------- FILTERS ---------------- */\n  const supplierNames = [...new Set(purchases.map((p) => p.supplier))];\n\n  const filteredPurchases = selectedSupplier\n    ? purchases.filter((p) => p.supplier === selectedSupplier)\n    : purchases;\n\n  /* ---------------- GROUP BY SUPPLIER ---------------- */\n  const groupBySupplier = (data) =>\n    data.reduce((acc, item) => {\n      if (!acc[item.supplier]) acc[item.supplier] = [];\n      acc[item.supplier].push(item);\n      return acc;\n    }, {});\n\n  /* ---------------- PARTIAL PAYMENT ---------------- */\n  const handlePartialPayment = () => {\n    const purchaseForPartial = purchases.find(\n      (p) => p.paymentStatus === \"Pending\" || p.paymentStatus === \"Partial\"\n    );\n\n    if (!purchaseForPartial) {\n      setErrorMessage(\"No purchase available for partial payment\");\n      setShowError(true);\n      return;\n    }\n\n    setSelectedPurchase(purchaseForPartial);\n    setOpenPartialModal(true);\n  };\n\n  /* ---------------- PRINT (SUPPLIER) ---------------- */\n  const handlePrintReport = (supplier, items) => {\n    const reportWindow = window.open(\"\", \"_blank\");\n\n    const total = items.reduce((s, p) => s + (p.totalAmount || 0), 0);\n    const paid = items.reduce((s, p) => s + (p.paidAmount || 0), 0);\n\n    reportWindow.document.write(`\n      <html>\n        <head>\n          <title>${supplier} Purchase Report</title>\n          <style>\n            body { font-family: Arial; padding: 20px; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #000; padding: 8px; text-align: center; }\n            th { background: #eee; }\n            h2 { text-align: center; }\n          </style>\n        </head>\n        <body>\n          <h2>${supplier} Purchase Report</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Date</th>\n                <th>Invoice</th>\n                <th>Items</th>\n                <th>Amount</th>\n                <th>Paid</th>\n                <th>Balance</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${items\n                .map(\n                  (p, i) => `\n                <tr>\n                  <td>${i + 1}</td>\n                  <td>${new Date(p.purchaseDate).toLocaleDateString()}</td>\n                  <td>${p.invoiceNumber}</td>\n                  <td>${p.products?.length || 0}</td>\n                  <td>Rs.${p.totalAmount.toFixed(2)}</td>\n                  <td>Rs.${p.paidAmount.toFixed(2)}</td>\n                  <td>Rs.${(\n                    p.totalAmount - p.paidAmount\n                  ).toFixed(2)}</td>\n                  <td>${p.purchaseStatus}</td>\n                </tr>\n              `\n                )\n                .join(\"\")}\n              <tr>\n                <td colspan=\"4\" style=\"text-align:right;font-weight:bold;\">Total</td>\n                <td>Rs.${total.toFixed(2)}</td>\n                <td>Rs.${paid.toFixed(2)}</td>\n                <td>Rs.${(total - paid).toFixed(2)}</td>\n                <td></td>\n              </tr>\n            </tbody>\n          </table>\n        </body>\n      </html>\n    `);\n\n    reportWindow.document.close();\n    reportWindow.print();\n  };\n\n  return (\n    <main className=\"p-4 space-y-4\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-semibold\">Purchases</h1>\n          <p className=\"text-sm text-slate-600\">Manage purchase orders</p>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setOpenModal(true)}\n            className=\"inline-flex items-center gap-1 h-8 px-3 text-sm text-white rounded-md bg-teal-600 hover:bg-teal-700\"\n          >\n            <Plus size={16} /> New Purchase\n          </button>\n\n          <button\n            onClick={handlePartialPayment}\n            className=\"inline-flex items-center gap-1 h-8 px-3 text-sm text-white rounded-md bg-orange-600 hover:bg-orange-700\"\n          >\n            <Plus size={16} /> Partial Payment\n          </button>\n        </div>\n      </div>\n\n      {/* Supplier Select + Purchase Print */}\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <label className=\"text-sm font-medium\">Select Supplier:</label>\n\n        <select\n          value={selectedSupplier}\n          onChange={(e) => setSelectedSupplier(e.target.value)}\n          className=\"border rounded px-2 py-1 text-sm\"\n        >\n          <option value=\"\">All Suppliers</option>\n          {supplierNames.map((name, i) => (\n            <option key={i} value={name}>\n              {name}\n            </option>\n          ))}\n        </select>\n\n        <button\n          disabled={!selectedSupplier}\n          onClick={() =>\n            handlePrintReport(\n              selectedSupplier,\n              purchases.filter((p) => p.supplier === selectedSupplier)\n            )\n          }\n          className={`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-md text-white\n            ${\n              selectedSupplier\n                ? \"bg-blue-600 hover:bg-blue-700\"\n                : \"bg-gray-400 cursor-not-allowed\"\n            }`}\n        >\n          <Printer size={16} /> Purchase Print\n        </button>\n      </div>\n\n      {/* Table */}\n      {loading ? (\n        <p className=\"text-center text-sm\">Loading...</p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full border text-sm bg-white\">\n            <thead className=\"bg-teal-600 text-white text-xs\">\n              <tr>\n                <th>#</th>\n                <th>Supplier</th>\n                <th>Date</th>\n                <th>Invoice</th>\n                <th>Items</th>\n                <th>Amount</th>\n                <th>Paid</th>\n                <th>Balance</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.entries(groupBySupplier(filteredPurchases)).map(\n                ([supplier, items]) => {\n                  const total = items.reduce(\n                    (s, p) => s + (p.totalAmount || 0),\n                    0\n                  );\n                  const paid = items.reduce(\n                    (s, p) => s + (p.paidAmount || 0),\n                    0\n                  );\n\n                  return (\n                    <React.Fragment key={supplier}>\n                      {items.map((p, i) => (\n                        <tr key={p._id} className=\"border-b text-center\">\n                          <td>{i + 1}</td>\n                          <td>{p.supplier}</td>\n                          <td>\n                            {p.purchaseDate\n                              ? new Date(p.purchaseDate).toLocaleDateString()\n                              : \"-\"}\n                          </td>\n                          <td>{p.invoiceNumber}</td>\n                          <td>{p.products?.length || 0}</td>\n                          <td>Rs.{p.totalAmount?.toFixed(2)}</td>\n                          <td>Rs.{p.paidAmount?.toFixed(2)}</td>\n                          <td>\n                            Rs.\n                            {(\n                              (p.totalAmount || 0) -\n                              (p.paidAmount || 0)\n                            ).toFixed(2)}\n                          </td>\n                          <td>{p.purchaseStatus}</td>\n                        </tr>\n                      ))}\n\n                      <tr className=\"bg-gray-100 font-semibold text-center\">\n                        <td colSpan=\"5\" className=\"text-right\">\n                          {supplier} Total\n                        </td>\n                        <td>Rs.{total.toFixed(2)}</td>\n                        <td>Rs.{paid.toFixed(2)}</td>\n                        <td>Rs.{(total - paid).toFixed(2)}</td>\n                        <td></td>\n                      </tr>\n                    </React.Fragment>\n                  );\n                }\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Modals */}\n      {openModal && (\n        <PurchasesModal\n          onClose={() => {\n            setOpenModal(false);\n            fetchPurchases();\n          }}\n        />\n      )}\n\n      {openPartialModal && selectedPurchase && (\n        <PartialPaymentModal\n          purchase={selectedPurchase}\n          onClose={() => setOpenPartialModal(false)}\n          onUpdate={fetchPurchases}\n        />\n      )}\n\n      {/* Alerts */}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <AlertTriangle className=\"w-10 h-10 text-red-600 mx-auto mb-2\" />\n            <p>{errorMessage}</p>\n          </div>\n        </div>\n      )}\n\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <CheckCircle className=\"w-10 h-10 text-green-600 mx-auto mb-2\" />\n            <p>Success</p>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n};\n\nexport default PurchasesPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1466, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/purchases/page.jsx"],"sourcesContent":["// app/pos/page.jsx\n\"use client\";\n\nimport PurchasesPage from \"../components/pages/PurchasesPage\";\n\n\nexport default function Purchases() {\n  return (\n  <PurchasesPage/>\n  );\n}\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;AAGnB;AAFA;;;AAKe,SAAS;IACtB,qBACA,8OAAC,uJAAa;;;;;AAEhB"}}]
}