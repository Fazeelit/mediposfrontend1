{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error â€” check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAG3B;AACA;AAHA;;;AAKA,MAAM,WACJ,QAAQ,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D;;QAKA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,gJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C;;QAIA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF;;QAEA,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/Header.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Plus } from \"lucide-react\";\n\nconst Header = ({ onAdd }) => (\n  <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n    <div>\n      <h1 className=\"text-3xl font-bold text-slate-900\">Suppliers</h1>\n      <p className=\"text-slate-600 mt-1\">\n        Manage supplier records and medical history\n      </p>\n    </div>\n    <button\n      onClick={onAdd}\n      className=\"text-white inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 h-9 px-4 py-2 bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 shadow-lg shadow-teal-500/30 text-primary-foreground\"\n    >\n      <Plus className=\"w-5 h-5 mr-2\" /> Add Supplier\n    </button>\n  </div>\n);\n\nexport default Header;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,SAAS,CAAC,EAAE,KAAK,EAAE,iBACvB,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,8OAAC;wBAAE,WAAU;kCAAsB;;;;;;;;;;;;0BAIrC,8OAAC;gBACC,SAAS;gBACT,WAAU;;kCAEV,8OAAC,0MAAI;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;uCAKxB"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/SupplierCard.jsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\nconst SupplierCard = ({ title, count, icon }) => (\n  <div className=\"rounded-xl w-[200px] text-card-foreground border-0 shadow-lg bg-white/80 backdrop-blur \">\n    <div className=\"p-4 flex items-center justify-between\">\n      <div>\n        <p className=\"text-sm text-slate-600\">{title}</p>\n        <p className=\"text-2xl font-bold text-slate-900 mt-1\">{count}</p>\n      </div>\n      <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center\">\n        {icon}\n      </div>\n    </div>\n  </div>\n);\n\nexport default SupplierCard;\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,MAAM,eAAe,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,iBAC1C,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;sCAA0B;;;;;;sCACvC,8OAAC;4BAAE,WAAU;sCAA0C;;;;;;;;;;;;8BAEzD,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;uCAMM"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/SupplierSearch.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Search } from \"lucide-react\";\n\nconst SupplierSearch = ({ value, onChange }) => (\n  <div className=\"rounded-xl border-0 shadow-lg bg-white/80 backdrop-blur p-4\">\n    <label htmlFor=\"patient-search\" className=\"sr-only\">\n      Search Supplier\n    </label>\n    <div className=\"relative\">\n      <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5 pointer-events-none\" />\n      <input\n        id=\"patient-search\"\n        type=\"text\"\n        className=\"flex h-10 w-full rounded-md border border-gray-300 bg-transparent px-3 py-1 text-base shadow-sm transition-colors placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400 md:text-sm pl-10\"\n        placeholder=\"Search patients by name, phone, or ID...\"\n        value={value}\n        onChange={onChange}\n      />\n    </div>\n  </div>\n);\n\nexport default SupplierSearch;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,iBAAiB,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,iBACzC,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,SAAQ;gBAAiB,WAAU;0BAAU;;;;;;0BAGpD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gNAAM;wBAAC,WAAU;;;;;;kCAClB,8OAAC;wBACC,IAAG;wBACH,MAAK;wBACL,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU;;;;;;;;;;;;;;;;;;uCAMH"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/SupplierTable.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Pen, Trash2 } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\nimport { toast } from \"react-hot-toast\";\n\nconst SupplierTable = ({ onEdit, onDelete }) => {\n  const [suppliers, setSuppliers] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  /* ---------------- FETCH Suppliers ---------------- */\n  const fetchSuppliers = async () => {\n    try {\n      setLoading(true);\n      const res = await apiRequest(\"/suppliers\", \"GET\");\n\n      if (Array.isArray(res)) {\n        setSuppliers(res);\n      } else if (res?.success && Array.isArray(res.data)) {\n        setSuppliers(res.data);\n      } else {\n        setSuppliers([]);\n        toast.error(res?.message || \"Failed to fetch suppliers\");\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch suppliers\", error);\n      toast.error(\"Failed to load suppliers\");\n      setSuppliers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSuppliers();\n  }, []);\n\n  return (\n    <div className=\"rounded-xl text-card-foreground border-0 shadow-lg bg-white/80 backdrop-blur p-0\">\n      <div className=\"overflow-x-auto max-w-full\">\n        <table className=\"min-w-full caption-bottom text-sm whitespace-nowrap\">\n          <thead>\n            <tr className=\"border-b border-gray-300 bg-slate-100 text-gray-400\">\n              <th className=\"h-10 px-2 w-[90px] text-left font-semibold\">Supplier ID</th>\n              <th className=\"h-10 px-2 w-[120px] text-left font-semibold\">Name</th>\n              <th className=\"h-10 px-2 w-[120px] text-left font-semibold\">Contact Person</th>\n              <th className=\"h-10 px-2 w-[100px] text-left font-semibold\">Phone</th>\n              <th className=\"h-10 px-2 w-[150px] text-left font-semibold\">Address</th>\n              <th className=\"h-10 px-2 w-[120px] text-left font-semibold\">Company Name</th>\n              <th className=\"h-10 px-2 w-[80px] text-left font-semibold\">Status</th>\n              <th className=\"h-10 px-2 w-[90px] text-left font-semibold\">Actions</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {loading ? (\n              <tr>\n                <td colSpan={8} className=\"text-center py-4 text-gray-500\">\n                  Loading suppliers...\n                </td>\n              </tr>\n            ) : suppliers.length > 0 ? (\n              suppliers.map((supplier) => (\n                <tr\n                  key={supplier._id || supplier.supplierId}\n                  className=\"border-b border-gray-100 hover:bg-slate-50 transition-colors\"\n                >\n                  <td className=\"p-2 font-mono text-sm\">{supplier.supplierId || \"-\"}</td>\n                  <td className=\"p-2 text-sm font-medium text-slate-900\">{supplier.name || \"-\"}</td>\n                  <td className=\"p-2 text-sm\">{supplier.contactPerson || \"-\"}</td>\n                  <td className=\"p-2 text-sm\">{supplier.phone || \"-\"}</td>\n                  <td className=\"p-1 text-sm line-clamp-1\">{supplier.address || \"-\"}</td>\n                  <td className=\"p-2 text-sm\">{supplier.companyName || \"-\"}</td>\n                  <td className=\"p-2 text-sm\">\n                    <span\n                      className={`inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold ${\n                        supplier.status === \"Active\"\n                          ? \"bg-green-100 text-green-800\"\n                          : \"bg-red-100 text-red-800\"\n                      }`}\n                    >\n                      {supplier.status || \"-\"}\n                    </span>\n                  </td>\n                  <td className=\"p-1\">\n                    <div className=\"flex gap-1\">\n                      <button\n                        onClick={() => onEdit(supplier)}\n                        className=\"h-7 w-7 flex items-center justify-center rounded-md border border-gray-300 hover:bg-slate-100 text-gray-700 transition\"\n                      >\n                        <Pen className=\"w-3.5 h-3.5\" />\n                      </button>\n                      <button\n                        onClick={() => onDelete(supplier)}\n                        className=\"h-7 w-7 flex items-center justify-center rounded-md border border-red-200 text-red-600 hover:bg-red-50 transition\"\n                      >\n                        <Trash2 className=\"w-3.5 h-3.5\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan={8} className=\"text-center text-gray-500 py-4\">\n                  No suppliers found.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default SupplierTable;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/SupplierCreateModel.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { X, CheckCircle, AlertTriangle } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst SupplierCreateModal = ({ onClose, supplier = null }) => {\n  const [loading, setLoading] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const [formData, setFormData] = useState({\n    supplierId: \"\",\n    name: \"\",\n    contactPerson: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    companyName: \"\",\n    productsSupplied: \"\",\n    paymentTerms: \"Cash\",    \n    status: \"Active\",\n    notes: \"\",\n  });\n\n  const [formErrors, setFormErrors] = useState({});\n\n  /* ---------------- Initialize Form ---------------- */\n  useEffect(() => {\n    if (supplier) {\n      setFormData({\n        supplierId: supplier.supplierId || \"\",\n        name: supplier.name || \"\",\n        contactPerson: supplier.contactPerson || \"\",\n        phone: supplier.phone || \"\",\n        email: supplier.email || \"\",\n        address: supplier.address || \"\",\n        companyName: supplier.companyName || \"\",\n        productsSupplied: supplier.productsSupplied?.join(\", \") || \"\",\n        paymentTerms: supplier.paymentTerms || \"Cash\",        \n        status: supplier.status || \"Active\",\n        notes: supplier.notes || \"\",\n      });\n    } else {\n      setFormData((prev) => ({\n        ...prev,\n        supplierId: `SUP-${Date.now()}`,\n      }));\n    }\n  }, [supplier]);\n\n  /* ---------------- Handle Change ---------------- */\n  const handleChange = (e) => {\n    let { name, value } = e.target;\n    if (name === \"openingBalance\") value = Number(value);\n    setFormData((prev) => ({ ...prev, [name]: value }));\n    setFormErrors((prev) => ({ ...prev, [name]: \"\" }));\n  };\n\n  /* ---------------- Handle Submit ---------------- */\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Basic validation\n    let errors = {};\n    if (!formData.name) errors.name = \"Name is required.\";\n    if (!formData.phone) errors.phone = \"Phone is required.\";\n    if (!formData.address) errors.address = \"Address is required.\";\n\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n\n    const payload = {\n      ...formData,\n      productsSupplied: formData.productsSupplied\n        ? formData.productsSupplied.split(\",\").map((p) => p.trim())\n        : [],\n    };\n\n    try {\n      setLoading(true);\n\n      if (supplier) {\n        await apiRequest(`/suppliers/updateSupplier/${supplier._id}`, {\n          method: \"PUT\",\n          data: payload,\n        });\n      } else {\n        await apiRequest(\"/suppliers/createSupplier\", {\n          method: \"POST\",\n          data: payload,\n        });\n      }\n\n      setShowSuccess(true);\n      setTimeout(() => {\n        setShowSuccess(false);\n        onClose();\n      }, 1500);\n    } catch (error) {\n      console.error(\"Supplier save error:\", error);\n      setErrorMessage(\n        error?.response?.data?.message || \"Failed to save supplier.\"\n      );\n      setShowError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* Success Modal */}\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center animate-fadeIn scale-110\">\n            <CheckCircle className=\"text-green-600 text-5xl mx-auto mb-3\" />\n            <h2 className=\"text-xl font-bold text-green-700\">Success!</h2>\n            <p className=\"text-gray-600 mt-2\">\n              {supplier\n                ? \"Supplier updated successfully.\"\n                : \"Supplier created successfully.\"}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Error Modal */}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center animate-fadeIn scale-110\">\n            <AlertTriangle className=\"text-red-600 text-5xl mx-auto mb-3\" />\n            <h2 className=\"text-xl font-bold text-red-700\">Error</h2>\n            <p className=\"text-gray-600 mt-2\">{errorMessage}</p>\n            <button\n              onClick={() => setShowError(false)}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Main Modal */}\n      <div className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[9998] flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n          {/* Header */}\n          <div className=\"sticky top-0 bg-gradient-to-r from-teal-500 to-teal-600 text-white p-6 rounded-t-2xl flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold\">\n              {supplier ? \"Edit Supplier\" : \"New Supplier\"}\n            </h2>\n            <button onClick={onClose} className=\"p-2 hover:bg-white/20 rounded-lg\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          {/* Form */}\n          <form className=\"p-6 space-y-6\" onSubmit={handleSubmit}>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {/* Supplier ID */}\n              <div>\n                <label className=\"text-sm font-medium\">Supplier ID *</label>\n                <input\n                  type=\"text\"\n                  value={formData.supplierId}\n                  readOnly\n                  className=\"w-full h-9 rounded-md border bg-gray-100 px-3\"\n                />\n              </div>\n\n              {/* Name */}\n              <div>\n                <label className=\"text-sm font-medium\">Name *</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                />\n                {formErrors.name && (\n                  <p className=\"text-red-600 text-xs mt-1\">{formErrors.name}</p>\n                )}\n              </div>\n\n              {/* Contact Person */}\n              <div>\n                <label className=\"text-sm font-medium\">Contact Person</label>\n                <input\n                  type=\"text\"\n                  name=\"contactPerson\"\n                  value={formData.contactPerson}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                />\n              </div>\n\n              {/* Phone */}\n              <div>\n                <label className=\"text-sm font-medium\">Phone *</label>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={formData.phone}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                />\n                {formErrors.phone && (\n                  <p className=\"text-red-600 text-xs mt-1\">{formErrors.phone}</p>\n                )}\n              </div>\n\n              {/* Email */}\n              <div>\n                <label className=\"text-sm font-medium\">Email</label>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                />\n              </div>\n\n              {/* Address */}\n              <div>\n                <label className=\"text-sm font-medium\">Address *</label>\n                <textarea\n                  name=\"address\"\n                  rows={2}\n                  value={formData.address}\n                  onChange={handleChange}\n                  className=\"w-full rounded-md border px-3 py-2\"\n                />\n                {formErrors.address && (\n                  <p className=\"text-red-600 text-xs mt-1\">{formErrors.address}</p>\n                )}\n              </div>\n\n              {/* Company Name */}\n              <div>\n                <label className=\"text-sm font-medium\">Company Name</label>\n                <input\n                  type=\"text\"\n                  name=\"companyName\"\n                  value={formData.companyName}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                />\n              </div>\n\n              {/* Products Supplied */}\n              <div>\n                <label className=\"text-sm font-medium\">Products Supplied</label>\n                <input\n                  type=\"text\"\n                  name=\"productsSupplied\"\n                  value={formData.productsSupplied}\n                  onChange={handleChange}\n                  placeholder=\"Comma separated\"\n                  className=\"w-full h-9 rounded-md border px-3\"\n                />\n              </div>\n\n              {/* Payment Terms */}\n              <div>\n                <label className=\"text-sm font-medium\">Payment Terms</label>\n                <select\n                  name=\"paymentTerms\"\n                  value={formData.paymentTerms}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                >\n                  <option value=\"Cash\">Cash</option>\n                  <option value=\"15 Days\">15 Days</option>\n                  <option value=\"30 Days\">30 Days</option>\n                </select>\n              </div>\n\n              \n              {/* Status */}\n              <div>\n                <label className=\"text-sm font-medium\">Status</label>\n                <select\n                  name=\"status\"\n                  value={formData.status}\n                  onChange={handleChange}\n                  className=\"w-full h-9 rounded-md border px-3\"\n                >\n                  <option value=\"Active\">Active</option>\n                  <option value=\"Inactive\">Inactive</option>\n                </select>\n              </div>\n\n              {/* Notes */}\n              <div className=\"md:col-span-2\">\n                <label className=\"text-sm font-medium\">Notes</label>\n                <textarea\n                  name=\"notes\"\n                  rows={2}\n                  value={formData.notes}\n                  onChange={handleChange}\n                  className=\"w-full rounded-md border px-3 py-2\"\n                />\n              </div>\n            </div>\n\n            {/* Buttons */}\n            <div className=\"flex flex-col md:flex-row justify-end gap-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border rounded-md w-full md:w-auto\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`px-4 py-2 rounded-md text-white w-full md:w-auto ${\n                  loading ? \"bg-gray-400\" : \"bg-teal-600 hover:bg-teal-700\"\n                }`}\n              >\n                {loading\n                  ? supplier\n                    ? \"Updating...\"\n                    : \"Creating...\"\n                  : supplier\n                  ? \"Update Supplier\"\n                  : \"Create Supplier\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes fadeIn {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default SupplierCreateModal;\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;;AAMA,MAAM,sBAAsB,CAAC,EAAE,OAAO,EAAE,WAAW,IAAI,EAAE;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,YAAY;QACZ,MAAM;QACN,eAAe;QACf,OAAO;QACP,OAAO;QACP,SAAS;QACT,aAAa;QACb,kBAAkB;QAClB,cAAc;QACd,QAAQ;QACR,OAAO;IACT;IAEA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,CAAC;IAE9C,qDAAqD,GACrD,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ,YAAY;gBACV,YAAY,SAAS,UAAU,IAAI;gBACnC,MAAM,SAAS,IAAI,IAAI;gBACvB,eAAe,SAAS,aAAa,IAAI;gBACzC,OAAO,SAAS,KAAK,IAAI;gBACzB,OAAO,SAAS,KAAK,IAAI;gBACzB,SAAS,SAAS,OAAO,IAAI;gBAC7B,aAAa,SAAS,WAAW,IAAI;gBACrC,kBAAkB,SAAS,gBAAgB,EAAE,KAAK,SAAS;gBAC3D,cAAc,SAAS,YAAY,IAAI;gBACvC,QAAQ,SAAS,MAAM,IAAI;gBAC3B,OAAO,SAAS,KAAK,IAAI;YAC3B;QACF,OAAO;YACL,YAAY,CAAC,OAAS,CAAC;oBACrB,GAAG,IAAI;oBACP,YAAY,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;gBACjC,CAAC;QACH;IACF,GAAG;QAAC;KAAS;IAEb,mDAAmD,GACnD,MAAM,eAAe,CAAC;QACpB,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAC9B,IAAI,SAAS,kBAAkB,QAAQ,OAAO;QAC9C,YAAY,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;QACjD,cAAc,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAG,CAAC;IAClD;IAEA,mDAAmD,GACnD,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,mBAAmB;QACnB,IAAI,SAAS,CAAC;QACd,IAAI,CAAC,SAAS,IAAI,EAAE,OAAO,IAAI,GAAG;QAClC,IAAI,CAAC,SAAS,KAAK,EAAE,OAAO,KAAK,GAAG;QACpC,IAAI,CAAC,SAAS,OAAO,EAAE,OAAO,OAAO,GAAG;QAExC,IAAI,OAAO,IAAI,CAAC,QAAQ,MAAM,GAAG,GAAG;YAClC,cAAc;YACd;QACF;QAEA,MAAM,UAAU;YACd,GAAG,QAAQ;YACX,kBAAkB,SAAS,gBAAgB,GACvC,SAAS,gBAAgB,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,MACtD,EAAE;QACR;QAEA,IAAI;YACF,WAAW;YAEX,IAAI,UAAU;gBACZ,MAAM,IAAA,wIAAU,EAAC,CAAC,0BAA0B,EAAE,SAAS,GAAG,EAAE,EAAE;oBAC5D,QAAQ;oBACR,MAAM;gBACR;YACF,OAAO;gBACL,MAAM,IAAA,wIAAU,EAAC,6BAA6B;oBAC5C,QAAQ;oBACR,MAAM;gBACR;YACF;YAEA,eAAe;YACf,WAAW;gBACT,eAAe;gBACf;YACF,GAAG;QACL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,gBACE,OAAO,UAAU,MAAM,WAAW;YAEpC,aAAa;QACf,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE;;YAEG,6BACC,8OAAC;0DAAc;0BACb,cAAA,8OAAC;8DAAc;;sCACb,8OAAC,0OAAW;4BAAC,WAAU;;;;;;sCACvB,8OAAC;sEAAa;sCAAmC;;;;;;sCACjD,8OAAC;sEAAY;sCACV,WACG,mCACA;;;;;;;;;;;;;;;;;YAOX,2BACC,8OAAC;0DAAc;0BACb,cAAA,8OAAC;8DAAc;;sCACb,8OAAC,yOAAa;4BAAC,WAAU;;;;;;sCACzB,8OAAC;sEAAa;sCAAiC;;;;;;sCAC/C,8OAAC;sEAAY;sCAAsB;;;;;;sCACnC,8OAAC;4BACC,SAAS,IAAM,aAAa;sEAClB;sCACX;;;;;;;;;;;;;;;;;0BAQP,8OAAC;0DAAc;0BACb,cAAA,8OAAC;8DAAc;;sCAEb,8OAAC;sEAAc;;8CACb,8OAAC;8EAAa;8CACX,WAAW,kBAAkB;;;;;;8CAEhC,8OAAC;oCAAO,SAAS;8EAAmB;8CAClC,cAAA,8OAAC,iMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAKjB,8OAAC;4BAA+B,UAAU;sEAA1B;;8CACd,8OAAC;8EAAc;;sDAEb,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,UAAU;oDAC1B,QAAQ;8FACE;;;;;;;;;;;;sDAKd,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,IAAI;oDACpB,UAAU;8FACA;;;;;;gDAEX,WAAW,IAAI,kBACd,8OAAC;8FAAY;8DAA6B,WAAW,IAAI;;;;;;;;;;;;sDAK7D,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,aAAa;oDAC7B,UAAU;8FACA;;;;;;;;;;;;sDAKd,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,KAAK;oDACrB,UAAU;8FACA;;;;;;gDAEX,WAAW,KAAK,kBACf,8OAAC;8FAAY;8DAA6B,WAAW,KAAK;;;;;;;;;;;;sDAK9D,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,KAAK;oDACrB,UAAU;8FACA;;;;;;;;;;;;sDAKd,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAM;oDACN,OAAO,SAAS,OAAO;oDACvB,UAAU;8FACA;;;;;;gDAEX,WAAW,OAAO,kBACjB,8OAAC;8FAAY;8DAA6B,WAAW,OAAO;;;;;;;;;;;;sDAKhE,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,WAAW;oDAC3B,UAAU;8FACA;;;;;;;;;;;;sDAKd,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,gBAAgB;oDAChC,UAAU;oDACV,aAAY;8FACF;;;;;;;;;;;;sDAKd,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,YAAY;oDAC5B,UAAU;8FACA;;sEAEV,8OAAC;4DAAO,OAAM;;sEAAO;;;;;;sEACrB,8OAAC;4DAAO,OAAM;;sEAAU;;;;;;sEACxB,8OAAC;4DAAO,OAAM;;sEAAU;;;;;;;;;;;;;;;;;;sDAM5B,8OAAC;;;8DACC,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,MAAM;oDACtB,UAAU;8FACA;;sEAEV,8OAAC;4DAAO,OAAM;;sEAAS;;;;;;sEACvB,8OAAC;4DAAO,OAAM;;sEAAW;;;;;;;;;;;;;;;;;;sDAK7B,8OAAC;sFAAc;;8DACb,8OAAC;8FAAgB;8DAAsB;;;;;;8DACvC,8OAAC;oDACC,MAAK;oDACL,MAAM;oDACN,OAAO,SAAS,KAAK;oDACrB,UAAU;8FACA;;;;;;;;;;;;;;;;;;8CAMhB,8OAAC;8EAAc;;sDACb,8OAAC;4CACC,MAAK;4CACL,SAAS;sFACC;sDACX;;;;;;sDAGD,8OAAC;4CACC,MAAK;4CACL,UAAU;sFACC,CAAC,iDAAiD,EAC3D,UAAU,gBAAgB,iCAC1B;sDAED,UACG,WACE,gBACA,gBACF,WACA,oBACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBpB;uCAEe"}},
    {"offset": {"line": 1359, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/SupplierUpdateModel.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { X, CheckCircle, AlertTriangle } from \"lucide-react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\n\r\nconst SupplierUpdateModal = ({ onClose, supplier = null, onUpdated }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    _id: \"\",\r\n    supplierId: \"\",\r\n    name: \"\",\r\n    contactPerson: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    companyName: \"\",\r\n    productsSupplied: \"\",\r\n    paymentTerms: \"Cash\",    \r\n    status: \"Active\",\r\n    notes: \"\",\r\n  });\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [modal, setModal] = useState({ show: false, success: true, message: \"\" });\r\n\r\n  // Populate form when supplier changes\r\n  useEffect(() => {\r\n    if (supplier) {\r\n      setFormData({\r\n        _id: supplier._id || \"\",\r\n        supplierId: supplier.supplierId || \"\",\r\n        name: supplier.name || \"\",\r\n        contactPerson: supplier.contactPerson || \"\",\r\n        phone: supplier.phone || \"\",\r\n        email: supplier.email || \"\",\r\n        address: supplier.address || \"\",\r\n        companyName: supplier.companyName || \"\",\r\n        productsSupplied: supplier.productsSupplied?.join(\", \") || \"\",\r\n        paymentTerms: supplier.paymentTerms || \"Cash\",        \r\n        status: supplier.status || \"Active\",\r\n        notes: supplier.notes || \"\",\r\n      });\r\n    }\r\n  }, [supplier]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n    setFormErrors((prev) => ({ ...prev, [name]: \"\" }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validation\r\n    const errors = {};\r\n    if (!formData.name) errors.name = \"Name is required.\";\r\n    if (!formData.phone) errors.phone = \"Phone is required.\";\r\n    if (!formData.address) errors.address = \"Address is required.\";\r\n    if (!formData.supplierId) errors.supplierId = \"Supplier ID is required.\";\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    // Prepare payload\r\n    const payload = {\r\n      ...formData,\r\n      productsSupplied: formData.productsSupplied\r\n        ? formData.productsSupplied.split(\",\").map((p) => p.trim())\r\n        : [],\r\n      openingBalance: Number(formData.openingBalance) || 0,\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiRequest(`/suppliers/updateSupplier/${formData._id}`, {\r\n        method: \"PUT\",\r\n        data: payload,\r\n      });\r\n\r\n      if (res?.success !== false) {\r\n        setModal({ show: true, success: true, message: res.message || \"Supplier updated successfully\" });\r\n        onUpdated?.();\r\n      } else {\r\n        setModal({ show: true, success: false, message: res?.message || \"Failed to update supplier\" });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Save supplier error:\", error);\r\n      setModal({ show: true, success: false, message: error.message || \"Something went wrong\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    if (modal.success) onClose?.();\r\n    setModal({ show: false, success: true, message: \"\" });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Main Modal */}\r\n      <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n          {/* Header */}\r\n          <div className=\"sticky top-0 bg-teal-600 text-white p-6 flex justify-between items-center rounded-t-2xl\">\r\n            <h2 className=\"text-2xl font-bold\">Edit Supplier</h2>\r\n            <button onClick={onClose} className=\"p-2 hover:bg-white/20 rounded-lg\">\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Form */}\r\n          <form className=\"p-6 space-y-6\" onSubmit={handleSubmit}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n\r\n              {/* Supplier ID */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Supplier ID *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"supplierId\"\r\n                  value={formData.supplierId}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                  readOnly\r\n                />\r\n                {formErrors.supplierId && <p className=\"text-red-600 text-xs mt-1\">{formErrors.supplierId}</p>}\r\n              </div>\r\n\r\n              {/* Name */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                />\r\n                {formErrors.name && <p className=\"text-red-600 text-xs mt-1\">{formErrors.name}</p>}\r\n              </div>\r\n\r\n              {/* Contact Person */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Contact Person</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"contactPerson\"\r\n                  value={formData.contactPerson}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                />\r\n              </div>\r\n\r\n              {/* Phone */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Phone *</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  name=\"phone\"\r\n                  value={formData.phone}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                />\r\n                {formErrors.phone && <p className=\"text-red-600 text-xs mt-1\">{formErrors.phone}</p>}\r\n              </div>\r\n\r\n              {/* Email */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                />\r\n              </div>\r\n\r\n              {/* Address */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Address *</label>\r\n                <textarea\r\n                  name=\"address\"\r\n                  rows={2}\r\n                  value={formData.address}\r\n                  onChange={handleChange}\r\n                  className=\"w-full rounded-md border px-3 py-2\"\r\n                />\r\n                {formErrors.address && <p className=\"text-red-600 text-xs mt-1\">{formErrors.address}</p>}\r\n              </div>\r\n\r\n              {/* Company Name */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Company Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"companyName\"\r\n                  value={formData.companyName}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                />\r\n              </div>\r\n\r\n              {/* Products Supplied */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Products Supplied</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"productsSupplied\"\r\n                  value={formData.productsSupplied}\r\n                  onChange={handleChange}\r\n                  placeholder=\"Comma separated\"\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                />\r\n              </div>\r\n\r\n              {/* Payment Terms */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Payment Terms</label>\r\n                <select\r\n                  name=\"paymentTerms\"\r\n                  value={formData.paymentTerms}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                >\r\n                  <option value=\"Cash\">Cash</option>\r\n                  <option value=\"15 Days\">15 Days</option>\r\n                  <option value=\"30 Days\">30 Days</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Status */}\r\n              <div>\r\n                <label className=\"text-sm font-medium\">Status</label>\r\n                <select\r\n                  name=\"status\"\r\n                  value={formData.status}\r\n                  onChange={handleChange}\r\n                  className=\"w-full h-9 rounded-md border px-3\"\r\n                >\r\n                  <option value=\"Active\">Active</option>\r\n                  <option value=\"Inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Notes */}\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"text-sm font-medium\">Notes</label>\r\n                <textarea\r\n                  name=\"notes\"\r\n                  rows={2}\r\n                  value={formData.notes}\r\n                  onChange={handleChange}\r\n                  className=\"w-full rounded-md border px-3 py-2\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n              <button type=\"button\" onClick={onClose} className=\"px-4 py-2 border rounded-md\">\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className={`px-4 py-2 rounded-md text-white ${loading ? \"bg-gray-400\" : \"bg-teal-600 hover:bg-teal-700\"}`}\r\n              >\r\n                {loading ? \"Updating...\" : \"Update Supplier\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Success / Error Modal */}\r\n      {modal.show && (\r\n        <div className=\"fixed inset-0 z-60 flex items-center justify-center bg-black/50\">\r\n          <div className=\"bg-white rounded-xl shadow-lg p-6 w-80 text-center\">\r\n            {modal.success ? (\r\n              <CheckCircle className=\"mx-auto w-12 h-12 text-green-500\" />\r\n            ) : (\r\n              <AlertTriangle className=\"mx-auto w-12 h-12 text-red-500\" />\r\n            )}\r\n            <p className=\"mt-4 text-gray-700\">{modal.message}</p>\r\n            <button\r\n              onClick={closeModal}\r\n              className=\"mt-6 px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700\"\r\n            >\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SupplierUpdateModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2011, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/suppliers/SupplierDeleteModel.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { apiRequest } from \"@/app/authservice/api\"; // make sure this path is correct\r\n\r\nconst SupplierDeleteModal = ({ supplier, onClose, onDeleted }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      const res = await apiRequest(`/suppliers/deleteSupplier/${supplier._id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      // Assuming API returns { message, success }\r\n      if (res?.success !== false) {\r\n        onDeleted?.(); // Notify parent to remove supplier from state\r\n        onClose?.();\r\n      } else {\r\n        alert(res?.message || \"Failed to delete supplier.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to delete supplier:\", err);\r\n      alert(err?.message || \"Failed to delete supplier.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50\">\r\n      <div className=\"bg-white rounded-xl shadow-lg w-96 p-6\">\r\n        <h2 className=\"text-lg font-semibold text-red-600 mb-4\">Delete Supplier</h2>\r\n        <p className=\"text-sm text-gray-700 mb-6\">\r\n          Are you sure you want to delete{\" \"}\r\n          <span className=\"font-medium\">{supplier?.name || \"this supplier\"}</span>? This action cannot be undone.\r\n        </p>\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded-md border border-gray-300 hover:bg-gray-100 transition\"\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleDelete}\r\n            className=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 transition\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Deleting...\" : \"Delete\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupplierDeleteModal;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA,sNAAoD,iCAAiC;AAHrF;;;;AAKA,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI;YACF,WAAW;YAEX,MAAM,MAAM,MAAM,IAAA,wIAAU,EAAC,CAAC,0BAA0B,EAAE,SAAS,GAAG,EAAE,EAAE;gBACxE,QAAQ;YACV;YAEA,4CAA4C;YAC5C,IAAI,KAAK,YAAY,OAAO;gBAC1B,eAAe,8CAA8C;gBAC7D;YACF,OAAO;gBACL,MAAM,KAAK,WAAW;YACxB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM,KAAK,WAAW;QACxB,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA0C;;;;;;8BACxD,8OAAC;oBAAE,WAAU;;wBAA6B;wBACR;sCAChC,8OAAC;4BAAK,WAAU;sCAAe,UAAU,QAAQ;;;;;;wBAAuB;;;;;;;8BAE1E,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,UAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,UAAU;sCAET,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMvC;uCAEe"}},
    {"offset": {"line": 2123, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/SuppliersPage.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Users } from \"lucide-react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nimport Header from \"../../components/suppliers/Header\";\r\nimport SupplierCard from \"../../components/suppliers/SupplierCard\";\r\nimport SupplierSearch from \"../../components/suppliers/SupplierSearch\";\r\nimport SupplierTable from \"../../components/suppliers/SupplierTable\";\r\nimport SupplierCreateModal from \"../../components/suppliers/SupplierCreateModel\";\r\nimport SupplierUpdateModal from \"../../components/suppliers/SupplierUpdateModel\";\r\nimport SupplierDeleteModal from \"../../components/suppliers/SupplierDeleteModel\";\r\n\r\nconst SuppliersPage = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [suppliers, setSuppliers] = useState([]);\r\n  const [selectedSupplier, setSelectedSupplier] = useState(null);\r\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n\r\n  /* =========================\r\n     FETCH Suppliers\r\n     ========================= */\r\n  const fetchSuppliers = async (query = \"\") => {\r\n    try {\r\n      const endpoint = query\r\n        ? `/suppliers?search=${encodeURIComponent(query)}`\r\n        : \"/suppliers\";\r\n\r\n      const res = await apiRequest(endpoint, \"GET\");\r\n\r\n      // Adjust depending on API response\r\n      if (Array.isArray(res)) {\r\n        setSuppliers(res);\r\n      } else if (res?.success && Array.isArray(res.data)) {\r\n        setSuppliers(res.data);\r\n      } else {\r\n        setSuppliers([]);\r\n        toast.error(res?.message || \"Failed to fetch suppliers\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch suppliers\", error);\r\n      toast.error(\"Failed to load suppliers\");\r\n      setSuppliers([]);\r\n    }\r\n  };\r\n\r\n  /* Initial load */\r\n  useEffect(() => {\r\n    fetchSuppliers();\r\n  }, []);\r\n\r\n  /* Debounced search */\r\n  useEffect(() => {\r\n    const delay = setTimeout(() => {\r\n      fetchSuppliers(searchTerm);\r\n    }, 400);\r\n\r\n    return () => clearTimeout(delay);\r\n  }, [searchTerm]);\r\n\r\n  /* =========================\r\n     HANDLERS\r\n     ========================= */\r\n  const handleAddClick = () => {\r\n    setIsCreateModalOpen(true);\r\n  };\r\n\r\n  const handleEditClick = (supplier) => {\r\n    setSelectedSupplier(supplier);\r\n    setIsUpdateModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteClick = (supplier) => {\r\n    setSelectedSupplier(supplier);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const closeCreateModal = () => setIsCreateModalOpen(false);\r\n  const closeUpdateModal = () => {\r\n    setSelectedSupplier(null);\r\n    setIsUpdateModalOpen(false);\r\n  };\r\n  const closeDeleteModal = () => {\r\n    setSelectedSupplier(null);\r\n    setIsDeleteModalOpen(false);\r\n  };\r\n\r\n  const refreshSuppliers = () => fetchSuppliers(searchTerm);\r\n\r\n  return (\r\n    <main className=\"space-y-6\">\r\n      {/* Header */}\r\n      <Header onAdd={handleAddClick} />\r\n\r\n      {/* Stats Card */}\r\n      <SupplierCard\r\n        title=\"Total Suppliers\"\r\n        count={suppliers.length}\r\n        icon={<Users className=\"w-6 h-6 text-white\" />}\r\n      />\r\n\r\n      {/* Search */}\r\n      <SupplierSearch value={searchTerm} onChange={handleSearchChange} />\r\n\r\n      {/* Table */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <SupplierTable\r\n          Suppliers={suppliers}\r\n          onEdit={handleEditClick}\r\n          onDelete={handleDeleteClick}\r\n        />\r\n      </div>\r\n\r\n      {/* Create Modal */}\r\n      {isCreateModalOpen && (\r\n        <SupplierCreateModal\r\n          onClose={closeCreateModal}\r\n          onCreated={() => {\r\n            closeCreateModal();\r\n            refreshSuppliers();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Update Modal */}\r\n      {isUpdateModalOpen && selectedSupplier && (\r\n        <SupplierUpdateModal\r\n          supplier={selectedSupplier}\r\n          onClose={closeUpdateModal}\r\n          onUpdated={refreshSuppliers}\r\n        />\r\n      )}\r\n\r\n      {/* Delete Modal */}\r\n      {isDeleteModalOpen && selectedSupplier && (\r\n        <SupplierDeleteModal\r\n          supplier={selectedSupplier}\r\n          onClose={closeDeleteModal}\r\n          onDeleted={refreshSuppliers}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default SuppliersPage;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;;;;;AAeA,MAAM,gBAAgB;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAE3D;;+BAE6B,GAC7B,MAAM,iBAAiB,OAAO,QAAQ,EAAE;QACtC,IAAI;YACF,MAAM,WAAW,QACb,CAAC,kBAAkB,EAAE,mBAAmB,QAAQ,GAChD;YAEJ,MAAM,MAAM,MAAM,IAAA,wIAAU,EAAC,UAAU;YAEvC,mCAAmC;YACnC,IAAI,MAAM,OAAO,CAAC,MAAM;gBACtB,aAAa;YACf,OAAO,IAAI,KAAK,WAAW,MAAM,OAAO,CAAC,IAAI,IAAI,GAAG;gBAClD,aAAa,IAAI,IAAI;YACvB,OAAO;gBACL,aAAa,EAAE;gBACf,gKAAK,CAAC,KAAK,CAAC,KAAK,WAAW;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,gKAAK,CAAC,KAAK,CAAC;YACZ,aAAa,EAAE;QACjB;IACF;IAEA,gBAAgB,GAChB,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,oBAAoB,GACpB,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,WAAW;YACvB,eAAe;QACjB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAW;IAEf;;+BAE6B,GAC7B,MAAM,iBAAiB;QACrB,qBAAqB;IACvB;IAEA,MAAM,kBAAkB,CAAC;QACvB,oBAAoB;QACpB,qBAAqB;IACvB;IAEA,MAAM,oBAAoB,CAAC;QACzB,oBAAoB;QACpB,qBAAqB;IACvB;IAEA,MAAM,qBAAqB,CAAC;QAC1B,cAAc,EAAE,MAAM,CAAC,KAAK;IAC9B;IAEA,MAAM,mBAAmB,IAAM,qBAAqB;IACpD,MAAM,mBAAmB;QACvB,oBAAoB;QACpB,qBAAqB;IACvB;IACA,MAAM,mBAAmB;QACvB,oBAAoB;QACpB,qBAAqB;IACvB;IAEA,MAAM,mBAAmB,IAAM,eAAe;IAE9C,qBACE,8OAAC;QAAK,WAAU;;0BAEd,8OAAC,oJAAM;gBAAC,OAAO;;;;;;0BAGf,8OAAC,0JAAY;gBACX,OAAM;gBACN,OAAO,UAAU,MAAM;gBACvB,oBAAM,8OAAC,6MAAK;oBAAC,WAAU;;;;;;;;;;;0BAIzB,8OAAC,4JAAc;gBAAC,OAAO;gBAAY,UAAU;;;;;;0BAG7C,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,2JAAa;oBACZ,WAAW;oBACX,QAAQ;oBACR,UAAU;;;;;;;;;;;YAKb,mCACC,8OAAC,iKAAmB;gBAClB,SAAS;gBACT,WAAW;oBACT;oBACA;gBACF;;;;;;YAKH,qBAAqB,kCACpB,8OAAC,iKAAmB;gBAClB,UAAU;gBACV,SAAS;gBACT,WAAW;;;;;;YAKd,qBAAqB,kCACpB,8OAAC,iKAAmB;gBAClB,UAAU;gBACV,SAAS;gBACT,WAAW;;;;;;;;;;;;AAKrB;uCAEe"}},
    {"offset": {"line": 2307, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/suppliers/page.jsx"],"sourcesContent":["// app/pos/page.jsx\r\n\"use client\";\r\n\r\nimport SuppliersPage from \"../components/pages/SuppliersPage\";\r\n\r\n\r\n\r\nexport default function Suppliers() {\r\n  return (\r\n  \r\n    <SuppliersPage/>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;AAGnB;AAFA;;;AAMe,SAAS;IACtB,qBAEE,8OAAC,uJAAa;;;;;AAElB"}}]
}