{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error — check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAG3B;AACA;AAHA;;;AAKA,MAAM,WACJ,QAAQ,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D;;QAKA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,gJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C;;QAIA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF;;QAEA,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/purchases/PurchasesModal.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport { X, Plus, Trash2 } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst PurchaseModal = ({ onClose }) => {\n  const [supplier, setSupplier] = useState(\"\");\n  const [suppliersList, setSuppliersList] = useState([]); // <-- suppliers list\n  const [purchaseDate, setPurchaseDate] = useState(() =>\n    new Date().toISOString().slice(0, 10)\n  );\n  const [invoiceNumber, setInvoiceNumber] = useState(\"\");\n  const [items, setItems] = useState([]);\n  const [purchaseStatus, setPurchaseStatus] = useState(\"Draft\");\n  const [paymentStatus, setPaymentStatus] = useState(\"Pending\");\n  const [partialAmount, setPartialAmount] = useState(0);\n  const [taxAmount, setTaxAmount] = useState(0);\n  const [productsList, setProductsList] = useState([]);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [successModal, setSuccessModal] = useState(false);\n  const [errorModal, setErrorModal] = useState({ show: false, message: \"\" });\n\n  // Fetch product list with distinct names\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await apiRequest(\"/products/ProductName\", { method: \"GET\" });\n        const products = res?.data || res;\n        if (!Array.isArray(products)) throw new Error(\"Invalid product response\");\n\n        // Map to {id, name} and remove duplicates by name\n        const distinctProducts = Array.from(\n          new Map(products.map((p) => [p.name, { id: p._id, name: p.name }])).values()\n        );\n\n        setProductsList(distinctProducts);\n      } catch (err) {\n        console.error(err);\n        setErrorModal({ show: true, message: \"Failed to fetch product list\" });\n      }\n    };\n    fetchProducts();\n  }, []);\n\n\n  // Fetch suppliers list\n  useEffect(() => {\n    const fetchSuppliers = async () => {\n      try {\n        const res = await apiRequest(\"/suppliers\", { method: \"GET\" });\n        const data = res?.data || res;\n        if (!Array.isArray(data)) throw new Error(\"Invalid supplier response\");\n        setSuppliersList(data.map((s) => s.name)); // only names\n      } catch (err) {\n        console.error(err);\n        setErrorModal({ show: true, message: \"Failed to fetch suppliers\" });\n      }\n    };\n    fetchSuppliers();\n  }, []);\n\n  // Add new item row\n  const handleAddItem = () => {\n    setItems((prev) => [\n      ...prev,\n      {\n        id: Date.now() + Math.random(),\n        productId: \"\",\n        name: \"\",\n        quantity: 1,\n        price: 0,\n        manufacturer: \"\",\n      },\n    ]);\n  };\n\n  const handleRemoveItem = (id) =>\n    setItems((prev) => prev.filter((it) => it.id !== id));\n\n  const handleItemChange = (id, field, value) => {\n    setItems((prev) =>\n      prev.map((it) =>\n        it.id !== id\n          ? it\n          : {\n            ...it,\n            [field]: [\"quantity\", \"price\"].includes(field)\n              ? Number(value || 0)\n              : value,\n          }\n      )\n    );\n    setErrors((prev) => ({ ...prev, [`${id}-${field}`]: \"\" }));\n  };\n\n  const rowTotal = (it) => Number(it.quantity || 0) * Number(it.price || 0);\n  const subtotal = useMemo(\n    () => items.reduce((acc, it) => acc + rowTotal(it), 0),\n    [items]\n  );\n  const totalAmount = subtotal + Number(taxAmount || 0);\n\n  const balance = useMemo(() => {\n    if (paymentStatus === \"Paid\") return 0;\n    if (paymentStatus === \"Partial\") return Math.max(totalAmount - partialAmount, 0);\n    return totalAmount;\n  }, [paymentStatus, totalAmount, partialAmount]);\n\n  const validateForm = () => {\n    let temp = {};\n    if (!supplier) temp.supplier = \"Supplier is required\";\n    if (!purchaseDate) temp.purchaseDate = \"Purchase date is required\";\n    if (!invoiceNumber) temp.invoiceNumber = \"Invoice number is required\";\n    if (items.length === 0) temp.items = \"Add at least one product\";\n\n    items.forEach((it) => {\n      if (!it.productId) temp[`${it.id}-productId`] = \"Product is required\";\n      if (!it.quantity || it.quantity <= 0)\n        temp[`${it.id}-quantity`] = \"Quantity must be greater than 0\";\n      if (!it.price || it.price < 0) temp[`${it.id}-price`] = \"Price must be ≥ 0\";\n      if (!it.manufacturer) temp[`${it.id}-manufacturer`] = \"Manufacturer is required\";\n    });\n\n    if (paymentStatus === \"Partial\" && (partialAmount <= 0 || partialAmount > totalAmount)) {\n      temp.partialAmount = \"Partial amount must be >0 and < total\";\n    }\n\n    setErrors(temp);\n    return Object.keys(temp).length === 0;\n  };\n\n  const handleSubmit = async () => {\n    if (!validateForm()) return;\n\n    setLoading(true);\n    try {\n      const payload = {\n        supplier,\n        purchaseDate,\n        invoiceNumber: Number(invoiceNumber),\n        totalAmount,\n        paidAmount:\n          paymentStatus === \"Paid\"\n            ? totalAmount\n            : paymentStatus === \"Partial\"\n              ? partialAmount\n              : 0,\n        paymentStatus,\n        purchaseStatus,\n        balance,\n        taxAmount,\n        products: items.map((it) => ({\n          productId: it.productId,\n          name: it.name,\n          quantity: it.quantity,\n          price: it.price,\n          manufacturer: it.manufacturer,\n        })),\n      };\n\n      const response = await apiRequest(\"/purchases/createPurchase\", {\n        method: \"POST\",\n        data: payload,\n      });\n\n      if (response?.success !== false) {\n        setSuccessModal(true);\n        setTimeout(() => {\n          setSuccessModal(false);\n          onClose();\n        }, 2000);\n      } else {\n        setErrorModal({\n          show: true,\n          message: response?.message || \"Failed to create purchase\",\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      setErrorModal({\n        show: true,\n        message: err?.response?.data?.message || \"Failed to create purchase\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* SUCCESS MODAL */}\n      {successModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\n            <h3 className=\"text-green-600 text-xl font-bold mb-2\">Success</h3>\n            <p className=\"mb-4\">Purchase added successfully.</p>\n            <button\n              onClick={() => setSuccessModal(false)}\n              className=\"px-4 py-2 bg-teal-600 text-white rounded\"\n            >\n              OK\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* ERROR MODAL */}\n      {errorModal.show && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\n            <h3 className=\"text-red-600 text-xl font-bold mb-2\">Unsuccessful</h3>\n            <p className=\"mb-4\">{errorModal.message}</p>\n            <button\n              onClick={() => setErrorModal({ show: false, message: \"\" })}\n              className=\"px-4 py-2 bg-red-600 text-white rounded\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Main Modal */}\n      <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl max-h-[90vh] flex flex-col overflow-hidden\">\n          {/* Header */}\n          <div className=\"sticky top-0 bg-gradient-to-r from-teal-500 to-teal-600 text-white p-6 flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold\">New Purchase</h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-6 space-y-6\">\n            {/* Top Inputs */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Supplier *</label>\n                <select\n                  value={supplier}\n                  onChange={(e) => setSupplier(e.target.value)}\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-white px-3 py-1 text-sm shadow-sm\"\n                >\n                  <option value=\"\">Select supplier</option>\n                  {suppliersList.map((name, i) => (\n                    <option key={i} value={name}>\n                      {name}\n                    </option>\n                  ))}\n                </select>\n                {errors.supplier && (\n                  <p className=\"text-xs text-red-600\">{errors.supplier}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Purchase Date *</label>\n                <input\n                  type=\"date\"\n                  value={purchaseDate}\n                  onChange={(e) => setPurchaseDate(e.target.value)}\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 px-3 py-1 text-sm shadow-sm\"\n                />\n                {errors.purchaseDate && (\n                  <p className=\"text-xs text-red-600\">{errors.purchaseDate}</p>\n                )}\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Invoice Number *</label>\n                <input\n                  type=\"text\"\n                  value={invoiceNumber}\n                  onChange={(e) => setInvoiceNumber(e.target.value)}\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 px-3 py-1 text-sm shadow-sm\"\n                  placeholder=\"Enter invoice #\"\n                />\n                {errors.invoiceNumber && (\n                  <p className=\"text-xs text-red-600\">{errors.invoiceNumber}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Items Section */}\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between items-center\">\n                <label className=\"text-lg font-semibold\">Items</label>\n                <button\n                  type=\"button\"\n                  onClick={handleAddItem}\n                  className=\"flex items-center gap-1 border border-gray-200 h-8 px-3 rounded-md text-xs shadow-sm hover:bg-slate-100\"\n                >\n                  <Plus className=\"w-4 h-4\" /> Add Item\n                </button>\n              </div>\n              <div className=\"flex gap-2 text-sm font-semibold text-gray-600 px-2\">\n                <div className=\"flex-1\">Product Name</div>\n                <div className=\"w-20 text-center\">QTY</div>\n                <div className=\"w-24 text-center\">Price</div>\n                <div className=\"w-24 text-center\">Manufacturer</div>\n                <div className=\"w-20 text-center\">Total</div>\n                <div className=\"w-9\" />\n              </div>\n              {items.map((it) => (\n                <div\n                  key={it.id}\n                  className=\"flex items-center gap-2 p-2 bg-slate-50 rounded-lg flex-wrap\"\n                >\n                  <select\n                    value={it.productId}\n                    onChange={(e) => {\n                      const p = productsList.find((x) => x.id === e.target.value);\n                      handleItemChange(it.id, \"productId\", p?.id || \"\");\n                      handleItemChange(it.id, \"name\", p?.name || \"\");\n                    }}\n                    className=\"flex-1 h-9 rounded-md border border-gray-200 px-3 text-sm shadow-sm bg-white\"\n                  >\n                    <option value=\"\">Select product</option>\n                    {productsList.map((p) => (\n                      <option key={p.id} value={p.id}>\n                        {p.name}\n                      </option>\n                    ))}\n                  </select>\n\n                  <input\n                    type=\"number\"\n                    placeholder=\"0\"\n                    value={it.quantity}\n                    onChange={(e) => handleItemChange(it.id, \"quantity\", e.target.value)}\n                    className=\"w-20 h-9 rounded-md border border-gray-200 px-2 text-sm shadow-sm text-center\"\n                  />\n\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    placeholder=\"0\"\n                    value={it.price}\n                    onChange={(e) => handleItemChange(it.id, \"price\", e.target.value)}\n                    className=\"w-24 h-9 rounded-md border border-gray-200 px-2 text-sm shadow-sm text-center\"\n                  />\n\n                  <input\n                    type=\"text\"\n                    value={it.manufacturer}\n                    onChange={(e) => handleItemChange(it.id, \"manufacturer\", e.target.value)}\n                    className=\"w-24 h-9 rounded-md border border-gray-200 px-2 text-sm shadow-sm text-center\"\n                  />\n\n                  <p className=\"w-20 text-sm font-medium text-center\">\n                    Rs. {rowTotal(it).toFixed(2)}\n                  </p>\n\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveItem(it.id)}\n                    className=\"h-9 w-9 flex items-center justify-center text-red-500 hover:bg-red-50 rounded-md\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              ))}\n            </div>\n\n            {/* Totals */}\n            {items.length > 0 && (\n              <div className=\"bg-slate-50 rounded-lg p-4 space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-slate-600\">Subtotal</span>\n                  <span className=\"font-medium\">Rs. {subtotal.toFixed(2)}</span>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  <label className=\"text-sm text-slate-600 w-16\">Tax</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    min=\"0\"\n                    value={taxAmount}\n                    onChange={(e) => setTaxAmount(Number(e.target.value || 0))}\n                    className=\"h-9 w-36 rounded-md border border-gray-200 px-3 text-sm shadow-sm\"\n                  />\n                  <div className=\"flex-1\" />\n                  <span className=\"font-medium\">Rs. {taxAmount.toFixed(2)}</span>\n                </div>\n\n                <div className=\"flex justify-between text-lg font-bold pt-2 border-t border-gray-200\">\n                  <span>Total</span>\n                  <span className=\"text-teal-600\">Rs. {totalAmount.toFixed(2)}</span>\n                </div>\n              </div>\n            )}\n\n            {/* Status & Payment */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Purchase Status</label>\n                <select\n                  value={purchaseStatus}\n                  onChange={(e) => setPurchaseStatus(e.target.value)}\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm shadow-sm\"\n                >\n                  <option>Draft</option>\n                  <option>Received</option>\n                  <option>Completed</option>\n                </select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Payment Status</label>\n                <select\n                  value={paymentStatus}\n                  onChange={(e) => setPaymentStatus(e.target.value)}\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-white px-3 text-sm shadow-sm\"\n                >\n                  <option>Pending</option>\n                  <option>Partial</option>\n                  <option>Paid</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Partial Amount */}\n            {paymentStatus === \"Partial\" && (\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-medium\">Partial Amount</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  max={totalAmount}\n                  value={partialAmount}\n                  onChange={(e) => setPartialAmount(Number(e.target.value))}\n                  className=\"h-9 w-full rounded-md border border-gray-200 px-3 text-sm shadow-sm\"\n                />\n                {errors.partialAmount && (\n                  <p className=\"text-xs text-red-600\">{errors.partialAmount}</p>\n                )}\n              </div>\n            )}\n\n            {/* Balance */}\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium\">Balance</label>\n              <input\n                type=\"number\"\n                value={balance}\n                readOnly\n                className=\"h-9 w-full rounded-md border border-gray-200 px-3 text-sm shadow-sm bg-gray-100\"\n              />\n            </div>\n\n            {/* Footer */}\n            <div className=\"flex justify-end gap-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"h-9 px-4 py-2 rounded-md border border-gray-200 shadow-sm hover:bg-slate-100\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleSubmit}\n                disabled={loading}\n                className=\"h-9 px-4 py-2 rounded-md shadow text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700\"\n              >\n                {loading ? \"Creating...\" : \"Create Purchase\"}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PurchaseModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1163, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/purchases/PartialPaymentModal.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { X, CheckCircle, AlertTriangle } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst PartialPaymentModal = ({ onClose, onUpdate }) => {\n  const [purchases, setPurchases] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n  const [selectedSupplier, setSelectedSupplier] = useState(\"\");\n\n  const [outstandingAmount, setOutstandingAmount] = useState(0);\n  const [paidAmount, setPaidAmount] = useState(\"\");\n  const [balance, setBalance] = useState(0);\n  const [paymentStatus, setPaymentStatus] = useState(\"Pending\");\n\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  /* ================= Fetch Purchases ================= */\n  useEffect(() => {\n    const fetchPurchases = async () => {\n      try {\n        const res = await apiRequest(\"/purchases\", { method: \"GET\" });\n        const all = res?.data || [];\n\n        setPurchases(all);\n\n        // Get unique suppliers\n        const uniqueSuppliers = Array.from(new Set(all.map((p) => p.supplier)));\n        setSuppliers(uniqueSuppliers);\n      } catch (err) {\n        console.error(\"Fetch Purchases Error:\", err);\n        setErrorMessage(\"Failed to fetch purchases\");\n        setShowError(true);\n      }\n    };\n\n    fetchPurchases();\n  }, []);\n\n  /* ================= Supplier Change ================= */\n  const handleSupplierChange = (supplier) => {\n    setSelectedSupplier(supplier);\n    setPaidAmount(\"\");\n    setPaymentStatus(\"Pending\");\n\n    // Filter unpaid or partial purchases\n    const supplierPurchases = purchases.filter(\n      (p) => p.supplier === supplier && p.paymentStatus !== \"Paid\"\n    );\n\n    const outstanding = supplierPurchases.reduce(\n      (sum, p) => sum + (Number(p.balance) || 0),\n      0\n    );\n\n    setOutstandingAmount(outstanding);\n    setBalance(outstanding);\n  };\n\n  /* ================= Auto Balance & Status (UI only) ================= */\n  useEffect(() => {\n    const pay = Number(paidAmount) || 0;\n    const remaining = Math.max(outstandingAmount - pay, 0);\n    setBalance(remaining);\n\n    if (pay === 0) setPaymentStatus(\"Pending\");\n    else if (pay < outstandingAmount) setPaymentStatus(\"Partial\");\n    else setPaymentStatus(\"Paid\");\n  }, [paidAmount, outstandingAmount]);\n\n  /* ================= Submit ================= */\n  const handleSubmit = async () => {\n    const payment = Number(paidAmount);\n\n    if (!selectedSupplier || payment <= 0) {\n      setErrorMessage(\"Please select a supplier and enter a valid amount\");\n      setShowError(true);\n      return;\n    }\n\n    if (payment > outstandingAmount) {\n      setErrorMessage(\"Paid amount cannot exceed outstanding balance\");\n      setShowError(true);\n      return;\n    }\n\n    try {\n      // Send numeric value only\n      await apiRequest(`/purchases/supplierPayment/${encodeURIComponent(selectedSupplier)}`, {\n        method: \"PUT\",\n        data: { paidAmount: payment },\n      });\n\n      setShowSuccess(true);\n      setTimeout(() => {\n        setShowSuccess(false);\n        onUpdate?.();\n        onClose();\n      }, 1200);\n    } catch (err) {\n      console.error(\"Partial Payment Error:\", err);\n      setErrorMessage(err?.response?.data?.message || \"Failed to update payment\");\n      setShowError(true);\n    }\n  };\n\n  return (\n    <>\n      {/* ================= Success ================= */}\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <CheckCircle className=\"w-12 h-12 text-green-600 mx-auto mb-2\" />\n            <h2 className=\"font-bold text-green-700 text-lg\">Success</h2>\n            <p>Supplier payment applied successfully</p>\n          </div>\n        </div>\n      )}\n\n      {/* ================= Error ================= */}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <AlertTriangle className=\"w-12 h-12 text-red-600 mx-auto mb-2\" />\n            <h2 className=\"font-bold text-red-700 text-lg\">Error</h2>\n            <p>{errorMessage}</p>\n            <button\n              onClick={() => setShowError(false)}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-md\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* ================= Modal ================= */}\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-bold\">Supplier Partial Payment</h2>\n            <button onClick={onClose} className=\"p-2 hover:bg-gray-200 rounded-full\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"text-sm font-medium\">Supplier</label>\n              <select\n                value={selectedSupplier}\n                onChange={(e) => handleSupplierChange(e.target.value)}\n                className=\"w-full h-9 px-3 border rounded-md text-sm\"\n              >\n                <option value=\"\">Select Supplier</option>\n                {suppliers.map((s) => (\n                  <option key={s} value={s}>\n                    {s}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {selectedSupplier && (\n              <>\n                <div>\n                  <label className=\"text-sm font-medium\">Outstanding Amount</label>\n                  <input\n                    value={outstandingAmount}\n                    readOnly\n                    className=\"w-full h-9 px-3 border rounded-md bg-gray-100 text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\">Pay Now</label>\n                  <input\n                    type=\"number\"\n                    value={paidAmount}\n                    onChange={(e) => setPaidAmount(e.target.value)}\n                    className=\"w-full h-9 px-3 border rounded-md text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\">Remaining Balance</label>\n                  <input\n                    value={balance}\n                    readOnly\n                    className=\"w-full h-9 px-3 border rounded-md bg-gray-100 text-sm\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium\">Payment Status</label>\n                  <input\n                    value={paymentStatus}\n                    readOnly\n                    className=\"w-full h-9 px-3 border rounded-md bg-gray-100 text-sm\"\n                  />\n                </div>\n              </>\n            )}\n          </div>\n\n          <div className=\"flex justify-end gap-3 mt-6\">\n            <button onClick={onClose} className=\"px-4 py-2 border rounded-md\">\n              Cancel\n            </button>\n            <button\n              onClick={handleSubmit}\n              disabled={!selectedSupplier}\n              className=\"px-4 py-2 bg-teal-600 text-white rounded-md disabled:opacity-50\"\n            >\n              Update Payment\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PartialPaymentModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1589, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/PurchasesPage.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Plus, CheckCircle, AlertTriangle, Printer } from \"lucide-react\";\nimport PurchasesModal from \"../../components/purchases/PurchasesModal\";\nimport PartialPaymentModal from \"../../components/purchases/PartialPaymentModal\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst PurchasesPage = () => {\n  const [openModal, setOpenModal] = useState(false);\n  const [openPartialModal, setOpenPartialModal] = useState(false);\n  const [selectedPurchase, setSelectedPurchase] = useState(null);\n  const [purchases, setPurchases] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedSupplier, setSelectedSupplier] = useState(\"\");\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  /* ---------------- FETCH ---------------- */\n  const fetchPurchases = async () => {\n    setLoading(true);\n    try {\n      const response = await apiRequest(\"/purchases\", \"GET\");\n      setPurchases(response?.data || []);\n    } catch (error) {\n      console.error(\"Failed to fetch purchases:\", error);\n      setErrorMessage(\"Failed to fetch purchases\");\n      setShowError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPurchases();\n  }, []);\n\n  /* ---------------- FILTERS ---------------- */\n  const supplierNames = [...new Set(purchases.map((p) => p.supplier))];\n\n  const filteredPurchases = selectedSupplier\n    ? purchases.filter((p) => p.supplier === selectedSupplier)\n    : purchases;\n\n  /* ---------------- GROUP BY SUPPLIER ---------------- */\n  const groupBySupplier = (data) =>\n    data.reduce((acc, item) => {\n      if (!acc[item.supplier]) acc[item.supplier] = [];\n      acc[item.supplier].push(item);\n      return acc;\n    }, {});\n\n  /* ---------------- PARTIAL PAYMENT ---------------- */\n  const handlePartialPayment = () => {\n    const purchaseForPartial = purchases.find(\n      (p) => p.paymentStatus === \"Pending\" || p.paymentStatus === \"Partial\"\n    );\n\n    if (!purchaseForPartial) {\n      setErrorMessage(\"No purchase available for partial payment\");\n      setShowError(true);\n      return;\n    }\n\n    setSelectedPurchase(purchaseForPartial);\n    setOpenPartialModal(true);\n  };\n\n  /* ---------------- PRINT (SUPPLIER) ---------------- */\n  const handlePrintReport = (supplier, items) => {\n    const reportWindow = window.open(\"\", \"_blank\");\n\n    const total = items.reduce((s, p) => s + (p.totalAmount || 0), 0);\n    const paid = items.reduce((s, p) => s + (p.paidAmount || 0), 0);\n\n    reportWindow.document.write(`\n      <html>\n        <head>\n          <title>${supplier} Purchase Report</title>\n          <style>\n            body { font-family: Arial; padding: 20px; }\n            table { width: 100%; border-collapse: collapse; }\n            th, td { border: 1px solid #000; padding: 8px; text-align: center; }\n            th { background: #eee; }\n            h2 { text-align: center; }\n          </style>\n        </head>\n        <body>\n          <h2>${supplier} Purchase Report</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Date</th>\n                <th>Invoice</th>\n                <th>Items</th>\n                <th>Amount</th>\n                <th>Paid</th>\n                <th>Balance</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${items\n                .map(\n                  (p, i) => `\n                <tr>\n                  <td>${i + 1}</td>\n                  <td>${new Date(p.purchaseDate).toLocaleDateString()}</td>\n                  <td>${p.invoiceNumber}</td>\n                  <td>${p.products?.length || 0}</td>\n                  <td>Rs.${p.totalAmount.toFixed(2)}</td>\n                  <td>Rs.${p.paidAmount.toFixed(2)}</td>\n                  <td>Rs.${(\n                    p.totalAmount - p.paidAmount\n                  ).toFixed(2)}</td>\n                  <td>${p.purchaseStatus}</td>\n                </tr>\n              `\n                )\n                .join(\"\")}\n              <tr>\n                <td colspan=\"4\" style=\"text-align:right;font-weight:bold;\">Total</td>\n                <td>Rs.${total.toFixed(2)}</td>\n                <td>Rs.${paid.toFixed(2)}</td>\n                <td>Rs.${(total - paid).toFixed(2)}</td>\n                <td></td>\n              </tr>\n            </tbody>\n          </table>\n        </body>\n      </html>\n    `);\n\n    reportWindow.document.close();\n    reportWindow.print();\n  };\n\n  return (\n    <main className=\"p-4 space-y-4\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-semibold\">Purchases</h1>\n          <p className=\"text-sm text-slate-600\">Manage purchase orders</p>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setOpenModal(true)}\n            className=\"inline-flex items-center gap-1 h-8 px-3 text-sm text-white rounded-md bg-teal-600 hover:bg-teal-700\"\n          >\n            <Plus size={16} /> New Purchase\n          </button>\n\n          <button\n            onClick={handlePartialPayment}\n            className=\"inline-flex items-center gap-1 h-8 px-3 text-sm text-white rounded-md bg-orange-600 hover:bg-orange-700\"\n          >\n            <Plus size={16} /> Partial Payment\n          </button>\n        </div>\n      </div>\n\n      {/* Supplier Select + Purchase Print */}\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <label className=\"text-sm font-medium\">Select Supplier:</label>\n\n        <select\n          value={selectedSupplier}\n          onChange={(e) => setSelectedSupplier(e.target.value)}\n          className=\"border rounded px-2 py-1 text-sm\"\n        >\n          <option value=\"\">All Suppliers</option>\n          {supplierNames.map((name, i) => (\n            <option key={i} value={name}>\n              {name}\n            </option>\n          ))}\n        </select>\n\n        <button\n          disabled={!selectedSupplier}\n          onClick={() =>\n            handlePrintReport(\n              selectedSupplier,\n              purchases.filter((p) => p.supplier === selectedSupplier)\n            )\n          }\n          className={`inline-flex items-center gap-1 px-3 py-1 text-sm rounded-md text-white\n            ${\n              selectedSupplier\n                ? \"bg-blue-600 hover:bg-blue-700\"\n                : \"bg-gray-400 cursor-not-allowed\"\n            }`}\n        >\n          <Printer size={16} /> Purchase Print\n        </button>\n      </div>\n\n      {/* Table */}\n      {loading ? (\n        <p className=\"text-center text-sm\">Loading...</p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full border text-sm bg-white\">\n            <thead className=\"bg-teal-600 text-white text-xs\">\n              <tr>\n                <th>#</th>\n                <th>Supplier</th>\n                <th>Date</th>\n                <th>Invoice</th>\n                <th>Items</th>\n                <th>Amount</th>\n                <th>Paid</th>\n                <th>Balance</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.entries(groupBySupplier(filteredPurchases)).map(\n                ([supplier, items]) => {\n                  const total = items.reduce(\n                    (s, p) => s + (p.totalAmount || 0),\n                    0\n                  );\n                  const paid = items.reduce(\n                    (s, p) => s + (p.paidAmount || 0),\n                    0\n                  );\n\n                  return (\n                    <React.Fragment key={supplier}>\n                      {items.map((p, i) => (\n                        <tr key={p._id} className=\"border-b text-center\">\n                          <td>{i + 1}</td>\n                          <td>{p.supplier}</td>\n                          <td>\n                            {p.purchaseDate\n                              ? new Date(p.purchaseDate).toLocaleDateString()\n                              : \"-\"}\n                          </td>\n                          <td>{p.invoiceNumber}</td>\n                          <td>{p.products?.length || 0}</td>\n                          <td>Rs.{p.totalAmount?.toFixed(2)}</td>\n                          <td>Rs.{p.paidAmount?.toFixed(2)}</td>\n                          <td>\n                            Rs.\n                            {(\n                              (p.totalAmount || 0) -\n                              (p.paidAmount || 0)\n                            ).toFixed(2)}\n                          </td>\n                          <td>{p.purchaseStatus}</td>\n                        </tr>\n                      ))}\n\n                      <tr className=\"bg-gray-100 font-semibold text-center\">\n                        <td colSpan=\"5\" className=\"text-right\">\n                          {supplier} Total\n                        </td>\n                        <td>Rs.{total.toFixed(2)}</td>\n                        <td>Rs.{paid.toFixed(2)}</td>\n                        <td>Rs.{(total - paid).toFixed(2)}</td>\n                        <td></td>\n                      </tr>\n                    </React.Fragment>\n                  );\n                }\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Modals */}\n      {openModal && (\n        <PurchasesModal\n          onClose={() => {\n            setOpenModal(false);\n            fetchPurchases();\n          }}\n        />\n      )}\n\n      {openPartialModal && selectedPurchase && (\n        <PartialPaymentModal\n          purchase={selectedPurchase}\n          onClose={() => setOpenPartialModal(false)}\n          onUpdate={fetchPurchases}\n        />\n      )}\n\n      {/* Alerts */}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <AlertTriangle className=\"w-10 h-10 text-red-600 mx-auto mb-2\" />\n            <p>{errorMessage}</p>\n          </div>\n        </div>\n      )}\n\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center\">\n          <div className=\"bg-white p-6 rounded-xl text-center\">\n            <CheckCircle className=\"w-10 h-10 text-green-600 mx-auto mb-2\" />\n            <p>Success</p>\n          </div>\n        </div>\n      )}\n    </main>\n  );\n};\n\nexport default PurchasesPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2205, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/purchases/page.jsx"],"sourcesContent":["// app/pos/page.jsx\n\"use client\";\n\nimport PurchasesPage from \"../components/pages/PurchasesPage\";\n\n\nexport default function Purchases() {\n  return (\n  <PurchasesPage/>\n  );\n}\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;AAGnB;AAFA;;;AAKe,SAAS;IACtB,qBACA,8OAAC,uJAAa;;;;;AAEhB"}}]
}