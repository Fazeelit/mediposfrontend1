{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/test/TestStatsCards.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { TestTube, Clock, CircleCheckBig } from \"lucide-react\";\r\n\r\nconst TestStatsCards = ({ tests }) => {\r\n  const completed = tests.filter((t) => t.status === \"Completed\").length;\r\n  const pending = tests.filter((t) => t.status === \"Pending\").length;\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n      <Card title=\"Total Tests\" value={tests.length} icon={<TestTube />} color=\"purple\" />\r\n      <Card title=\"Pending\" value={pending} icon={<Clock />} color=\"amber\" />\r\n      <Card title=\"Completed\" value={completed} icon={<CircleCheckBig />} color=\"emerald\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst colorClasses = {\r\n  purple: {\r\n    text: \"text-purple-600\",\r\n    bg: \"from-purple-500 to-purple-600\",\r\n  },\r\n  amber: {\r\n    text: \"text-amber-600\",\r\n    bg: \"from-amber-500 to-amber-600\",\r\n  },\r\n  emerald: {\r\n    text: \"text-emerald-600\",\r\n    bg: \"from-emerald-500 to-emerald-600\",\r\n  },\r\n};\r\n\r\nconst Card = ({ title, value, icon, color }) => {\r\n  const classes = colorClasses[color] || colorClasses[\"purple\"];\r\n  return (\r\n    <div className=\"rounded-xl shadow-lg bg-white/80 backdrop-blur p-4\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <p className=\"text-sm text-slate-600\">{title}</p>\r\n          <p className={`text-2xl font-bold mt-1 ${classes.text}`}>{value}</p>\r\n        </div>\r\n        <div\r\n          className={`w-12 h-12 rounded-xl bg-gradient-to-br ${classes.bg} flex items-center justify-center text-white`}\r\n        >\r\n          {icon}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TestStatsCards;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAKA,MAAM,iBAAiB,CAAC,EAAE,KAAK,EAAE;IAC/B,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,aAAa,MAAM;IACtE,MAAM,UAAU,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,WAAW,MAAM;IAElE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,OAAM;gBAAc,OAAO,MAAM,MAAM;gBAAE,oBAAM,8OAAC,0NAAQ;;;;;gBAAK,OAAM;;;;;;0BACzE,8OAAC;gBAAK,OAAM;gBAAU,OAAO;gBAAS,oBAAM,8OAAC,6MAAK;;;;;gBAAK,OAAM;;;;;;0BAC7D,8OAAC;gBAAK,OAAM;gBAAY,OAAO;gBAAW,oBAAM,8OAAC,gPAAc;;;;;gBAAK,OAAM;;;;;;;;;;;;AAGhF;AAEA,MAAM,eAAe;IACnB,QAAQ;QACN,MAAM;QACN,IAAI;IACN;IACA,OAAO;QACL,MAAM;QACN,IAAI;IACN;IACA,SAAS;QACP,MAAM;QACN,IAAI;IACN;AACF;AAEA,MAAM,OAAO,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE;IACzC,MAAM,UAAU,YAAY,CAAC,MAAM,IAAI,YAAY,CAAC,SAAS;IAC7D,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;sCAA0B;;;;;;sCACvC,8OAAC;4BAAE,WAAW,CAAC,wBAAwB,EAAE,QAAQ,IAAI,EAAE;sCAAG;;;;;;;;;;;;8BAE5D,8OAAC;oBACC,WAAW,CAAC,uCAAuC,EAAE,QAAQ,EAAE,CAAC,4CAA4C,CAAC;8BAE5G;;;;;;;;;;;;;;;;;AAKX;uCAEe"}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/test/TestTable.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\n\r\nconst TestsTable = ({ tests, renderActionColumn, renderPrintColumn }) => {\r\n  const headers = [\r\n    \"Patient\",\r\n    \"Age\",\r\n    \"Gender\",\r\n    \"Doctor\",\r\n    \"Test Name\",\r\n    \"Date\",\r\n    \"Fee (Rs.)\",\r\n    \"Status\",\r\n    \"Payment Status\",\r\n    \"Parameters\",\r\n    \"Actions\", // Edit + Delete\r\n  ];\r\n\r\n  return (\r\n    <div className=\"rounded-xl shadow-lg bg-white/80 backdrop-blur overflow-x-auto\">\r\n      <table className=\"w-full min-w-[1400px] text-sm whitespace-nowrap\">\r\n        <thead className=\"bg-slate-50 border-b border-gray-300\">\r\n          <tr>\r\n            {headers.map((h) => (\r\n              <th\r\n                key={h}\r\n                className=\"p-3 text-left font-semibold text-slate-600\"\r\n              >\r\n                {h}\r\n              </th>\r\n            ))}\r\n            {renderPrintColumn && (\r\n              <th className=\"p-3 text-left font-semibold text-slate-600\">\r\n                Print Report\r\n              </th>\r\n            )}\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {tests.length === 0 ? (\r\n            <tr>\r\n              <td\r\n                colSpan={headers.length + (renderPrintColumn ? 1 : 0)}\r\n                className=\"p-4 text-center text-slate-500\"\r\n              >\r\n                No tests available\r\n              </td>\r\n            </tr>\r\n          ) : (\r\n            tests.map((test, index) => {\r\n              const rowKey = test._id || `${test.name}-${test.date}-${index}`;\r\n              return (\r\n                <tr\r\n                  key={rowKey}\r\n                  className=\"border-b border-gray-200 hover:bg-slate-50\"\r\n                >\r\n                  <td className=\"p-2\">{test.patient || \"-\"}</td>\r\n                  <td className=\"p-2\">{test.age || \"-\"}</td>\r\n                  <td className=\"p-2\">{test.gender || \"-\"}</td>\r\n                  <td className=\"p-2\">{test.doctor || \"-\"}</td>\r\n                  <td className=\"p-2 font-medium\">{test.name || \"-\"}</td>\r\n                  <td className=\"p-2\">\r\n                    {test.date\r\n                      ? new Date(test.date).toLocaleDateString(\"en-GB\")\r\n                      : \"-\"}\r\n                  </td>\r\n                  <td className=\"p-2 font-semibold\">Rs. {test.fee || 0}</td>\r\n                  <td className=\"p-2\">{test.status || \"Pending\"}</td>\r\n                  <td className=\"p-2\">{test.paymentStatus || \"Pending\"}</td>\r\n                  <td className=\"p-2\">\r\n                    {test.parameters?.length ? (\r\n                      test.parameters.map((p, i) => (\r\n                        <div\r\n                          key={`${rowKey}-param-${i}`}\r\n                          className=\"text-xs text-slate-600\"\r\n                        >\r\n                          {p.name}: {p.result || \"-\"} ({p.min || \"-\"}–{p.max || \"-\"}{\" \"}\r\n                          {p.unit || \"-\"})\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      \"-\"\r\n                    )}\r\n                  </td>\r\n\r\n                  {/* Actions Column */}\r\n                  <td className=\"p-2\">{renderActionColumn && renderActionColumn(test)}</td>\r\n\r\n                  {/* Print Column */}\r\n                  {renderPrintColumn && (\r\n                    <td className=\"p-2\">{renderPrintColumn(test)}</td>\r\n                  )}\r\n                </tr>\r\n              );\r\n            })\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TestsTable;\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE,iBAAiB,EAAE;IAClE,MAAM,UAAU;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAM,WAAU;8BACf,cAAA,8OAAC;;4BACE,QAAQ,GAAG,CAAC,CAAC,kBACZ,8OAAC;oCAEC,WAAU;8CAET;mCAHI;;;;;4BAMR,mCACC,8OAAC;gCAAG,WAAU;0CAA6C;;;;;;;;;;;;;;;;;8BAOjE,8OAAC;8BACE,MAAM,MAAM,KAAK,kBAChB,8OAAC;kCACC,cAAA,8OAAC;4BACC,SAAS,QAAQ,MAAM,GAAG,CAAC,oBAAoB,IAAI,CAAC;4BACpD,WAAU;sCACX;;;;;;;;;;mEAKH,MAAM,GAAG,CAAC,CAAC,MAAM;wBACf,MAAM,SAAS,KAAK,GAAG,IAAI,GAAG,KAAK,IAAI,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,EAAE,OAAO;wBAC/D,qBACE,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC;oCAAG,WAAU;8CAAO,KAAK,OAAO,IAAI;;;;;;8CACrC,8OAAC;oCAAG,WAAU;8CAAO,KAAK,GAAG,IAAI;;;;;;8CACjC,8OAAC;oCAAG,WAAU;8CAAO,KAAK,MAAM,IAAI;;;;;;8CACpC,8OAAC;oCAAG,WAAU;8CAAO,KAAK,MAAM,IAAI;;;;;;8CACpC,8OAAC;oCAAG,WAAU;8CAAmB,KAAK,IAAI,IAAI;;;;;;8CAC9C,8OAAC;oCAAG,WAAU;8CACX,KAAK,IAAI,GACN,IAAI,KAAK,KAAK,IAAI,EAAE,kBAAkB,CAAC,WACvC;;;;;;8CAEN,8OAAC;oCAAG,WAAU;;wCAAoB;wCAAK,KAAK,GAAG,IAAI;;;;;;;8CACnD,8OAAC;oCAAG,WAAU;8CAAO,KAAK,MAAM,IAAI;;;;;;8CACpC,8OAAC;oCAAG,WAAU;8CAAO,KAAK,aAAa,IAAI;;;;;;8CAC3C,8OAAC;oCAAG,WAAU;8CACX,KAAK,UAAU,EAAE,SAChB,KAAK,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,kBACtB,8OAAC;4CAEC,WAAU;;gDAET,EAAE,IAAI;gDAAC;gDAAG,EAAE,MAAM,IAAI;gDAAI;gDAAG,EAAE,GAAG,IAAI;gDAAI;gDAAE,EAAE,GAAG,IAAI;gDAAK;gDAC1D,EAAE,IAAI,IAAI;gDAAI;;2CAJV,GAAG,OAAO,OAAO,EAAE,GAAG;;;;wFAQ/B;;;;;;8CAKJ,8OAAC;oCAAG,WAAU;8CAAO,sBAAsB,mBAAmB;;;;;;gCAG7D,mCACC,8OAAC;oCAAG,WAAU;8CAAO,kBAAkB;;;;;;;2BArCpC;;;;;oBAyCX;;;;;;;;;;;;;;;;;AAMZ;uCAEe"}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error — check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAG3B;AACA;AAHA;;;AAKA,MAAM,WACJ,QAAQ,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D;;QAKA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,gJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C;;QAIA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF;;QAEA,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/test/TestModel.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\nimport { Trash2 } from \"lucide-react\";\r\n\r\nconst TestModal = ({ onClose, editData }) => {\r\n  const [patients, setPatients] = useState([]);\r\n  const [tests, setTests] = useState([]);\r\n\r\n  const [form, setForm] = useState({\r\n    patient: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    doctor: \"\",\r\n    name: \"\",\r\n    date: \"\",\r\n    mobile: \"\",\r\n    status: \"Pending\",\r\n    paymentStatus: \"Pending\",\r\n    parameters: [],\r\n    fee: 0,\r\n    discount: 0,\r\n    totalfee: 0,\r\n  });\r\n\r\n  const [successModal, setSuccessModal] = useState(false);\r\n  const [errorModal, setErrorModal] = useState({ show: false, message: \"\" });\r\n\r\n  /* ================= FETCH DATA ================= */\r\n  useEffect(() => {\r\n    apiRequest(\"/patients\").then((res) => {\r\n      if (res?.success) setPatients(res.data);\r\n    });\r\n\r\n    apiRequest(\"/testParameters\").then((res) => {\r\n      if (res?.success) setTests(res.data);\r\n    });\r\n  }, []);\r\n\r\n  /* ================= LOAD EDIT DATA ================= */\r\n  useEffect(() => {\r\n    if (editData) setForm(editData);\r\n  }, [editData]);\r\n\r\n  /* ================= HANDLE TEST SELECTION ================= */\r\n  const handleTestChange = (name) => {\r\n    const selectedTest = tests.find((t) => t.name === name);\r\n    if (!selectedTest) return;\r\n\r\n    // prevent duplicate test\r\n    const alreadyAdded = form.parameters.some((p) => p.testName === name);\r\n    if (alreadyAdded) return;\r\n\r\n    const newParams =\r\n      selectedTest.parameters?.map((p) => ({\r\n        testName: name,\r\n        name: p.name || \"\",\r\n        min: p.min || \"\",\r\n        max: p.max || \"\",\r\n        unit: p.unit || \"\",\r\n        cost: p.cost || 0,\r\n        duration: p.duration || \"\",\r\n        result: \"\",\r\n      })) || [];\r\n\r\n    const updatedParams = [...form.parameters, ...newParams];\r\n\r\n    const totalFee = updatedParams.reduce(\r\n      (sum, p) => sum + Number(p.cost || 0),\r\n      0\r\n    );\r\n\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      name,\r\n      parameters: updatedParams,\r\n      fee: totalFee,\r\n      totalfee: Math.max(totalFee - (prev.discount || 0), 0),\r\n    }));\r\n  };\r\n\r\n  /* ================= HANDLE FORM CHANGES ================= */\r\n  const handleChange = (key, value) => {\r\n    if (key === \"mobile\") {\r\n      const digits = value.replace(/\\D/g, \"\").slice(0, 11);\r\n      setForm((prev) => ({ ...prev, mobile: digits }));\r\n    } else {\r\n      setForm((prev) => ({ ...prev, [key]: value }));\r\n    }\r\n  };\r\n\r\n  const handleParamChange = (index, key, value) => {\r\n    const updated = [...form.parameters];\r\n    updated[index][key] = value;\r\n\r\n    const totalFee = updated.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      parameters: updated,\r\n      fee: totalFee,\r\n      totalfee: Math.max(totalFee - (prev.discount || 0), 0),\r\n    }));\r\n  };\r\n\r\n  const handleDiscountChange = (value) => {\r\n    const discount = Number(value) || 0;\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      discount,\r\n      totalfee: Math.max(prev.fee - discount, 0),\r\n    }));\r\n  };\r\n\r\n  const addParameter = () => {\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      parameters: [\r\n        ...prev.parameters,\r\n        { name: \"\", min: \"\", max: \"\", unit: \"\", cost: 0, duration: \"\", result: \"\" },\r\n      ],\r\n    }));\r\n  };\r\n\r\n  const removeParameter = (index) => {\r\n    const updated = form.parameters.filter((_, i) => i !== index);\r\n    const totalFee = updated.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      parameters: updated,\r\n      fee: totalFee,\r\n      totalfee: Math.max(totalFee - (prev.discount || 0), 0),\r\n    }));\r\n  };\r\n\r\n  /* ================= HANDLE SUBMIT ================= */\r\n  const handleSubmit = async () => {\r\n    if (form.mobile.length !== 11) {\r\n      setErrorModal({ show: true, message: \"Mobile number must be 11 digits.\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await apiRequest(\"/tests/createTest\", {\r\n        method: \"POST\",\r\n        data: {\r\n          ...form,\r\n          fee: Number(form.fee),\r\n          discount: Number(form.discount),\r\n          totalfee: Number(form.totalfee),\r\n        },\r\n      });\r\n\r\n      if (res?.success) {\r\n        setSuccessModal(true);\r\n      } else {\r\n        setErrorModal({ show: true, message: res.message || \"Failed to save test.\" });\r\n      }\r\n    } catch (err) {\r\n      setErrorModal({ show: true, message: err.message || \"Failed to save test.\" });\r\n    }\r\n  };\r\n\r\n  /* ================= GROUP PARAMETERS BY TEST ================= */\r\n  const groupedTests = form.parameters.reduce((acc, param) => {\r\n    if (!acc[param.testName]) acc[param.testName] = [];\r\n    acc[param.testName].push(param);\r\n    return acc;\r\n  }, {});\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\r\n\r\n          {/* HEADER */}\r\n          <div className=\"bg-teal-600 text-white p-6 flex justify-between\">\r\n            <h2 className=\"text-xl font-bold\">\r\n              {editData ? \"Update Lab Test Report\" : \"New Lab Test Report\"}\r\n            </h2>\r\n            <button onClick={onClose}>✕</button>\r\n          </div>\r\n\r\n          <form\r\n            className=\"p-6 space-y-8\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              handleSubmit();\r\n            }}\r\n          >\r\n            {/* PATIENT INFO */}\r\n            <section>\r\n              <h3 className=\"font-semibold mb-4\">Patient Information</h3>\r\n              <div className=\"grid md:grid-cols-3 gap-4\">\r\n                <div>\r\n                  <label className=\"label\">Patient Name</label>\r\n                  <select\r\n                    className=\"input\"\r\n                    value={form.patient}\r\n                    onChange={(e) => handleChange(\"patient\", e.target.value)}\r\n                  >\r\n                    <option value=\"\">Select Patient</option>\r\n                    {patients.map((p) => (\r\n                      <option key={p._id} value={p.name}>{p.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"label\">Age</label>\r\n                  <input className=\"input\" value={form.age} onChange={(e) => handleChange(\"age\", e.target.value)} />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"label\">Gender</label>\r\n                  <select className=\"input\" value={form.gender} onChange={(e) => handleChange(\"gender\", e.target.value)}>\r\n                    <option value=\"\">Select</option>\r\n                    <option>Male</option>\r\n                    <option>Female</option>\r\n                    <option>Other</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"label\">Doctor Name</label>\r\n                  <input className=\"input\" value={form.doctor} onChange={(e) => handleChange(\"doctor\", e.target.value)} />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"label\">Date</label>\r\n                  <input type=\"date\" className=\"input\" value={form.date} onChange={(e) => handleChange(\"date\", e.target.value)} />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"label\">Mobile</label>\r\n                  <input\r\n                    className=\"input\"\r\n                    placeholder=\"03xx-xxxxxxx\"\r\n                    value={form.mobile}\r\n                    onChange={(e) => handleChange(\"mobile\", e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            {/* TEST SELECTION */}\r\n            <section>\r\n              <h3 className=\"font-semibold mb-4\">Test Information</h3>\r\n              <div className=\"md:w-1/3\">\r\n                <label className=\"label\">Test Name</label>\r\n                <select\r\n                  className=\"input\"\r\n                  value={form.name}\r\n                  onChange={(e) => handleTestChange(e.target.value)}\r\n                >\r\n                  <option value=\"\">Select Test</option>\r\n                  {tests.map((t) => (\r\n                    <option key={t._id} value={t.name}>{t.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </section>\r\n\r\n            {/* PARAMETERS TABLE */}\r\n            <section className=\"space-y-6\">\r\n              {Object.entries(groupedTests).map(([testName, params]) => (\r\n                <div key={testName} className=\"border rounded-lg p-4\">\r\n                  <h3 className=\"font-bold text-teal-600 mb-3\">{testName}</h3>\r\n                  <table className=\"w-full border text-sm text-center\">\r\n                    <thead className=\"bg-gray-100\">\r\n                      <tr>\r\n                        <th className=\"border p-2\">Parameter</th>\r\n                        <th className=\"border p-2\">Min</th>\r\n                        <th className=\"border p-2\">Max</th>\r\n                        <th className=\"border p-2\">Unit</th>\r\n                        <th className=\"border p-2\">Cost</th>\r\n                        <th className=\"border p-2\">Result</th>\r\n                        <th className=\"border p-2\">Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {params.map((p, i) => {\r\n                        // find the index in the original form.parameters\r\n                        const paramIndex = form.parameters.findIndex(\r\n                          (fp) => fp.testName === p.testName && fp.name === p.name\r\n                        );\r\n                        return (\r\n                          <tr key={i}>\r\n                            <td className=\"border p-1\">{p.name}</td>\r\n                            <td className=\"border p-1\">{p.min}</td>\r\n                            <td className=\"border p-1\">{p.max}</td>\r\n                            <td className=\"border p-1\">{p.unit}</td>\r\n                            <td className=\"border p-1\">{p.cost}</td>                           \r\n                            <td className=\"border p-1\">\r\n                              <input className=\"table-input\" value={p.result} onChange={(e) => handleParamChange(paramIndex, \"result\", e.target.value)} />\r\n                            </td>\r\n                            <td className=\"border p-1 text-center\">\r\n                              <Trash2\r\n                                size={18}\r\n                                className=\"text-red-500 cursor-pointer mx-auto\"\r\n                                onClick={() => removeParameter(paramIndex)}\r\n                              />\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              ))}\r\n            </section>\r\n\r\n            {/* COST & STATUS */}\r\n            <section className=\"grid md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"label\">Fee</label>\r\n                <input type=\"number\" className=\"input\" value={form.fee} disabled />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"label\">Discount</label>\r\n                <input type=\"number\" className=\"input\" value={form.discount} onChange={(e) => handleDiscountChange(e.target.value)} />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"label\">Total Cost</label>\r\n                <input className=\"input bg-gray-100\" value={form.totalfee} disabled />\r\n              </div>\r\n            </section>\r\n\r\n            <section className=\"grid md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"label\">Test Status</label>\r\n                <select className=\"input\" value={form.status} onChange={(e) => handleChange(\"status\", e.target.value)}>\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"label\">Payment Status</label>\r\n                <select className=\"input\" value={form.paymentStatus} onChange={(e) => handleChange(\"paymentStatus\", e.target.value)}>\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Paid\">Paid</option>\r\n                </select>\r\n              </div>\r\n            </section>\r\n\r\n            {/* FOOTER */}\r\n            <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n              <button type=\"button\" onClick={onClose} className=\"border px-4 py-2 rounded\">\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" className=\"bg-teal-600 text-white px-5 py-2 rounded\">\r\n                Save Report\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SUCCESS MODAL */}\r\n      {successModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-green-600 text-xl font-bold mb-2\">Success</h3>\r\n            <p className=\"mb-4\">Test added successfully.</p>\r\n            <button onClick={() => setSuccessModal(false)} className=\"px-4 py-2 bg-teal-600 text-white rounded\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ERROR MODAL */}\r\n      {errorModal.show && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-red-600 text-xl font-bold mb-2\">Unsuccessful</h3>\r\n            <p className=\"mb-4\">{errorModal.message}</p>\r\n            <button onClick={() => setErrorModal({ show: false, message: \"\" })} className=\"px-4 py-2 bg-red-600 text-white rounded\">\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        .input {\r\n          height: 40px;\r\n          border: 2px solid #14b8a6;\r\n          border-radius: 6px;\r\n          padding: 0 10px;\r\n          font-size: 14px;\r\n          width: 100%;\r\n        }\r\n        .label {\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          margin-bottom: 4px;\r\n          display: block;\r\n        }\r\n        .table-input {\r\n          width: 100%;\r\n          padding: 4px;\r\n          border: 1px solid #ccc;\r\n          border-radius: 4px;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TestModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1584, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/test/TestUpdateModele.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\nimport { Trash2 } from \"lucide-react\";\r\n\r\nconst TestUpadateModal = ({ onClose, editData }) => {\r\n  const [patients, setPatients] = useState([]);\r\n  const [tests, setTests] = useState([]);\r\n  const [form, setForm] = useState({\r\n    patient: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    doctor: \"\",\r\n    name: \"\",\r\n    date: \"\",\r\n    mobile: \"\",\r\n    status: \"Pending\",\r\n    paymentStatus: \"Pending\",\r\n    parameters: [],\r\n    fee: 0,\r\n    discount: 0,\r\n    totalfee: 0,\r\n  });\r\n  const [successModal, setSuccessModal] = useState(false);\r\n  const [errorModal, setErrorModal] = useState({ show: false, message: \"\" });\r\n\r\n  /* ================= FETCH DATA ================= */\r\n  useEffect(() => {\r\n    apiRequest(\"/patients\").then((res) => res?.success && setPatients(res.data));\r\n    apiRequest(\"/testParameters\").then((res) => res?.success && setTests(res.data));\r\n  }, []);\r\n\r\n  /* ================= LOAD EDIT DATA ================= */\r\n  useEffect(() => {\r\n    if (editData) setForm(editData);\r\n  }, [editData]);\r\n\r\n  /* ================= HANDLE TEST SELECTION ================= */\r\n  const handleTestChange = (name) => {\r\n    const selectedTest = tests.find((t) => t.name === name);\r\n    if (!selectedTest) return;\r\n    const alreadyAdded = form.parameters.some((p) => p.testName === name);\r\n    if (alreadyAdded) return;\r\n\r\n    const newParams =\r\n      selectedTest.parameters?.map((p) => ({\r\n        testName: name,\r\n        name: p.name || \"\",\r\n        min: p.min || \"\",\r\n        max: p.max || \"\",\r\n        unit: p.unit || \"\",\r\n        cost: p.cost || 0,\r\n        duration: p.duration || \"\",\r\n        result: \"\",\r\n      })) || [];\r\n\r\n    const updatedParams = [...form.parameters, ...newParams];\r\n    const totalFee = updatedParams.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      name,\r\n      parameters: updatedParams,\r\n      fee: totalFee,\r\n      totalfee: Math.max(totalFee - (prev.discount || 0), 0),\r\n    }));\r\n  };\r\n\r\n  /* ================= HANDLE FORM CHANGES ================= */\r\n  const handleChange = (key, value) => {\r\n    if (key === \"mobile\") value = value.replace(/\\D/g, \"\").slice(0, 11);\r\n    setForm((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleParamChange = (index, key, value) => {\r\n    const updated = [...form.parameters];\r\n    updated[index][key] = value;\r\n    const totalFee = updated.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n    setForm((prev) => ({ ...prev, parameters: updated, fee: totalFee, totalfee: Math.max(totalFee - prev.discount, 0) }));\r\n  };\r\n\r\n  const handleDiscountChange = (value) => {\r\n    const discount = Number(value) || 0;\r\n    setForm((prev) => ({ ...prev, discount, totalfee: Math.max(prev.fee - discount, 0) }));\r\n  };\r\n\r\n  const addParameter = () => setForm((prev) => ({\r\n    ...prev,\r\n    parameters: [...prev.parameters, { name: \"\", min: \"\", max: \"\", unit: \"\", cost: 0, duration: \"\", result: \"\" }],\r\n  }));\r\n\r\n  const removeParameter = (index) => {\r\n    const updated = form.parameters.filter((_, i) => i !== index);\r\n    const totalFee = updated.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n    setForm((prev) => ({ ...prev, parameters: updated, fee: totalFee, totalfee: Math.max(totalFee - prev.discount, 0) }));\r\n  };\r\n\r\n  /* ================= HANDLE SUBMIT ================= */\r\n  const handleSubmit = async () => {\r\n    if (form.mobile.length !== 11) {\r\n      setErrorModal({ show: true, message: \"Mobile number must be 11 digits.\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const testId = editData?._id;\r\n      const endpoint = testId ? `/tests/updateTest/${testId}` : \"/tests/createTest\";\r\n      const method = testId ? \"PUT\" : \"POST\";\r\n\r\n      const res = await apiRequest(endpoint, {\r\n        method,\r\n        data: { ...form, fee: Number(form.fee), discount: Number(form.discount), totalfee: Number(form.totalfee) },\r\n      });\r\n\r\n      res?.success ? setSuccessModal(true) : setErrorModal({ show: true, message: res.message || \"Failed to save test.\" });\r\n    } catch (err) {\r\n      setErrorModal({ show: true, message: err.message || \"Failed to save test.\" });\r\n    }\r\n  };\r\n\r\n  /* ================= GROUP PARAMETERS BY TEST ================= */\r\n  const groupedTests = form.parameters.reduce((acc, param) => {\r\n    if (!acc[param.testName]) acc[param.testName] = [];\r\n    acc[param.testName].push(param);\r\n    return acc;\r\n  }, {});\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\r\n          {/* HEADER */}\r\n          <div className=\"bg-teal-600 text-white p-6 flex justify-between\">\r\n            <h2 className=\"text-xl font-bold\">{editData ? \"Update Lab Test Report\" : \"New Lab Test Report\"}</h2>\r\n            <button onClick={onClose}>✕</button>\r\n          </div>\r\n\r\n          <form className=\"p-6 space-y-8\" onSubmit={(e) => { e.preventDefault(); handleSubmit(); }}>\r\n            {/* === Patient Info === */}\r\n            <div className=\"grid md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"label\">Patient Name</label>\r\n                <select className=\"input\" value={form.patient} onChange={(e) => handleChange(\"patient\", e.target.value)}>\r\n                  <option value=\"\">Select Patient</option>\r\n                  {patients.map((p) => <option key={p._id} value={p.name}>{p.name}</option>)}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Age</label>\r\n                <input className=\"input\" value={form.age} onChange={(e) => handleChange(\"age\", e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Gender</label>\r\n                <select className=\"input\" value={form.gender} onChange={(e) => handleChange(\"gender\", e.target.value)}>\r\n                  <option value=\"\">Select</option>\r\n                  <option>Male</option>\r\n                  <option>Female</option>\r\n                  <option>Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Doctor Name</label>\r\n                <input className=\"input\" value={form.doctor} onChange={(e) => handleChange(\"doctor\", e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Date</label>\r\n                <input type=\"date\" className=\"input\" value={form.date} onChange={(e) => handleChange(\"date\", e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Mobile</label>\r\n                <input className=\"input\" placeholder=\"03xx-xxxxxxx\" value={form.mobile} onChange={(e) => handleChange(\"mobile\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* === Test Selection === */}\r\n            <div className=\"md:w-1/3 mt-4\">\r\n              <label className=\"label\">Test Name</label>\r\n              <select className=\"input\" value={form.name} onChange={(e) => handleTestChange(e.target.value)}>\r\n                <option value=\"\">Select Test</option>\r\n                {tests.map((t) => <option key={t._id} value={t.name}>{t.name}</option>)}\r\n              </select>\r\n            </div>\r\n\r\n            {/* === Parameters Table === */}\r\n            {Object.entries(groupedTests).map(([testName, params]) => (\r\n              <div key={testName} className=\"border rounded-lg p-4 mt-4\">\r\n                <h3 className=\"font-bold text-teal-600 mb-3\">{testName}</h3>\r\n                <table className=\"w-full border text-sm text-center\">\r\n                  <thead className=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th className=\"border p-2\">Parameter</th>\r\n                      <th className=\"border p-2\">Min</th>\r\n                      <th className=\"border p-2\">Max</th>\r\n                      <th className=\"border p-2\">Unit</th>\r\n                      <th className=\"border p-2\">Cost</th>\r\n                      <th className=\"border p-2\">Result</th>\r\n                      <th className=\"border p-2\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {params.map((p, i) => {\r\n                      const paramIndex = form.parameters.findIndex(fp => fp.testName === p.testName && fp.name === p.name);\r\n                      return (\r\n                        <tr key={i}>\r\n                          <td className=\"border p-1\">{p.name}</td>\r\n                          <td className=\"border p-1\">{p.min}</td>\r\n                          <td className=\"border p-1\">{p.max}</td>\r\n                          <td className=\"border p-1\">{p.unit}</td>\r\n                          <td className=\"border p-1\">{p.cost}</td>\r\n                          <td className=\"border p-1\">\r\n                            <input className=\"table-input\" value={p.result} onChange={(e) => handleParamChange(paramIndex, \"result\", e.target.value)} />\r\n                          </td>\r\n                          <td className=\"border p-1 text-center\">\r\n                            <Trash2 size={18} className=\"text-red-500 cursor-pointer mx-auto\" onClick={() => removeParameter(paramIndex)} />\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ))}\r\n\r\n            {/* === Cost & Status === */}\r\n            <div className=\"grid md:grid-cols-3 gap-4 mt-4\">\r\n              <div>\r\n                <label className=\"label\">Fee</label>\r\n                <input type=\"number\" className=\"input\" value={form.fee} disabled />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Discount</label>\r\n                <input type=\"number\" className=\"input\" value={form.discount} onChange={(e) => handleDiscountChange(e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Total Cost</label>\r\n                <input className=\"input bg-gray-100\" value={form.totalfee} disabled />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid md:grid-cols-2 gap-4 mt-4\">\r\n              <div>\r\n                <label className=\"label\">Test Status</label>\r\n                <select className=\"input\" value={form.status} onChange={(e) => handleChange(\"status\", e.target.value)}>\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Payment Status</label>\r\n                <select className=\"input\" value={form.paymentStatus} onChange={(e) => handleChange(\"paymentStatus\", e.target.value)}>\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Paid\">Paid</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n              <button type=\"button\" onClick={onClose} className=\"border px-4 py-2 rounded\">Cancel</button>\r\n              <button type=\"submit\" className=\"bg-teal-600 text-white px-5 py-2 rounded\">Save Report</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SUCCESS MODAL */}\r\n      {successModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-green-600 text-xl font-bold mb-2\">Success</h3>\r\n            <p className=\"mb-4\">Test saved successfully.</p>\r\n            <button onClick={() => setSuccessModal(false)} className=\"px-4 py-2 bg-teal-600 text-white rounded\">OK</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ERROR MODAL */}\r\n      {errorModal.show && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-red-600 text-xl font-bold mb-2\">Unsuccessful</h3>\r\n            <p className=\"mb-4\">{errorModal.message}</p>\r\n            <button onClick={() => setErrorModal({ show: false, message: \"\" })} className=\"px-4 py-2 bg-red-600 text-white rounded\">Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        .input { height: 40px; border: 2px solid #14b8a6; border-radius: 6px; padding: 0 10px; font-size: 14px; width: 100%; }\r\n        .label { font-size: 14px; font-weight: bold; margin-bottom: 4px; display: block; }\r\n        .table-input { width: 100%; padding: 4px; border: 1px solid #ccc; border-radius: 4px; }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default \"use client\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\nimport { Trash2 } from \"lucide-react\";\r\n\r\nconst TestModal = ({ onClose, editData }) => {\r\n  const [patients, setPatients] = useState([]);\r\n  const [tests, setTests] = useState([]);\r\n  const [form, setForm] = useState({\r\n    patient: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    doctor: \"\",\r\n    name: \"\",\r\n    date: \"\",\r\n    mobile: \"\",\r\n    status: \"Pending\",\r\n    paymentStatus: \"Pending\",\r\n    parameters: [],\r\n    fee: 0,\r\n    discount: 0,\r\n    totalfee: 0,\r\n  });\r\n  const [successModal, setSuccessModal] = useState(false);\r\n  const [errorModal, setErrorModal] = useState({ show: false, message: \"\" });\r\n\r\n  /* ================= FETCH DATA ================= */\r\n  useEffect(() => {\r\n    apiRequest(\"/patients\").then((res) => res?.success && setPatients(res.data));\r\n    apiRequest(\"/testParameters\").then((res) => res?.success && setTests(res.data));\r\n  }, []);\r\n\r\n  /* ================= LOAD EDIT DATA ================= */\r\n  useEffect(() => {\r\n    if (editData) setForm(editData);\r\n  }, [editData]);\r\n\r\n  /* ================= HANDLE TEST SELECTION ================= */\r\n  const handleTestChange = (name) => {\r\n    const selectedTest = tests.find((t) => t.name === name);\r\n    if (!selectedTest) return;\r\n    const alreadyAdded = form.parameters.some((p) => p.testName === name);\r\n    if (alreadyAdded) return;\r\n\r\n    const newParams =\r\n      selectedTest.parameters?.map((p) => ({\r\n        testName: name,\r\n        name: p.name || \"\",\r\n        min: p.min || \"\",\r\n        max: p.max || \"\",\r\n        unit: p.unit || \"\",\r\n        cost: p.cost || 0,\r\n        duration: p.duration || \"\",\r\n        result: \"\",\r\n      })) || [];\r\n\r\n    const updatedParams = [...form.parameters, ...newParams];\r\n    const totalFee = updatedParams.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      name,\r\n      parameters: updatedParams,\r\n      fee: totalFee,\r\n      totalfee: Math.max(totalFee - (prev.discount || 0), 0),\r\n    }));\r\n  };\r\n\r\n  /* ================= HANDLE FORM CHANGES ================= */\r\n  const handleChange = (key, value) => {\r\n    if (key === \"mobile\") value = value.replace(/\\D/g, \"\").slice(0, 11);\r\n    setForm((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const handleParamChange = (index, key, value) => {\r\n    const updated = [...form.parameters];\r\n    updated[index][key] = value;\r\n    const totalFee = updated.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n    setForm((prev) => ({ ...prev, parameters: updated, fee: totalFee, totalfee: Math.max(totalFee - prev.discount, 0) }));\r\n  };\r\n\r\n  const handleDiscountChange = (value) => {\r\n    const discount = Number(value) || 0;\r\n    setForm((prev) => ({ ...prev, discount, totalfee: Math.max(prev.fee - discount, 0) }));\r\n  };\r\n\r\n  const addParameter = () => setForm((prev) => ({\r\n    ...prev,\r\n    parameters: [...prev.parameters, { name: \"\", min: \"\", max: \"\", unit: \"\", cost: 0, duration: \"\", result: \"\" }],\r\n  }));\r\n\r\n  const removeParameter = (index) => {\r\n    const updated = form.parameters.filter((_, i) => i !== index);\r\n    const totalFee = updated.reduce((sum, p) => sum + Number(p.cost || 0), 0);\r\n    setForm((prev) => ({ ...prev, parameters: updated, fee: totalFee, totalfee: Math.max(totalFee - prev.discount, 0) }));\r\n  };\r\n\r\n  /* ================= HANDLE SUBMIT ================= */\r\n  const handleSubmit = async () => {\r\n    if (form.mobile.length !== 11) {\r\n      setErrorModal({ show: true, message: \"Mobile number must be 11 digits.\" });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const testId = editData?._id;\r\n      const endpoint = testId ? `/tests/updateTest/${testId}` : \"/tests/createTest\";\r\n      const method = testId ? \"PUT\" : \"POST\";\r\n\r\n      const res = await apiRequest(endpoint, {\r\n        method,\r\n        data: { ...form, fee: Number(form.fee), discount: Number(form.discount), totalfee: Number(form.totalfee) },\r\n      });\r\n\r\n      res?.success ? setSuccessModal(true) : setErrorModal({ show: true, message: res.message || \"Failed to save test.\" });\r\n    } catch (err) {\r\n      setErrorModal({ show: true, message: err.message || \"Failed to save test.\" });\r\n    }\r\n  };\r\n\r\n  /* ================= GROUP PARAMETERS BY TEST ================= */\r\n  const groupedTests = form.parameters.reduce((acc, param) => {\r\n    if (!acc[param.testName]) acc[param.testName] = [];\r\n    acc[param.testName].push(param);\r\n    return acc;\r\n  }, {});\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\r\n          {/* HEADER */}\r\n          <div className=\"bg-teal-600 text-white p-6 flex justify-between\">\r\n            <h2 className=\"text-xl font-bold\">{editData ? \"Update Lab Test Report\" : \"New Lab Test Report\"}</h2>\r\n            <button onClick={onClose}>✕</button>\r\n          </div>\r\n\r\n          <form className=\"p-6 space-y-8\" onSubmit={(e) => { e.preventDefault(); handleSubmit(); }}>\r\n            {/* Patient Info */}\r\n            <div className=\"grid md:grid-cols-3 gap-4\">\r\n              <div>\r\n                <label className=\"label\">Patient Name</label>\r\n                <select className=\"input\" value={form.patient} onChange={(e) => handleChange(\"patient\", e.target.value)}>\r\n                  <option value=\"\">Select Patient</option>\r\n                  {patients.map((p) => <option key={p._id} value={p.name}>{p.name}</option>)}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Age</label>\r\n                <input className=\"input\" value={form.age} onChange={(e) => handleChange(\"age\", e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Gender</label>\r\n                <select className=\"input\" value={form.gender} onChange={(e) => handleChange(\"gender\", e.target.value)}>\r\n                  <option value=\"\">Select</option>\r\n                  <option>Male</option>\r\n                  <option>Female</option>\r\n                  <option>Other</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Doctor Name</label>\r\n                <input className=\"input\" value={form.doctor} onChange={(e) => handleChange(\"doctor\", e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Date</label>\r\n                <input type=\"date\" className=\"input\" value={form.date} onChange={(e) => handleChange(\"date\", e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Mobile</label>\r\n                <input className=\"input\" placeholder=\"03xx-xxxxxxx\" value={form.mobile} onChange={(e) => handleChange(\"mobile\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Test Selection */}\r\n            <div className=\"md:w-1/3 mt-4\">\r\n              <label className=\"label\">Test Name</label>\r\n              <select className=\"input\" value={form.name} onChange={(e) => handleTestChange(e.target.value)}>\r\n                <option value=\"\">Select Test</option>\r\n                {tests.map((t) => <option key={t._id} value={t.name}>{t.name}</option>)}\r\n              </select>\r\n            </div>\r\n\r\n            {/* Parameters Table */}\r\n            {Object.entries(groupedTests).map(([testName, params]) => (\r\n              <div key={testName} className=\"border rounded-lg p-4 mt-4\">\r\n                <h3 className=\"font-bold text-teal-600 mb-3\">{testName}</h3>\r\n                <table className=\"w-full border text-sm text-center\">\r\n                  <thead className=\"bg-gray-100\">\r\n                    <tr>\r\n                      <th className=\"border p-2\">Parameter</th>\r\n                      <th className=\"border p-2\">Min</th>\r\n                      <th className=\"border p-2\">Max</th>\r\n                      <th className=\"border p-2\">Unit</th>\r\n                      <th className=\"border p-2\">Cost</th>\r\n                      <th className=\"border p-2\">Result</th>\r\n                      <th className=\"border p-2\">Action</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {params.map((p, i) => {\r\n                      const paramIndex = form.parameters.findIndex(fp => fp.testName === p.testName && fp.name === p.name);\r\n                      return (\r\n                        <tr key={i}>\r\n                          <td className=\"border p-1\">{p.name}</td>\r\n                          <td className=\"border p-1\">{p.min}</td>\r\n                          <td className=\"border p-1\">{p.max}</td>\r\n                          <td className=\"border p-1\">{p.unit}</td>\r\n                          <td className=\"border p-1\">{p.cost}</td>\r\n                          <td className=\"border p-1\">\r\n                            <input className=\"table-input\" value={p.result} onChange={(e) => handleParamChange(paramIndex, \"result\", e.target.value)} />\r\n                          </td>\r\n                          <td className=\"border p-1 text-center\">\r\n                            <Trash2 size={18} className=\"text-red-500 cursor-pointer mx-auto\" onClick={() => removeParameter(paramIndex)} />\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ))}\r\n\r\n            {/* Cost & Status */}\r\n            <div className=\"grid md:grid-cols-3 gap-4 mt-4\">\r\n              <div>\r\n                <label className=\"label\">Fee</label>\r\n                <input type=\"number\" className=\"input\" value={form.fee} disabled />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Discount</label>\r\n                <input type=\"number\" className=\"input\" value={form.discount} onChange={(e) => handleDiscountChange(e.target.value)} />\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Total Cost</label>\r\n                <input className=\"input bg-gray-100\" value={form.totalfee} disabled />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid md:grid-cols-2 gap-4 mt-4\">\r\n              <div>\r\n                <label className=\"label\">Test Status</label>\r\n                <select className=\"input\" value={form.status} onChange={(e) => handleChange(\"status\", e.target.value)}>\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Completed\">Completed</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"label\">Payment Status</label>\r\n                <select className=\"input\" value={form.paymentStatus} onChange={(e) => handleChange(\"paymentStatus\", e.target.value)}>\r\n                  <option value=\"Pending\">Pending</option>\r\n                  <option value=\"Paid\">Paid</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n              <button type=\"button\" onClick={onClose} className=\"border px-4 py-2 rounded\">Cancel</button>\r\n              <button type=\"submit\" className=\"bg-teal-600 text-white px-5 py-2 rounded\">Save Report</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SUCCESS MODAL */}\r\n      {successModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-green-600 text-xl font-bold mb-2\">Success</h3>\r\n            <p className=\"mb-4\">Test saved successfully.</p>\r\n            <button onClick={() => setSuccessModal(false)} className=\"px-4 py-2 bg-teal-600 text-white rounded\">OK</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ERROR MODAL */}\r\n      {errorModal.show && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-red-600 text-xl font-bold mb-2\">Unsuccessful</h3>\r\n            <p className=\"mb-4\">{errorModal.message}</p>\r\n            <button onClick={() => setErrorModal({ show: false, message: \"\" })} className=\"px-4 py-2 bg-red-600 text-white rounded\">Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        .input { height: 40px; border: 2px solid #14b8a6; border-radius: 6px; padding: 0 10px; font-size: 14px; width: 100%; }\r\n        .label { font-size: 14px; font-weight: bold; margin-bottom: 4px; display: block; }\r\n        .table-input { width: 100%; padding: 4px; border: 1px solid #ccc; border-radius: 4px; }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TestModal;\r\n;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3515, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/test/tests.jsx"],"sourcesContent":["// app/data/tests.js\r\n\r\nexport const testData = [\r\n  {\r\n    name: \"Hemoglobin (Hb) Test\",\r\n    parameters: [\r\n      { name: \"Hemoglobin (Hb)\", min: \"13.5\", max: \"17.5\", unit: \"g/dL\" },\r\n      { name: \"Hematocrit (Hct)\", min: \"41\", max: \"53\", unit: \"%\" },\r\n      { name: \"RBC Count\", min: \"4.7\", max: \"6.1\", unit: \"million/µL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"HbA1c Test\",\r\n    parameters: [\r\n      { name: \"HbA1c\", min: \"4\", max: \"5.6\", unit: \"%\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Liver Function Test (LFT)\",\r\n    parameters: [\r\n      { name: \"Total Bilirubin\", min: \"0.1\", max: \"1.2\", unit: \"mg/dL\" },\r\n      { name: \"Direct Bilirubin\", min: \"0\", max: \"0.3\", unit: \"mg/dL\" },\r\n      { name: \"Indirect Bilirubin\", min: \"0.2\", max: \"0.8\", unit: \"mg/dL\" },\r\n      { name: \"SGOT / AST\", min: \"8\", max: \"48\", unit: \"U/L\" },\r\n      { name: \"SGPT / ALT\", min: \"7\", max: \"55\", unit: \"U/L\" },\r\n      { name: \"ALP\", min: \"45\", max: \"115\", unit: \"U/L\" },\r\n      { name: \"Total Protein\", min: \"6.0\", max: \"8.3\", unit: \"g/dL\" },\r\n      { name: \"Albumin\", min: \"3.5\", max: \"5.0\", unit: \"g/dL\" },\r\n      { name: \"Globulin\", min: \"2.0\", max: \"3.5\", unit: \"g/dL\" },\r\n      { name: \"Albumin/Globulin Ratio\", min: \"1.0\", max: \"2.0\", unit: \"\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Renal Function Test (RFT)\",\r\n    parameters: [\r\n      { name: \"Blood Urea\", min: \"7\", max: \"20\", unit: \"mg/dL\" },\r\n      { name: \"Serum Creatinine\", min: \"0.6\", max: \"1.3\", unit: \"mg/dL\" },\r\n      { name: \"Uric Acid\", min: \"3.4\", max: \"7.0\", unit: \"mg/dL\" },\r\n      { name: \"Sodium (Na⁺)\", min: \"135\", max: \"145\", unit: \"mEq/L\" },\r\n      { name: \"Potassium (K⁺)\", min: \"3.5\", max: \"5.0\", unit: \"mEq/L\" },\r\n      { name: \"Chloride (Cl⁻)\", min: \"96\", max: \"106\", unit: \"mEq/L\" },\r\n      { name: \"Bicarbonate (HCO₃⁻)\", min: \"22\", max: \"29\", unit: \"mEq/L\" },\r\n      { name: \"eGFR\", min: \"90\", max: \"120\", unit: \"mL/min/1.73m²\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Lipid Profile\",\r\n    parameters: [\r\n      { name: \"Total Cholesterol\", min: \"0\", max: \"200\", unit: \"mg/dL\" },\r\n      { name: \"HDL Cholesterol\", min: \"40\", max: \"60\", unit: \"mg/dL\" },\r\n      { name: \"LDL Cholesterol\", min: \"0\", max: \"100\", unit: \"mg/dL\" },\r\n      { name: \"VLDL\", min: \"5\", max: \"40\", unit: \"mg/dL\" },\r\n      { name: \"Triglycerides\", min: \"0\", max: \"150\", unit: \"mg/dL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Thyroid Function Test (TFT)\",\r\n    parameters: [\r\n      { name: \"T3\", min: \"0.8\", max: \"2.0\", unit: \"ng/dL\" },\r\n      { name: \"T4\", min: \"4.5\", max: \"11.2\", unit: \"µg/dL\" },\r\n      { name: \"TSH\", min: \"0.4\", max: \"4.0\", unit: \"µIU/mL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Complete Blood Count (CBC)\",\r\n    parameters: [\r\n      { name: \"Hemoglobin (Hb)\", min: \"13.5\", max: \"17.5\", unit: \"g/dL\" },\r\n      { name: \"Hematocrit (Hct)\", min: \"41\", max: \"53\", unit: \"%\" },\r\n      { name: \"RBC Count\", min: \"4.7\", max: \"6.1\", unit: \"million/µL\" },\r\n      { name: \"WBC Count\", min: \"4000\", max: \"11000\", unit: \"/µL\" },\r\n      { name: \"Platelet Count\", min: \"150000\", max: \"450000\", unit: \"/µL\" },\r\n      { name: \"MCV\", min: \"80\", max: \"100\", unit: \"fL\" },\r\n      { name: \"MCH\", min: \"27\", max: \"33\", unit: \"pg\" },\r\n      { name: \"MCHC\", min: \"32\", max: \"36\", unit: \"g/dL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Urine Routine / Urinalysis\",\r\n    parameters: [\r\n      { name: \"Color\", min: \"\", max: \"\", unit: \"\" },\r\n      { name: \"Appearance\", min: \"\", max: \"\", unit: \"\" },\r\n      { name: \"pH\", min: \"4.5\", max: \"8\", unit: \"\" },\r\n      { name: \"Specific Gravity\", min: \"1.005\", max: \"1.030\", unit: \"\" },\r\n      { name: \"Protein\", min: \"Negative\", max: \"Negative\", unit: \"\" },\r\n      { name: \"Glucose\", min: \"Negative\", max: \"Negative\", unit: \"\" },\r\n      { name: \"RBC\", min: \"0\", max: \"2\", unit: \"/HPF\" },\r\n      { name: \"WBC\", min: \"0\", max: \"5\", unit: \"/HPF\" },\r\n      { name: \"Epithelial Cells\", min: \"0\", max: \"5\", unit: \"/HPF\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Cardiac Markers\",\r\n    parameters: [\r\n      { name: \"Troponin I\", min: \"0\", max: \"0.04\", unit: \"ng/mL\" },\r\n      { name: \"CK-MB\", min: \"0\", max: \"5\", unit: \"ng/mL\" },\r\n      { name: \"BNP\", min: \"0\", max: \"100\", unit: \"pg/mL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Vitamin / Mineral Tests\",\r\n    parameters: [\r\n      { name: \"Vitamin D (25 OH)\", min: \"30\", max: \"100\", unit: \"ng/mL\" },\r\n      { name: \"Vitamin B12\", min: \"200\", max: \"900\", unit: \"pg/mL\" },\r\n      { name: \"Iron\", min: \"50\", max: \"170\", unit: \"µg/dL\" },\r\n      { name: \"Calcium\", min: \"8.5\", max: \"10.5\", unit: \"mg/dL\" },\r\n      { name: \"Phosphate\", min: \"2.5\", max: \"4.5\", unit: \"mg/dL\" },\r\n      { name: \"Magnesium\", min: \"1.7\", max: \"2.2\", unit: \"mg/dL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Coagulation Test\",\r\n    parameters: [\r\n      { name: \"Prothrombin Time (PT)\", min: \"11\", max: \"13.5\", unit: \"seconds\" },\r\n      { name: \"INR\", min: \"0.8\", max: \"1.2\", unit: \"\" },\r\n      { name: \"aPTT\", min: \"25\", max: \"35\", unit: \"seconds\" },\r\n      { name: \"Fibrinogen\", min: \"200\", max: \"400\", unit: \"mg/dL\" },\r\n      { name: \"D-Dimer\", min: \"0\", max: \"500\", unit: \"ng/mL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Hormone Test\",\r\n    parameters: [\r\n      { name: \"Serum Testosterone\", min: \"300\", max: \"1000\", unit: \"ng/dL\" },\r\n      { name: \"Estradiol (E2)\", min: \"15\", max: \"350\", unit: \"pg/mL\" },\r\n      { name: \"Progesterone\", min: \"0.1\", max: \"25\", unit: \"ng/mL\" },\r\n      { name: \"Cortisol\", min: \"5\", max: \"25\", unit: \"µg/dL\" },\r\n      { name: \"LH\", min: \"1.8\", max: \"12\", unit: \"mIU/mL\" },\r\n      { name: \"FSH\", min: \"1.5\", max: \"20\", unit: \"mIU/mL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Serology Test\",\r\n    parameters: [\r\n      { name: \"HBsAg\", min: \"\", max: \"\", unit: \"\" },\r\n      { name: \"Anti-HCV\", min: \"\", max: \"\", unit: \"\" },\r\n      { name: \"HIV 1/2\", min: \"\", max: \"\", unit: \"\" },\r\n      { name: \"VDRL / RPR\", min: \"\", max: \"\", unit: \"\" },\r\n      { name: \"Dengue IgM/IgG\", min: \"\", max: \"\", unit: \"\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Pancreatic Function Test\",\r\n    parameters: [\r\n      { name: \"Serum Amylase\", min: \"30\", max: \"110\", unit: \"U/L\" },\r\n      { name: \"Serum Lipase\", min: \"23\", max: \"300\", unit: \"U/L\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Iron Studies\",\r\n    parameters: [\r\n      { name: \"Serum Iron\", min: \"50\", max: \"170\", unit: \"µg/dL\" },\r\n      { name: \"TIBC (Total Iron Binding Capacity)\", min: \"250\", max: \"450\", unit: \"µg/dL\" },\r\n      { name: \"Transferrin Saturation\", min: \"20\", max: \"50\", unit: \"%\" },\r\n      { name: \"Ferritin\", min: \"30\", max: \"400\", unit: \"ng/mL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Inflammatory Marker\",\r\n    parameters: [\r\n      { name: \"C-Reactive Protein (CRP)\", min: \"0\", max: \"5\", unit: \"mg/L\" },\r\n      { name: \"ESR (Erythrocyte Sedimentation Rate)\", min: \"0\", max: \"20\", unit: \"mm/hr\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Electrolyte Panel\",\r\n    parameters: [\r\n      { name: \"Sodium (Na⁺)\", min: \"135\", max: \"145\", unit: \"mEq/L\" },\r\n      { name: \"Potassium (K⁺)\", min: \"3.5\", max: \"5\", unit: \"mEq/L\" },\r\n      { name: \"Chloride (Cl⁻)\", min: \"96\", max: \"106\", unit: \"mEq/L\" },\r\n      { name: \"Bicarbonate (HCO₃⁻)\", min: \"22\", max: \"29\", unit: \"mEq/L\" },\r\n      { name: \"Calcium (Ca²⁺)\", min: \"8.5\", max: \"10.5\", unit: \"mg/dL\" },\r\n      { name: \"Magnesium (Mg²⁺)\", min: \"1.7\", max: \"2.2\", unit: \"mg/dL\" },\r\n      { name: \"Phosphate (PO₄³⁻)\", min: \"2.5\", max: \"4.5\", unit: \"mg/dL\" },\r\n    ],\r\n  },\r\n  {\r\n    name: \"Special Biochemistry\",\r\n    parameters: [\r\n      { name: \"Lactate Dehydrogenase (LDH)\", min: \"140\", max: \"280\", unit: \"U/L\" },\r\n      { name: \"Creatine Kinase (CK)\", min: \"24\", max: \"170\", unit: \"U/L\" },\r\n      { name: \"Ammonia\", min: \"15\", max: \"45\", unit: \"µmol/L\" },\r\n    ],\r\n  },\r\n];\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4156, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/test/TestParametersModal.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\nimport { testData } from \"./tests.jsx\";\r\n\r\nconst TestParametersModal = ({ tests: propTests, setTests: propSetTests, onClose }) => {\r\n  const [tests, setTests] = useState(propTests || []);\r\n  const setTestsSafe = propSetTests || setTests;\r\n\r\n  const [form, setForm] = useState({\r\n    testname: \"\",\r\n    parameters: [{ name: \"\", min: \"\", max: \"\", unit: \"\", duration: \"\", cost: \"\" }],\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [availableTests, setAvailableTests] = useState([]);\r\n  const [successModal, setSuccessModal] = useState(false);\r\n  const [errorModal, setErrorModal] = useState({ show: false, message: \"\" });\r\n\r\n  useEffect(() => {\r\n    setAvailableTests(testData);\r\n  }, []);\r\n\r\n  const handleTestSelect = (testName) => {\r\n    const selectedTest = availableTests.find((t) => t.name === testName);\r\n\r\n    if (selectedTest) {\r\n      setForm({\r\n        testname: selectedTest.name,\r\n        parameters: selectedTest.parameters.length\r\n          ? selectedTest.parameters.map((p) => ({\r\n              name: p.name || \"\",\r\n              min: p.min || \"\",\r\n              max: p.max || \"\",\r\n              unit: p.unit || \"\",\r\n              duration: p.duration || \"\",\r\n              cost: p.cost || \"\",\r\n            }))\r\n          : [{ name: \"\", min: \"\", max: \"\", unit: \"\", duration: \"\", cost: \"\" }],\r\n      });\r\n    } else {\r\n      setForm({\r\n        testname: \"\",\r\n        parameters: [{ name: \"\", min: \"\", max: \"\", unit: \"\", duration: \"\", cost: \"\" }],\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateParameter = (index, field, value) => {\r\n    const updatedParams = form.parameters.map((param, i) =>\r\n      i === index ? { ...param, [field]: value } : param\r\n    );\r\n    setForm((prev) => ({ ...prev, parameters: updatedParams }));\r\n  };\r\n\r\n  const addParameterRow = () => {\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      parameters: [...prev.parameters, { name: \"\", min: \"\", max: \"\", unit: \"\", duration: \"\", cost: \"\" }],\r\n    }));\r\n  };\r\n\r\n  const removeParameterRow = (index) => {\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      parameters: prev.parameters.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  const submitTest = async () => {\r\n    if (!form.testname) {\r\n      setErrorModal({ show: true, message: \"Please enter the Test Name\" });\r\n      return;\r\n    }\r\n\r\n    for (const param of form.parameters) {\r\n      if (!param.name) {\r\n        setErrorModal({ show: true, message: \"Parameter name cannot be empty\" });\r\n        return;\r\n      }\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await apiRequest(\"/testParameters/createTestparameter\", {\r\n        method: \"POST\",\r\n        data: { name: form.testname, parameters: form.parameters },\r\n      });\r\n\r\n      if (response?.success) {\r\n        setTestsSafe([...(propTests || tests), response.data]);\r\n        setForm({\r\n          testname: \"\",\r\n          parameters: [{ name: \"\", min: \"\", max: \"\", unit: \"\", duration: \"\", cost: \"\" }],\r\n        });\r\n        setSuccessModal(true);\r\n      } else {\r\n        setErrorModal({ show: true, message: response?.message || \"Failed to add test\" });\r\n      }\r\n    } catch (error) {\r\n      setErrorModal({ show: true, message: error.message || \"Something went wrong\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-4xl w-full h-[550px] overflow-y-auto\">\r\n\r\n          {/* Header */}\r\n          <div className=\"bg-gradient-to-r from-teal-500 to-teal-600 text-white p-6 flex justify-between items-center\">\r\n            <h2 className=\"text-2xl font-bold\">Add Test with Parameters</h2>\r\n            <button onClick={onClose} className=\"p-2 px-3 hover:bg-white/20 rounded-lg\" disabled={loading}>\r\n              ✕\r\n            </button>\r\n          </div>\r\n\r\n          {/* Body */}\r\n          <div className=\"p-6 space-y-4\">\r\n            <div>\r\n              <label className=\"label\">Select Test</label>\r\n              <select\r\n                className=\"input\"\r\n                value={form.testname}\r\n                onChange={(e) => handleTestSelect(e.target.value)}\r\n              >\r\n                <option value=\"\">-- Select a Test --</option>\r\n                {availableTests.map((t, idx) => (\r\n                  <option key={idx} value={t.name}>{t.name}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {form.parameters.map((param, index) => (\r\n              <div key={index} className=\"grid grid-cols-6 gap-3 items-end\">\r\n                <div>\r\n                  <label className=\"label\">Parameter</label>\r\n                  <input className=\"input bg-gray-100\" value={param.name} readOnly />\r\n                </div>\r\n                <div>\r\n                  <label className=\"label\">Min</label>\r\n                  <input className=\"input\" value={param.min} onChange={(e) => updateParameter(index, \"min\", e.target.value)} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"label\">Max</label>\r\n                  <input className=\"input\" value={param.max} onChange={(e) => updateParameter(index, \"max\", e.target.value)} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"label\">Unit</label>\r\n                  <input className=\"input\" value={param.unit} onChange={(e) => updateParameter(index, \"unit\", e.target.value)} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"label\">Duration</label>\r\n                  <input\r\n                    className=\"input\"\r\n                    placeholder=\"HH:MM\"\r\n                    value={param.duration}\r\n                    onChange={(e) => updateParameter(index, \"duration\", e.target.value)}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"label\">Cost</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"input\"\r\n                    value={param.cost}\r\n                    onChange={(e) => updateParameter(index, \"cost\", e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                {index > 0 && (\r\n                  <button onClick={() => removeParameterRow(index)} className=\"text-red-500 col-span-6 text-left mt-1\">\r\n                    Remove\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n            <button onClick={addParameterRow} className=\"px-4 py-2 bg-gray-200 rounded-md\">\r\n              + Add Parameter\r\n            </button>\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"flex justify-end gap-3 border-t px-4 py-3\">\r\n            <button onClick={onClose} className=\"px-4 py-2 border rounded-md text-gray-500\">\r\n              Cancel\r\n            </button>\r\n            <button onClick={submitTest} className=\"px-5 py-2 bg-teal-600 text-white rounded-md\">\r\n              {loading ? \"Adding...\" : \"Add Test\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SUCCESS MODAL */}\r\n      {successModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-green-600 text-xl font-bold mb-2\">Success</h3>\r\n            <p className=\"mb-4\">Test added successfully.</p>\r\n            <button\r\n              onClick={() => setSuccessModal(false)}\r\n              className=\"px-4 py-2 bg-teal-600 text-white rounded\"\r\n            >\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ERROR MODAL */}\r\n      {errorModal.show && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white rounded-xl p-6 w-[350px] text-center\">\r\n            <h3 className=\"text-red-600 text-xl font-bold mb-2\">Unsuccessful</h3>\r\n            <p className=\"mb-4\">{errorModal.message}</p>\r\n            <button\r\n              onClick={() => setErrorModal({ show: false, message: \"\" })}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style>{`\r\n        .input {\r\n          height: 40px;\r\n          border: 2px solid #14b8a6;\r\n          border-radius: 6px;\r\n          padding: 0 10px;\r\n          font-size: 14px;\r\n          width: 100%;\r\n        }\r\n        .label {\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          margin-bottom: 4px;\r\n          display: block;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TestParametersModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4744, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/MedicalTestsPage.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Plus, Printer, Edit, Trash2 } from \"lucide-react\";\nimport TestStatsCards from \"../../components/test/TestStatsCards\";\nimport TestsTable from \"../../components/test/TestTable\";\nimport TestModal from \"../../components/test/TestModel\";\nimport TestUpdateModel from \"../test/TestUpdateModele\";\nimport TestParametersModal from \"../../components/test/TestParametersModal\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst MedicalTestsPage = () => {\n  const [tests, setTests] = useState([]);\n  const [parameters, setParameters] = useState([]);\n  const [openTest, setOpenTest] = useState(false);\n  const [openUpdate, setOpenUpdate] = useState(false);\n  const [openParams, setOpenParams] = useState(false);\n  const [editTestId, setEditTestId] = useState(null);\n\n  /* ================= FETCH ALL TEST RECORDS ================= */\n  const fetchTests = async () => {\n    try {\n      const res = await apiRequest(\"/tests\");\n      const data = Array.isArray(res) ? res : res?.data || [];\n\n      const mappedTests = data\n        .map((t) => {\n          const totalFee =\n            t.parameters?.reduce((sum, p) => sum + Number(p.cost || 0), 0) || 0;\n          return {\n            ...t,\n            id: t._id || `TEST-${Date.now()}-${Math.random()}`,\n            fee: totalFee,\n          };\n        })\n        .sort(\n          (a, b) =>\n            new Date(b.createdAt || b.date || 0) -\n            new Date(a.createdAt || a.date || 0)\n        );\n\n      setTests(mappedTests);\n    } catch (err) {\n      console.error(\"Failed to fetch tests:\", err);\n    }\n  };\n\n  /* ================= FETCH ALL PARAMETERS ================= */\n  const fetchParameters = async () => {\n    try {\n      const res = await apiRequest(\"/testParameters\");\n      const data = Array.isArray(res) ? res : res?.data || [];\n      setParameters(data);\n    } catch (err) {\n      console.error(\"Failed to fetch parameters:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchTests();\n    fetchParameters();\n  }, []);\n\n  /* ================= HANDLE SAVE TEST ================= */\n  const handleSaveTest = (data) => {\n    let totalFee = 0;\n    data.parameters?.forEach((p) => {\n      totalFee += Number(p.cost || 0);\n    });\n\n    const newTest = {\n      ...data,\n      fee: totalFee,\n      id: editTestId || `TEST-${Date.now()}`,\n    };\n\n    if (editTestId) {\n      setTests((prev) => prev.map((t) => (t.id === editTestId ? newTest : t)));\n    } else {\n      setTests((prev) => [newTest, ...prev]);\n    }\n\n    setOpenTest(false);\n    setOpenUpdate(false);\n    setEditTestId(null);\n  };\n\n  /* ================= DELETE TEST ================= */\n  const handleDeleteTest = (id) => {\n    if (!confirm(\"Are you sure you want to delete this test?\")) return;\n    setTests((prev) => prev.filter((t) => t.id !== id));\n  };\n\n  /* ================= CALCULATE GROSS TOTAL ================= */\n  const grossTotalFee = tests.reduce((sum, t) => sum + Number(t.fee || 0), 0);\n\n  /* ================= PRINT TEST REPORT ================= */\n  const handlePrintReport = (test) => {\n    const printWindow = window.open(\"\", \"\", \"width=800,height=600\");\n    printWindow.document.write(`<h2 style=\"text-align:center;\">Test Report</h2>`);\n    printWindow.document.close();\n    printWindow.print();\n  };\n\n  return (\n    <main className=\"p-6 space-y-6\">\n      {/* HEADER */}\n      <div className=\"flex flex-col md:flex-row justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-slate-900\">Medical Tests</h1>\n          <p className=\"text-slate-600\">Manage diagnostic tests & reports</p>\n        </div>\n\n        <div className=\"flex gap-3\">\n          <button\n            onClick={() => setOpenTest(true)}\n            className=\"flex items-center gap-2 h-9 px-4 rounded-md text-sm bg-gradient-to-r from-teal-500 to-teal-600 text-white\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            New Test\n          </button>\n\n          <button\n            onClick={() => setOpenParams(true)}\n            className=\"h-9 px-4 rounded-md border border-gray-300 text-teal-700 bg-white hover:bg-slate-100\"\n          >\n            + Add Parameters\n          </button>\n        </div>\n      </div>\n\n      {/* STATS + TABLE */}\n      <TestStatsCards tests={tests} />\n\n      <TestsTable\n        tests={tests}\n        renderActionColumn={(test) => (\n          <div className=\"flex items-center gap-6\">\n            {/* EDIT */}\n            <button\n              title=\"Edit\"\n              className=\"p-1 bg-blue-600 text-white rounded\"\n              onClick={() => {\n                setEditTestId(test.id);\n                setOpenUpdate(true);\n              }}\n            >\n              <Edit size={16} />\n            </button>\n\n            {/* DELETE */}\n            <button\n              title=\"Delete\"\n              className=\"p-1 bg-red-600 text-white rounded\"\n              onClick={() => handleDeleteTest(test.id)}\n            >\n              <Trash2 size={16} />\n            </button>\n          </div>\n        )}\n        renderPrintColumn={(test) => (\n          <div className=\"flex justify-center\">\n            <button\n              title=\"Print\"\n              className=\"p-1 bg-teal-600 text-white rounded\"\n              onClick={() => handlePrintReport(test)}\n            >\n              <Printer size={16} />\n            </button>\n          </div>\n        )}\n      />\n\n      {/* GROSS TOTAL */}\n      <div className=\"mt-4 text-right font-bold text-lg\">\n        Gross Total Fee: <span className=\"text-teal-600\">{grossTotalFee}</span>\n      </div>\n\n      {/* NEW TEST MODAL */}\n      {openTest && !editTestId && (\n        <TestModal\n          parameters={parameters}\n          onSave={handleSaveTest}\n          onClose={() => setOpenTest(false)}\n        />\n      )}\n\n      {/* UPDATE TEST MODAL */}\n      {openUpdate && editTestId && (\n        <TestUpdateModel\n          testId={editTestId}\n          parameters={parameters}\n          onSave={handleSaveTest}\n          onClose={() => {\n            setOpenUpdate(false);\n            setEditTestId(null);\n          }}\n        />\n      )}\n\n      {/* PARAMETERS MODAL */}\n      {openParams && (\n        <TestParametersModal\n          parameters={parameters}\n          setParameters={setParameters}\n          onClose={() => setOpenParams(false)}\n        />\n      )}\n    </main>\n  );\n};\n\nexport default MedicalTestsPage;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5054, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/tests/page.jsx"],"sourcesContent":["// app/pos/page.jsx\n\"use client\";\n\nimport MedicalTestsPage from \"../components/pages/MedicalTestsPage\";\n\n\n\nexport default function Test() {\n  return (\n  \n    <MedicalTestsPage/>\n  );\n}\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;AAGnB;AAFA;;;AAMe,SAAS;IACtB,qBAEE,8OAAC,0JAAgB;;;;;AAErB"}}]
}