{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error — check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAOzB;AAJF;AACA;AAHA;;;AAKA,MAAM,WACJ,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D,IAAI,eAAe,+CAAkB,aAAa;YAChD,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,YAAY,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QAC9D;QAEA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,mJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C,IAAI,OAAO,+CAAkB,aAAa;YACxC,mKAAK,CAAC,OAAO,CAAC;QAChB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF,wCAAmC,mKAAK,CAAC,KAAK,CAAC;QAE/C,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/expense/ExpenseCard.jsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst ExpenseCard = ({ title, icon, iconBg, textColor }) => {\n  const [value, setValue] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const fetchExpenses = async () => {\n    try {\n      setLoading(true);\n      const response = await apiRequest(\"/expenses\", { method: \"GET\" });\n      if (response?.success) {\n        const expenses = response.data || [];\n        let computedValue = 0;\n\n        // Compute value based on card title\n        switch (title.toLowerCase()) {\n          case \"total expenses\":\n            computedValue = expenses.reduce(\n              (acc, exp) => acc + Number(exp.amount || 0),\n              0\n            );\n            break;\n          case \"pending payments\":\n            computedValue = expenses\n              .filter((exp) => exp.paymentStatus === \"Pending\")\n              .reduce((acc, exp) => acc + Number(exp.amount || 0), 0);\n            break;\n          case \"completed payments\":\n            computedValue = expenses\n              .filter((exp) => exp.paymentStatus === \"Completed\")\n              .reduce((acc, exp) => acc + Number(exp.amount || 0), 0);\n            break;\n          default:\n            computedValue = expenses.length; // fallback: show total count\n        }\n\n        setValue(computedValue);\n      } else {\n        throw new Error(response?.message || \"Failed to fetch expenses\");\n      }\n    } catch (err) {\n      console.error(\"ExpenseCard fetch error:\", err);\n      setError(err?.message || \"Something went wrong\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchExpenses();\n  }, []);\n\n  return (\n    <div className=\"rounded-xl border-0 shadow-lg bg-white/80 backdrop-blur p-4\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-sm text-slate-600\">{title}</p>\n          {loading ? (\n            <p className={`text-2xl font-bold mt-1 ${textColor}`}>...</p>\n          ) : error ? (\n            <p className=\"text-red-600 text-sm mt-1\">{error}</p>\n          ) : (\n            <p className={`text-2xl font-bold mt-1 ${textColor}`}>\n              {value.toLocaleString()}\n            </p>\n          )}\n        </div>\n        {icon && (\n          <div\n            className={`w-12 h-12 ${iconBg} rounded-xl flex items-center justify-center`}\n          >\n            {icon}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ExpenseCard;\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAIA,MAAM,cAAc,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE;;IACrD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,gBAAgB;QACpB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,IAAA,2IAAU,EAAC,aAAa;gBAAE,QAAQ;YAAM;YAC/D,IAAI,UAAU,SAAS;gBACrB,MAAM,WAAW,SAAS,IAAI,IAAI,EAAE;gBACpC,IAAI,gBAAgB;gBAEpB,oCAAoC;gBACpC,OAAQ,MAAM,WAAW;oBACvB,KAAK;wBACH,gBAAgB,SAAS,MAAM,CAC7B,CAAC,KAAK,MAAQ,MAAM,OAAO,IAAI,MAAM,IAAI,IACzC;wBAEF;oBACF,KAAK;wBACH,gBAAgB,SACb,MAAM,CAAC,CAAC,MAAQ,IAAI,aAAa,KAAK,WACtC,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,OAAO,IAAI,MAAM,IAAI,IAAI;wBACvD;oBACF,KAAK;wBACH,gBAAgB,SACb,MAAM,CAAC,CAAC,MAAQ,IAAI,aAAa,KAAK,aACtC,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,OAAO,IAAI,MAAM,IAAI,IAAI;wBACvD;oBACF;wBACE,gBAAgB,SAAS,MAAM,EAAE,6BAA6B;gBAClE;gBAEA,SAAS;YACX,OAAO;gBACL,MAAM,IAAI,MAAM,UAAU,WAAW;YACvC;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,SAAS,KAAK,WAAW;QAC3B,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;iCAAC;YACR;QACF;gCAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;;sCACC,6LAAC;4BAAE,WAAU;sCAA0B;;;;;;wBACtC,wBACC,6LAAC;4BAAE,WAAW,CAAC,wBAAwB,EAAE,WAAW;sCAAE;;;;;uEACpD,sBACF,6LAAC;4BAAE,WAAU;sCAA6B;;;;;qFAE1C,6LAAC;4BAAE,WAAW,CAAC,wBAAwB,EAAE,WAAW;sCACjD,MAAM,cAAc;;;;;;;;;;;;gBAI1B,sBACC,6LAAC;oBACC,WAAW,CAAC,UAAU,EAAE,OAAO,4CAA4C,CAAC;8BAE3E;;;;;;;;;;;;;;;;;AAMb;GA5EM;KAAA;uCA8ES"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/expense/ExpenseRow.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\n// Function to format date like \"Nov 27, 2025\"\nconst formatDate = (dateString) => {\n  const options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\n  const date = new Date(dateString);\n  return date.toLocaleDateString(\"en-US\", options);\n};\n\nconst ExpenseRow = ({ expense, onEdit }) => {\n  const statusColors = {\n    Paid: \"bg-green-100 text-green-800 border-green-200\",\n    Pending: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n    Cancelled: \"bg-red-100 text-red-800 border-red-200\",\n  };\n\n  return (\n    <tr\n      className=\"border-b border-gray-200 transition-colors hover:bg-slate-50 cursor-pointer\"\n      onClick={() => onEdit(expense)}\n    >\n      <td className=\"p-2 text-sm whitespace-nowrap\">{formatDate(expense.date)}</td>\n      <td className=\"p-2\">\n        <div className=\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold text-foreground border-slate-200\">\n          {expense.category}\n        </div>\n      </td>\n      <td className=\"p-2 max-w-xs truncate\">{expense.description}</td>\n      <td className=\"p-2\">{expense.vendor}</td>\n      <td className=\"p-2 text-sm text-slate-600\">{expense.paymentMethod}</td>\n      <td className=\"p-2 font-bold text-red-600\">Rs.{expense.amount.toFixed(2)}</td>\n     \n      <td className=\"p-2\">\n        <div\n          className={`inline-flex items-center rounded-md px-2.5 py-0.5 text-xs font-semibold border ${\n            statusColors[expense.paymentStatus] || \"bg-gray-100 text-gray-800 border-gray-200\"\n          }`}\n        >\n          {expense.paymentStatus}\n        </div>\n      </td>\n    </tr>\n  );\n};\n\nexport default ExpenseRow;\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIA,8CAA8C;AAC9C,MAAM,aAAa,CAAC;IAClB,MAAM,UAAU;QAAE,MAAM;QAAW,OAAO;QAAS,KAAK;IAAU;IAClE,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;AAC1C;AAEA,MAAM,aAAa,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE;IACrC,MAAM,eAAe;QACnB,MAAM;QACN,SAAS;QACT,WAAW;IACb;IAEA,qBACE,6LAAC;QACC,WAAU;QACV,SAAS,IAAM,OAAO;;0BAEtB,6LAAC;gBAAG,WAAU;0BAAiC,WAAW,QAAQ,IAAI;;;;;;0BACtE,6LAAC;gBAAG,WAAU;0BACZ,cAAA,6LAAC;oBAAI,WAAU;8BACZ,QAAQ,QAAQ;;;;;;;;;;;0BAGrB,6LAAC;gBAAG,WAAU;0BAAyB,QAAQ,WAAW;;;;;;0BAC1D,6LAAC;gBAAG,WAAU;0BAAO,QAAQ,MAAM;;;;;;0BACnC,6LAAC;gBAAG,WAAU;0BAA8B,QAAQ,aAAa;;;;;;0BACjE,6LAAC;gBAAG,WAAU;;oBAA6B;oBAAI,QAAQ,MAAM,CAAC,OAAO,CAAC;;;;;;;0BAEtE,6LAAC;gBAAG,WAAU;0BACZ,cAAA,6LAAC;oBACC,WAAW,CAAC,+EAA+E,EACzF,YAAY,CAAC,QAAQ,aAAa,CAAC,IAAI,6CACvC;8BAED,QAAQ,aAAa;;;;;;;;;;;;;;;;;AAKhC;KAlCM;uCAoCS"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/expense/ExpwnseTable.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { apiRequest } from \"@/app/authservice/api\";\nimport ExpenseRow from \"./ExpenseRow\";\n\nconst ExpensesTable = ({ onEdit }) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  // Fetch all expenses\n  const fetchExpenses = async () => {\n    try {\n      setLoading(true);\n      const response = await apiRequest(\"/expenses\", { method: \"GET\" });\n      if (response?.success) {\n        setData(response.data || []);\n      } else {\n        throw new Error(response?.message || \"Failed to fetch expenses.\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching expenses:\", err);\n      setError(err?.message || \"Something went wrong while fetching expenses.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchExpenses();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"text-center p-6 text-gray-500\">Loading expenses...</div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center p-6 text-red-600\">{error}</div>\n    );\n  }\n\n  if (data.length === 0) {\n    return (\n      <div className=\"text-center p-6 text-gray-500\">No expenses found.</div>\n    );\n  }\n\n  return (\n    <div className=\"rounded-xl border-0 shadow-lg bg-white/80 backdrop-blur p-0 overflow-x-auto\">\n      <table className=\"w-full text-sm caption-bottom\">\n        <thead className=\"bg-slate-50\">\n          <tr className=\"border-b border-gray-300 text-gray-500\">\n            <th className=\"h-10 px-2 text-left font-semibold\">Date</th>\n            <th className=\"h-10 px-2 text-left font-semibold\">Category</th>\n            <th className=\"h-10 px-2 text-left font-semibold\">Description</th>\n            <th className=\"h-10 px-2 text-left font-semibold\">Vendor</th>\n            <th className=\"h-10 px-2 text-left font-semibold\">Payment</th>\n            <th className=\"h-10 px-2 text-left font-semibold\">Amount</th>\n            <th className=\"h-10 px-2 text-left font-semibold\">Payment Status</th>            \n          </tr>\n        </thead>\n        <tbody>\n          {data.map((expense) => (\n            <ExpenseRow key={expense._id} expense={expense} onEdit={onEdit} />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default ExpensesTable;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE;;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,qBAAqB;IACrB,MAAM,gBAAgB;QACpB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,IAAA,2IAAU,EAAC,aAAa;gBAAE,QAAQ;YAAM;YAC/D,IAAI,UAAU,SAAS;gBACrB,QAAQ,SAAS,IAAI,IAAI,EAAE;YAC7B,OAAO;gBACL,MAAM,IAAI,MAAM,UAAU,WAAW;YACvC;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,SAAS,KAAK,WAAW;QAC3B,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBAAgC;;;;;;IAEnD;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC;YAAI,WAAU;sBAAgC;;;;;;IAEnD;IAEA,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,6LAAC;YAAI,WAAU;sBAAgC;;;;;;IAEnD;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAM,WAAU;;8BACf,6LAAC;oBAAM,WAAU;8BACf,cAAA,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;;;;;;;;;;;;8BAGtD,6LAAC;8BACE,KAAK,GAAG,CAAC,CAAC,wBACT,6LAAC,yJAAU;4BAAmB,SAAS;4BAAS,QAAQ;2BAAvC,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;AAMxC;GAnEM;KAAA;uCAqES"}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/expense/ExpenseCreateModal.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { CheckCircle, AlertTriangle } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst ExpenseCreateModal = ({ isOpen, onClose, onSave, editData }) => {\n  const [form, setForm] = useState({\n    date: \"\",\n    category: \"Other\",\n    description: \"\",\n    vendor: \"\",\n    paymentMethod: \"Cash\",\n    paymentStatus: \"Pending\",\n    amount: \"\",    \n    referenceNumber: \"\",\n    notes: \"\",\n  });\n\n  const [formErrors, setFormErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  useEffect(() => {\n    if (editData) {\n      setForm({\n        date: editData.date || \"\",\n        category: editData.category || \"Other\",\n        description: editData.description || \"\",\n        vendor: editData.vendor || \"\",\n        paymentMethod: editData.paymentMethod || \"Cash\",\n        paymentStatus: editData.paymentStatus || \"Pending\",\n        amount: editData.amount ? String(editData.amount) : \"\",        \n        referenceNumber: editData.referenceNumber || \"\",\n        notes: editData.notes || \"\",\n      });\n    } else {\n      setForm({\n        date: \"\",\n        category: \"Other\",\n        description: \"\",\n        vendor: \"\",\n        paymentMethod: \"Cash\",\n        paymentStatus: \"Pending\",\n        amount: \"\",        \n        referenceNumber: \"\",\n        notes: \"\",\n      });\n    }\n    setFormErrors({});\n  }, [editData, isOpen]);\n\n  const handleChange = (key, value) => {\n    setForm((prev) => ({ ...prev, [key]: value }));\n    setFormErrors((prev) => ({ ...prev, [key]: \"\" }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validation\n    const errors = {};\n    if (!form.date) errors.date = \"Date is required.\";\n    if (!form.category) errors.category = \"Category is required.\";\n    if (!form.amount || Number(form.amount) <= 0)\n      errors.amount = \"Amount must be greater than 0.\";\n    if (!form.description) errors.description = \"Description is required.\";\n\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      return;\n    }\n\n    const payload = {\n      date: form.date,\n      category: form.category,\n      description: form.description.trim(),\n      vendor: form.vendor.trim(),\n      paymentMethod: form.paymentMethod,\n      paymentStatus: form.paymentStatus,\n      amount: Number(form.amount),      \n      referenceNumber: form.referenceNumber.trim(),\n      notes: form.notes.trim(),\n    };\n\n    try {\n      setLoading(true);\n\n      const response = await apiRequest(\"/expenses/createExpense\", {\n        method: \"POST\",\n        data: payload, // send JSON payload\n      });\n\n      if (response?.success) {\n        setShowSuccess(true);\n        onSave(response.data);\n        setTimeout(() => {\n          setShowSuccess(false);\n          onClose();\n        }, 1500);\n      } else {\n        throw new Error(response?.message || \"Failed to add expense.\");\n      }\n    } catch (error) {\n      console.error(\"Expense create error:\", error);\n      setErrorMessage(error?.response?.data?.message || error.message || \"Something went wrong while adding expense.\");\n      setShowError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* -------- Success Modal -------- */}\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[10000]\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center\">\n            <CheckCircle className=\"text-green-600 w-12 h-12 mx-auto mb-2\" />\n            <h2 className=\"text-lg font-bold text-green-700\">Success</h2>\n            <p className=\"text-gray-600\">Expense saved successfully</p>\n          </div>\n        </div>\n      )}\n\n      {/* -------- Error Modal -------- */}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[10000]\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center\">\n            <AlertTriangle className=\"text-red-600 w-12 h-12 mx-auto mb-2\" />\n            <h2 className=\"text-lg font-bold text-red-700\">Error</h2>\n            <p className=\"text-gray-600\">{errorMessage}</p>\n            <button\n              onClick={() => setShowError(false)}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-md\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* -------- Main Modal -------- */}\n      <div className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n          {/* Header */}\n          <div className=\"sticky top-0 bg-gradient-to-r from-red-500 to-red-600 text-white p-6 rounded-t-2xl flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold\">{editData ? \"Edit Expense\" : \"New Expense\"}</h2>\n            <button onClick={onClose} className=\"p-2 px-3 hover:bg-white/20 rounded-lg transition-colors\">✕</button>\n          </div>\n\n          {/* Form */}\n          <form className=\"p-6 space-y-6\" onSubmit={handleSubmit}>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {[\n                [\"date\", \"Date *\", \"date\"],\n                [\"category\", \"Category *\", \"select\"],\n                [\"amount\", \"Amount *\", \"number\"],\n                [\"paymentMethod\", \"Payment Method\", \"select\"],\n                [\"paymentStatus\", \"Payment Status\", \"select\"],\n                [\"vendor\", \"Vendor\", \"text\"],\n                [\"referenceNumber\", \"Reference Number\", \"text\"],                \n                [\"description\", \"Description *\", \"textarea\"],\n                [\"notes\", \"Notes\", \"textarea\"],\n              ].map(([key, label, type]) => (\n                <div key={key} className={key === \"description\" || key === \"notes\" ? \"md:col-span-2 space-y-2\" : \"space-y-2\"}>\n                  <label className=\"text-sm font-medium\">{label}</label>\n                  {type === \"textarea\" ? (\n                    <textarea\n                      rows={key === \"description\" ? 3 : 2}\n                      value={form[key]}\n                      onChange={(e) => handleChange(key, e.target.value)}\n                      disabled={loading}\n                      placeholder={key === \"description\" ? \"Enter expense description\" : \"Additional notes\"}\n                      className=\"flex min-h-[60px] w-full rounded-md border border-gray-200 bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                    />\n                  ) : type === \"select\" ? (\n                    <select\n                      value={form[key]}\n                      onChange={(e) => handleChange(key, e.target.value)}\n                      disabled={loading}\n                      className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                    >\n                      {key === \"category\" && [\"Salary\",\"Rent\",\"Utilities\",\"Equipment\",\"Maintenance\",\"Marketing\",\"Supplies\",\"Transportation\",\"Professional Fees\",\"Insurance\",\"Taxes\",\"Other\"].map(opt => <option key={opt}>{opt}</option>)}\n                      {key === \"paymentMethod\" && [\"Cash\",\"Card\",\"Bank Transfer\",\"Cheque\"].map(opt => <option key={opt}>{opt}</option>)}\n                      {key === \"paymentStatus\" && [\"Pending\",\"Completed\",\"Failed\"].map(opt => <option key={opt}>{opt}</option>)}\n                      </select>\n                  ) : (\n                    <input\n                      type={type}\n                      value={form[key]}\n                      onChange={(e) => handleChange(key, e.target.value)}\n                      disabled={loading}\n                      placeholder={type === \"number\" ? \"0.00\" : \"\"}\n                      className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                    />\n                  )}\n                  {formErrors[key] && <p className=\"text-xs text-red-600\">{formErrors[key]}</p>}\n                </div>\n              ))}\n            </div>\n\n            {/* Buttons */}\n            <div className=\"flex justify-end gap-3 pt-4 border-t border-slate-200\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                disabled={loading}\n                className=\"h-9 px-4 border border-input rounded-md hover:bg-slate-100\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className={`h-9 px-4 rounded-md text-white ${loading ? \"bg-gray-400 cursor-not-allowed\" : \"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700\"}`}\n              >\n                {editData ? \"Update Expense\" : \"Add Expense\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ExpenseCreateModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/expense/ExpenseUpdateModal.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { CheckCircle, AlertTriangle } from \"lucide-react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\n\r\nconst ExpenseUpdateModal = ({ isOpen, onClose, onSave, editData }) => {\r\n  const [form, setForm] = useState({\r\n    date: \"\",\r\n    category: \"Other\",\r\n    description: \"\",\r\n    vendor: \"\",\r\n    paymentMethod: \"Cash\",\r\n    paymentStatus: \"Pending\",\r\n    amount: \"\",    \r\n    referenceNumber: \"\",\r\n    notes: \"\",\r\n  });\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n  const [showError, setShowError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  // Populate form when editData changes\r\n  useEffect(() => {\r\n    if (editData) {\r\n      setForm({\r\n        date: editData.date || \"\",\r\n        category: editData.category || \"Other\",\r\n        description: editData.description || \"\",\r\n        vendor: editData.vendor || \"\",\r\n        paymentMethod: editData.paymentMethod || \"Cash\",\r\n        paymentStatus: editData.paymentStatus || \"Pending\",\r\n        amount: editData.amount ? String(editData.amount) : \"\",        \r\n        referenceNumber: editData.referenceNumber || \"\",\r\n        notes: editData.notes || \"\",\r\n      });\r\n    } else {\r\n      setForm({\r\n        date: \"\",\r\n        category: \"Other\",\r\n        description: \"\",\r\n        vendor: \"\",\r\n        paymentMethod: \"Cash\",\r\n        paymentStatus: \"Pending\",\r\n        amount: \"\",        \r\n        referenceNumber: \"\",\r\n        notes: \"\",\r\n      });\r\n    }\r\n    setFormErrors({});\r\n  }, [editData, isOpen]);\r\n\r\n  const handleChange = (key, value) => {\r\n    setForm((prev) => ({ ...prev, [key]: value }));\r\n    setFormErrors((prev) => ({ ...prev, [key]: \"\" }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const expenseId = editData?.id || editData?._id;\r\n    if (!expenseId) {\r\n      setErrorMessage(\"No expense selected for update.\");\r\n      setShowError(true);\r\n      return;\r\n    }\r\n\r\n    // Validation: Only date and paymentStatus need validation\r\n    const errors = {};\r\n    if (!form.date) errors.date = \"Date is required.\";\r\n    if (!form.paymentStatus) errors.paymentStatus = \"Payment Status is required.\";\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      date: form.date,\r\n      paymentStatus: form.paymentStatus,\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const response = await apiRequest(`/expenses/updateExpense/${expenseId}`, {\r\n        method: \"PUT\",\r\n        data: payload,\r\n      });\r\n\r\n      if (response?.success) {\r\n        setShowSuccess(true);\r\n        onSave(response.data);\r\n        setTimeout(() => {\r\n          setShowSuccess(false);\r\n          onClose();\r\n        }, 1500);\r\n      } else {\r\n        throw new Error(response?.message || \"Failed to update expense.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Expense update error:\", error);\r\n      setErrorMessage(\r\n        error?.response?.data?.message || error.message || \"Something went wrong while updating expense.\"\r\n      );\r\n      setShowError(true);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Success Modal */}\r\n      {showSuccess && (\r\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center\">\r\n            <CheckCircle className=\"text-green-600 w-12 h-12 mx-auto mb-2\" />\r\n            <h2 className=\"text-lg font-bold text-green-700\">Success</h2>\r\n            <p className=\"text-gray-600\">Expense updated successfully</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Error Modal */}\r\n      {showError && (\r\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[10000]\">\r\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center\">\r\n            <AlertTriangle className=\"text-red-600 w-12 h-12 mx-auto mb-2\" />\r\n            <h2 className=\"text-lg font-bold text-red-700\">Error</h2>\r\n            <p className=\"text-gray-600\">{errorMessage}</p>\r\n            <button\r\n              onClick={() => setShowError(false)}\r\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-md\"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Modal */}\r\n      <div className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n          <div className=\"sticky top-0 bg-gradient-to-r from-red-500 to-red-600 text-white p-6 rounded-t-2xl flex justify-between items-center\">\r\n            <h2 className=\"text-2xl font-bold\">Edit Expense</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 px-3 hover:bg-white/20 rounded-lg transition-colors\"\r\n            >\r\n              ✕\r\n            </button>\r\n          </div>\r\n\r\n          <form className=\"p-6 space-y-6\" onSubmit={handleSubmit}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {[\r\n                [\"date\", \"Date *\", \"date\"],\r\n                [\"category\", \"Category\", \"text\"],\r\n                [\"amount\", \"Amount\", \"number\"],\r\n                [\"paymentMethod\", \"Payment Method\", \"text\"],\r\n                [\"paymentStatus\", \"Payment Status\", \"select\"],\r\n                [\"vendor\", \"Vendor\", \"text\"],\r\n                [\"referenceNumber\", \"Reference Number\", \"text\"],                \r\n                [\"description\", \"Description\", \"textarea\"],\r\n                [\"notes\", \"Notes\", \"textarea\"],\r\n              ].map(([key, label, type]) => (\r\n                <div\r\n                  key={key}\r\n                  className={\r\n                    key === \"description\" || key === \"notes\"\r\n                      ? \"md:col-span-2 space-y-2\"\r\n                      : \"space-y-2\"\r\n                  }\r\n                >\r\n                  <label className=\"text-sm font-medium\">{label}</label>\r\n                  {type === \"textarea\" ? (\r\n                    <textarea\r\n                      rows={key === \"description\" ? 3 : 2}\r\n                      value={form[key]}\r\n                      onChange={key === \"date\" || key === \"paymentStatus\" ? (e) => handleChange(key, e.target.value) : undefined}\r\n                      disabled={!(key === \"date\" || key === \"paymentStatus\") || loading}\r\n                      className=\"flex min-h-[60px] w-full rounded-md border border-gray-200 bg-gray-100 px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\r\n                    />\r\n                  ) : type === \"select\" ? (\r\n                    <select\r\n                      value={form[key]}\r\n                      onChange={key === \"paymentStatus\" ? (e) => handleChange(key, e.target.value) : undefined}\r\n                      disabled={!(key === \"paymentStatus\") || loading}\r\n                      className=\"flex h-9 w-full rounded-md border border-gray-200 bg-gray-100 px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\r\n                    >\r\n                      {key === \"paymentStatus\" &&\r\n                        [\"Pending\", \"Completed\", \"Failed\"].map((opt) => (\r\n                          <option key={opt}>{opt}</option>\r\n                        ))}\r\n                    </select>\r\n                  ) : (\r\n                    <input\r\n                      type={type}\r\n                      value={form[key]}\r\n                      onChange={key === \"date\" ? (e) => handleChange(key, e.target.value) : undefined}\r\n                      disabled={!(key === \"date\") || loading}\r\n                      className=\"flex h-9 w-full rounded-md border border-gray-200 bg-gray-100 px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4 border-t border-slate-200\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={onClose}\r\n                disabled={loading}\r\n                className=\"h-9 px-4 border border-input rounded-md hover:bg-slate-100\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className={`h-9 px-4 rounded-md text-white ${\r\n                  loading\r\n                    ? \"bg-gray-400 cursor-not-allowed\"\r\n                    : \"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700\"\r\n                }`}\r\n              >\r\n                Update Expense\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ExpenseUpdateModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1422, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/ExpensesPage.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport ExpenseCard from \"../../components/expense/ExpenseCard\";\nimport ExpensesTable from \"../../components/expense/ExpwnseTable\";\nimport ExpenseCreateModal from \"../expense/ExpenseCreateModal\";\nimport ExpenseUpdateModal from \"../expense/ExpenseUpdateModal\";\n\nimport { Plus, TrendingDown, Receipt } from \"lucide-react\";\n\nconst ExpensesPage = () => {\n  const [expenses, setExpenses] = useState([\n    {\n      id: 1,\n      date: \"2025-11-27\",\n      category: \"Utilities\",\n      description: \"tuyu\",\n      vendor: \"asd\",\n      paymentMethod: \"Cash\",\n      amount: 45,\n      status: \"Paid\",\n    },\n    {\n      id: 2,\n      date: \"2025-11-30\",\n      category: \"Maintenance\",\n      description: \"Air conditioner servicing\",\n      vendor: \"CoolTech Services\",\n      paymentMethod: \"Bank Transfer\",\n      amount: 75.0,\n      status: \"Pending\",\n    },\n    {\n      id: 3,\n      date: \"2025-12-05\",\n      category: \"Supplies\",\n      description: \"Medical consumables restock\",\n      vendor: \"MediSupply Inc.\",\n      paymentMethod: \"Card\",\n      amount: 450.0,\n      status: \"Cancelled\",\n    },\n  ]);\n\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editData, setEditData] = useState(null);\n\n  // Handle save (create or update)\n  const handleSave = (expense) => {\n    if (editData) {\n      // Update existing expense\n      setExpenses(\n        expenses.map((e) =>\n          e.id === editData.id ? { ...expense, id: editData.id } : e\n        )\n      );\n    } else {\n      // Add new expense\n      setExpenses([...expenses, { ...expense, id: Date.now() }]);\n    }\n    setEditData(null);\n    setModalOpen(false);\n  };\n\n  // Handle edit click\n  const handleEdit = (expense) => {\n    setEditData(expense);\n    setModalOpen(true);\n  };\n\n  return (\n    <main className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-slate-900\">Expenses</h1>\n          <p className=\"text-slate-600 mt-1\">\n            Track and manage business expenses\n          </p>\n        </div>\n        <button\n          className=\"inline-flex items-center gap-2 rounded-md text-sm font-medium h-9 px-4 py-2 text-white bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 shadow-lg hover:border-none\"\n          onClick={() => {\n            setEditData(null); // Ensure create modal\n            setModalOpen(true);\n          }}\n        >\n          <Plus className=\"w-5 h-5\" />\n          Add Expense\n        </button>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <ExpenseCard\n          title=\"This Month\"\n          value=\"$0.00\"\n          icon={<TrendingDown className=\"w-6 h-6 text-white\" />}\n          iconBg=\"bg-gradient-to-br from-red-500 to-red-600\"\n          textColor=\"text-red-600\"\n        />\n        <ExpenseCard\n          title=\"Total Expenses\"\n          value={expenses.length}\n          icon={<Receipt className=\"w-6 h-6 text-white\" />}\n          iconBg=\"bg-gradient-to-br from-slate-500 to-slate-600\"\n          textColor=\"text-slate-900\"\n        />\n        <ExpenseCard title=\"Top Category\" value=\"\" />\n      </div>\n\n      {/* Expenses Table */}\n      <ExpensesTable data={expenses} onEdit={handleEdit} />\n\n      {/* Conditional Modal: Create or Update */}\n      {modalOpen && !editData && (\n        <ExpenseCreateModal\n          isOpen={modalOpen}\n          onClose={() => setModalOpen(false)}\n          onSave={handleSave}\n        />\n      )}\n\n      {modalOpen && editData && (\n        <ExpenseUpdateModal\n          isOpen={modalOpen}\n          onClose={() => {\n            setModalOpen(false);\n            setEditData(null);\n          }}\n          onSave={handleSave}\n          editData={editData}\n        />\n      )}\n    </main>\n  );\n};\n\nexport default ExpensesPage;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;;;AARA;;;;;;;AAUA,MAAM,eAAe;;IACnB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC;YACE,IAAI;YACJ,MAAM;YACN,UAAU;YACV,aAAa;YACb,QAAQ;YACR,eAAe;YACf,QAAQ;YACR,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,UAAU;YACV,aAAa;YACb,QAAQ;YACR,eAAe;YACf,QAAQ;YACR,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,UAAU;YACV,aAAa;YACb,QAAQ;YACR,eAAe;YACf,QAAQ;YACR,QAAQ;QACV;KACD;IAED,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,iCAAiC;IACjC,MAAM,aAAa,CAAC;QAClB,IAAI,UAAU;YACZ,0BAA0B;YAC1B,YACE,SAAS,GAAG,CAAC,CAAC,IACZ,EAAE,EAAE,KAAK,SAAS,EAAE,GAAG;oBAAE,GAAG,OAAO;oBAAE,IAAI,SAAS,EAAE;gBAAC,IAAI;QAG/D,OAAO;YACL,kBAAkB;YAClB,YAAY;mBAAI;gBAAU;oBAAE,GAAG,OAAO;oBAAE,IAAI,KAAK,GAAG;gBAAG;aAAE;QAC3D;QACA,YAAY;QACZ,aAAa;IACf;IAEA,oBAAoB;IACpB,MAAM,aAAa,CAAC;QAClB,YAAY;QACZ,aAAa;IACf;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BAEd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCAAE,WAAU;0CAAsB;;;;;;;;;;;;kCAIrC,6LAAC;wBACC,WAAU;wBACV,SAAS;4BACP,YAAY,OAAO,sBAAsB;4BACzC,aAAa;wBACf;;0CAEA,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAMhC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,0JAAW;wBACV,OAAM;wBACN,OAAM;wBACN,oBAAM,6LAAC,yOAAY;4BAAC,WAAU;;;;;;wBAC9B,QAAO;wBACP,WAAU;;;;;;kCAEZ,6LAAC,0JAAW;wBACV,OAAM;wBACN,OAAO,SAAS,MAAM;wBACtB,oBAAM,6LAAC,sNAAO;4BAAC,WAAU;;;;;;wBACzB,QAAO;wBACP,WAAU;;;;;;kCAEZ,6LAAC,0JAAW;wBAAC,OAAM;wBAAe,OAAM;;;;;;;;;;;;0BAI1C,6LAAC,2JAAa;gBAAC,MAAM;gBAAU,QAAQ;;;;;;YAGtC,aAAa,CAAC,0BACb,6LAAC,iKAAkB;gBACjB,QAAQ;gBACR,SAAS,IAAM,aAAa;gBAC5B,QAAQ;;;;;;YAIX,aAAa,0BACZ,6LAAC,iKAAkB;gBACjB,QAAQ;gBACR,SAAS;oBACP,aAAa;oBACb,YAAY;gBACd;gBACA,QAAQ;gBACR,UAAU;;;;;;;;;;;;AAKpB;GA9HM;KAAA;uCAgIS"}},
    {"offset": {"line": 1663, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/expenses/page.jsx"],"sourcesContent":["\"use client\";\n\nimport ExpensesPage from \"../components/pages/ExpensesPage\";\n\n\n\nexport default function Expenses() {\n  return (\n \n   <ExpensesPage/>\n   \n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAMe,SAAS;IACtB,qBAEC,6LAAC,yJAAY;;;;;AAGhB;KANwB"}}]
}