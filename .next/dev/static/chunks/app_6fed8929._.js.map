{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error â€” check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAOzB;AAJF;AACA;AAHA;;;AAKA,MAAM,WACJ,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D,IAAI,eAAe,+CAAkB,aAAa;YAChD,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,YAAY,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QAC9D;QAEA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,mJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C,IAAI,OAAO,+CAAkB,aAAa;YACxC,mKAAK,CAAC,OAAO,CAAC;QAChB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF,wCAAmC,mKAAK,CAAC,KAAK,CAAC;QAE/C,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/SuppliersPage.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Users } from \"lucide-react\";\r\nimport { apiRequest } from \"@/app/authservice/api\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nimport Header from \"../../components/supliers/Header\";\r\nimport SupplierCard from \"../../components/supliers/SupplierCard\";\r\nimport SupplierSearch from \"../../components/supliers/SupplierSearch\";\r\nimport SupplierTable from \"../../components/supliers/SupplierTable\";\r\nimport SupplierCreateModal from \"../../components/supliers/SupplierCreateModel\";\r\nimport SupplierUpdateModal from \"../../components/supliers/SupplierUpdateModel\";\r\nimport SupplierDeleteModal from \"../../components/supliers/SupplierDeleteModel\";\r\n\r\nconst SuppliersPage = () => {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [suppliers, setSuppliers] = useState([]);\r\n  const [selectedSupplier, setSelectedSupplier] = useState(null);\r\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n\r\n  /* =========================\r\n     FETCH SupplierS\r\n     ========================= */\r\n  const fetchSuppliers = async (query = \"\") => {\r\n    try {\r\n      const endpoint = query\r\n        ? `/suppliers?search=${encodeURIComponent(query)}`\r\n        : \"/suppliers\";\r\n\r\n      const res = await apiRequest(endpoint, \"GET\");\r\n\r\n      if (res?.success && Array.isArray(res.data)) {\r\n        setSuppliers(res.data);\r\n      } else {\r\n        setSuppliers([]);\r\n        toast.error(res?.message || \"Failed to fetch suppliers\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch suppliers\", error);\r\n      toast.error(\"Failed to load suppliers\");\r\n      setsuppliers([]);\r\n    }\r\n  };\r\n\r\n  /* Initial load */\r\n  useEffect(() => {\r\n    fetchSuppliers();\r\n  }, []);\r\n\r\n  /* Debounced search */\r\n  useEffect(() => {\r\n    const delay = setTimeout(() => {\r\n      fetchSuppliers(searchTerm);\r\n    }, 400);\r\n\r\n    return () => clearTimeout(delay);\r\n  }, [searchTerm]);\r\n\r\n  /* =========================\r\n     HANDLERS\r\n     ========================= */\r\n  const handleAddClick = () => {\r\n    setIsCreateModalOpen(true);\r\n  };\r\n\r\n  const handleEditClick = (patient) => {\r\n    setSelectedPatient(patient);\r\n    setIsUpdateModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteClick = (patient) => {\r\n    setSelectedPatient(patient);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const closeCreateModal = () => setIsCreateModalOpen(false);\r\n  const closeUpdateModal = () => {\r\n    setSelectedPatient(null);\r\n    setIsUpdateModalOpen(false);\r\n  };\r\n  const closeDeleteModal = () => {\r\n    setSelectedSupplier(null);\r\n    setIsDeleteModalOpen(false);\r\n  };\r\n\r\n  const refreshSuppliers = () => fetchSuppliers(searchTerm);\r\n\r\n  return (\r\n    <main className=\"space-y-6\">\r\n      {/* Header */}\r\n      <Header onAdd={handleAddClick} />\r\n\r\n      {/* Stats Card */}\r\n      <SupplierCard\r\n        title=\"Total Suppliers\"\r\n        count={suppliers.length}\r\n        icon={<Users className=\"w-6 h-6 text-white\" />}\r\n      />\r\n\r\n      {/* Search */}\r\n      <SupplierSearch value={searchTerm} onChange={handleSearchChange} />\r\n\r\n      {/* Table */}\r\n      <div className=\"flex-1 min-w-0\">\r\n        <SupplierTable\r\n          Suppliers={suppliers}\r\n          onEdit={handleEditClick}\r\n          onDelete={handleDeleteClick}\r\n        />\r\n      </div>\r\n\r\n      {/* Create Modal */}\r\n      {isCreateModalOpen && (\r\n        <SupplierCreateModal\r\n          onClose={closeCreateModal}\r\n          onCreated={() => {\r\n            closeCreateModal();\r\n            refreshSuppliers();\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Update Modal */}\r\n      {isUpdateModalOpen && selectedSupplier && (\r\n        <SupplierUpdateModal\r\n          patient={selectedPatient\r\n\r\n          }\r\n          onClose={closeUpdateModal}\r\n          onUpdated={refreshSuppliers}\r\n        />\r\n      )}\r\n\r\n      {/* Delete Modal */}\r\n      {isDeleteModalOpen && selectedPatient && (\r\n        <SupplierDeleteModal\r\n          patient={selectedPatient}\r\n          onClose={closeDeleteModal}\r\n          onDeleted={refreshSuppliers}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default SuppliersPage;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALA;;;;;;;;;;;;AAeA,MAAM,gBAAgB;;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC,EAAE;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAE3D;;+BAE6B,GAC7B,MAAM,iBAAiB,OAAO,QAAQ,EAAE;QACtC,IAAI;YACF,MAAM,WAAW,QACb,CAAC,kBAAkB,EAAE,mBAAmB,QAAQ,GAChD;YAEJ,MAAM,MAAM,MAAM,IAAA,2IAAU,EAAC,UAAU;YAEvC,IAAI,KAAK,WAAW,MAAM,OAAO,CAAC,IAAI,IAAI,GAAG;gBAC3C,aAAa,IAAI,IAAI;YACvB,OAAO;gBACL,aAAa,EAAE;gBACf,mKAAK,CAAC,KAAK,CAAC,KAAK,WAAW;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,mKAAK,CAAC,KAAK,CAAC;YACZ,aAAa,EAAE;QACjB;IACF;IAEA,gBAAgB,GAChB,IAAA,0KAAS;mCAAC;YACR;QACF;kCAAG,EAAE;IAEL,oBAAoB,GACpB,IAAA,0KAAS;mCAAC;YACR,MAAM,QAAQ;iDAAW;oBACvB,eAAe;gBACjB;gDAAG;YAEH;2CAAO,IAAM,aAAa;;QAC5B;kCAAG;QAAC;KAAW;IAEf;;+BAE6B,GAC7B,MAAM,iBAAiB;QACrB,qBAAqB;IACvB;IAEA,MAAM,kBAAkB,CAAC;QACvB,mBAAmB;QACnB,qBAAqB;IACvB;IAEA,MAAM,oBAAoB,CAAC;QACzB,mBAAmB;QACnB,qBAAqB;IACvB;IAEA,MAAM,qBAAqB,CAAC;QAC1B,cAAc,EAAE,MAAM,CAAC,KAAK;IAC9B;IAEA,MAAM,mBAAmB,IAAM,qBAAqB;IACpD,MAAM,mBAAmB;QACvB,mBAAmB;QACnB,qBAAqB;IACvB;IACA,MAAM,mBAAmB;QACvB,oBAAoB;QACpB,qBAAqB;IACvB;IAEA,MAAM,mBAAmB,IAAM,eAAe;IAE9C,qBACE,6LAAC;QAAK,WAAU;;0BAEd,6LAAC;gBAAO,OAAO;;;;;;0BAGf,6LAAC;gBACC,OAAM;gBACN,OAAO,UAAU,MAAM;gBACvB,oBAAM,6LAAC,gNAAK;oBAAC,WAAU;;;;;;;;;;;0BAIzB,6LAAC;gBAAe,OAAO;gBAAY,UAAU;;;;;;0BAG7C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAW;oBACX,QAAQ;oBACR,UAAU;;;;;;;;;;;YAKb,mCACC,6LAAC;gBACC,SAAS;gBACT,WAAW;oBACT;oBACA;gBACF;;;;;;YAKH,qBAAqB,kCACpB,6LAAC;gBACC,SAAS;gBAGT,SAAS;gBACT,WAAW;;;;;;YAKd,qBAAqB,iCACpB,6LAAC;gBACC,SAAS;gBACT,SAAS;gBACT,WAAW;;;;;;;;;;;;AAKrB;GAvIM;KAAA;uCAyIS"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/suppliers/page.jsx"],"sourcesContent":["// app/pos/page.jsx\r\n\"use client\";\r\n\r\nimport SuppliersPage from \"../components/pages/SuppliersPage\";\r\n\r\n\r\n\r\nexport default function Suppliers() {\r\n  return (\r\n  \r\n    <SuppliersPage/>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;AAGnB;AAFA;;;AAMe,SAAS;IACtB,qBAEE,6LAAC,0JAAa;;;;;AAElB;KALwB"}}]
}