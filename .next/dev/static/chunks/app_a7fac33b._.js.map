{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/authservice/api.jsx"],"sourcesContent":["// app/authservice/page.jsx\n\"use client\";\n\nimport axios from \"axios\";\nimport { toast } from \"react-hot-toast\";\n\nconst BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL ||\n  \"https://mediposbackend.onrender.com/api\";\n\n/**\n * Generic API request function\n */\nexport async function apiRequest(\n  endpoint,\n  {\n    method = \"GET\",\n    data = null,\n    headers = {},\n    includeAuth = false,\n    formData = false,\n    successMessage = null,\n    timeout = 30 * 60 * 1000, // 30 minutes\n    params = null,\n    onUploadProgress = null,\n  } = {}\n) {\n  try {\n    let finalHeaders = { ...headers };\n\n    // ---------------------------------------------------------\n    // Handle Content-Type logic\n    // ---------------------------------------------------------\n    if (formData) {\n      // VERY IMPORTANT: Do NOT set Content-Type here\n      // Browser will generate correct boundary\n      delete finalHeaders[\"Content-Type\"];\n    } else if (data && typeof data === \"object\") {\n      finalHeaders[\"Content-Type\"] = \"application/json\";\n      data = JSON.stringify(data);\n    }\n\n    // ---------------------------------------------------------\n    // Authorization Header\n    // ---------------------------------------------------------\n    if (includeAuth && typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"authToken\");\n      if (token) finalHeaders[\"Authorization\"] = `Bearer ${token}`;\n    }\n\n    // ---------------------------------------------------------\n    // Create Request URL\n    // ---------------------------------------------------------\n    const url = `${BASE_URL}${endpoint.startsWith(\"/\") ? endpoint : \"/\" + endpoint}`;\n\n    console.log(\"API Request:\", {\n      url,\n      method,\n      sendingFormData: formData,\n      headers: finalHeaders,\n      params,\n      data,\n    });\n\n    // ---------------------------------------------------------\n    // Axios Config\n    // ---------------------------------------------------------\n    const config = {\n      url,\n      method: method.toUpperCase(),\n      headers: finalHeaders,\n      timeout,\n      maxBodyLength: Infinity,\n      maxContentLength: Infinity,\n    };\n\n    if (params) config.params = params;\n\n    if (typeof onUploadProgress === \"function\") {\n      config.onUploadProgress = onUploadProgress;\n    }\n\n    // Attach body only for non-GET/HEAD\n    if (![\"GET\", \"HEAD\"].includes(config.method)) {\n      config.data = data;\n    }\n\n    // ---------------------------------------------------------\n    // Make Request\n    // ---------------------------------------------------------\n    const response = await axios(config);\n\n    // ---------------------------------------------------------\n    // Success Toast\n    // ---------------------------------------------------------\n    const msg = successMessage || response.data?.message;\n    if (msg && typeof window !== \"undefined\") {\n      toast.success(msg);\n    }\n\n    return response.data;\n  } catch (error) {\n    console.error(\"API Request Error:\", error);\n\n    const errorMessage =\n      error.response?.data?.message ||\n      error.response?.data?.error ||\n      (error.code === \"ECONNABORTED\"\n        ? \"Request timed out. Please try again.\"\n        : null) ||\n      (error.message?.includes(\"Network Error\")\n        ? \"Network error â€” check your internet connection.\"\n        : null) ||\n      error.message ||\n      \"Something went wrong\";\n\n    if (typeof window !== \"undefined\") toast.error(errorMessage);\n\n    throw new Error(errorMessage);\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAOzB;AAJF;AACA;AAHA;;;AAKA,MAAM,WACJ,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IACpC;AAKK,eAAe,WACpB,QAAQ,EACR,EACE,SAAS,KAAK,EACd,OAAO,IAAI,EACX,UAAU,CAAC,CAAC,EACZ,cAAc,KAAK,EACnB,WAAW,KAAK,EAChB,iBAAiB,IAAI,EACrB,UAAU,KAAK,KAAK,IAAI,EACxB,SAAS,IAAI,EACb,mBAAmB,IAAI,EACxB,GAAG,CAAC,CAAC;IAEN,IAAI;QACF,IAAI,eAAe;YAAE,GAAG,OAAO;QAAC;QAEhC,4DAA4D;QAC5D,4BAA4B;QAC5B,4DAA4D;QAC5D,IAAI,UAAU;YACZ,+CAA+C;YAC/C,yCAAyC;YACzC,OAAO,YAAY,CAAC,eAAe;QACrC,OAAO,IAAI,QAAQ,OAAO,SAAS,UAAU;YAC3C,YAAY,CAAC,eAAe,GAAG;YAC/B,OAAO,KAAK,SAAS,CAAC;QACxB;QAEA,4DAA4D;QAC5D,uBAAuB;QACvB,4DAA4D;QAC5D,IAAI,eAAe,+CAAkB,aAAa;YAChD,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,OAAO,YAAY,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QAC9D;QAEA,4DAA4D;QAC5D,qBAAqB;QACrB,4DAA4D;QAC5D,MAAM,MAAM,GAAG,WAAW,SAAS,UAAU,CAAC,OAAO,WAAW,MAAM,UAAU;QAEhF,QAAQ,GAAG,CAAC,gBAAgB;YAC1B;YACA;YACA,iBAAiB;YACjB,SAAS;YACT;YACA;QACF;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,SAAS;YACb;YACA,QAAQ,OAAO,WAAW;YAC1B,SAAS;YACT;YACA,eAAe;YACf,kBAAkB;QACpB;QAEA,IAAI,QAAQ,OAAO,MAAM,GAAG;QAE5B,IAAI,OAAO,qBAAqB,YAAY;YAC1C,OAAO,gBAAgB,GAAG;QAC5B;QAEA,oCAAoC;QACpC,IAAI,CAAC;YAAC;YAAO;SAAO,CAAC,QAAQ,CAAC,OAAO,MAAM,GAAG;YAC5C,OAAO,IAAI,GAAG;QAChB;QAEA,4DAA4D;QAC5D,eAAe;QACf,4DAA4D;QAC5D,MAAM,WAAW,MAAM,IAAA,mJAAK,EAAC;QAE7B,4DAA4D;QAC5D,gBAAgB;QAChB,4DAA4D;QAC5D,MAAM,MAAM,kBAAkB,SAAS,IAAI,EAAE;QAC7C,IAAI,OAAO,+CAAkB,aAAa;YACxC,mKAAK,CAAC,OAAO,CAAC;QAChB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QAEpC,MAAM,eACJ,MAAM,QAAQ,EAAE,MAAM,WACtB,MAAM,QAAQ,EAAE,MAAM,SACtB,CAAC,MAAM,IAAI,KAAK,iBACZ,yCACA,IAAI,KACR,CAAC,MAAM,OAAO,EAAE,SAAS,mBACrB,oDACA,IAAI,KACR,MAAM,OAAO,IACb;QAEF,wCAAmC,mKAAK,CAAC,KAAK,CAAC;QAE/C,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/appointments/Header.jsx"],"sourcesContent":["import React from \"react\";\nimport { Plus } from \"lucide-react\";\n\nconst Header = ({ title, description, onNew }) => (\n  <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n    <div>\n      <h1 className=\"text-2xl font-bold text-slate-900\">{title}</h1>\n      <p className=\"text-slate-600 mt-1\">{description}</p>\n    </div>\n    <button\n      onClick={onNew}\n      className=\"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium\n                 transition-colors h-9 px-4 py-2 bg-gradient-to-r from-teal-500 to-teal-600\n                 hover:from-teal-600 hover:to-teal-700 shadow-lg text-white\"\n    >\n      <Plus className=\"w-5 h-5\" />\n      New Appointment\n    </button>\n  </div>\n);\n\nexport default Header;\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,SAAS,CAAC,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE,iBAC3C,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAAqC;;;;;;kCACnD,6LAAC;wBAAE,WAAU;kCAAuB;;;;;;;;;;;;0BAEtC,6LAAC;gBACC,SAAS;gBACT,WAAU;;kCAIV,6LAAC,6MAAI;wBAAC,WAAU;;;;;;oBAAY;;;;;;;;;;;;;KAZ5B;uCAkBS"}},
    {"offset": {"line": 171, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/appointments/Calender.jsx"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst Calendar = ({ selectedDate, onSelectDate, events = [] }) => {\n  const [currentDate, setCurrentDate] = useState(new Date());\n\n  const year = currentDate.getFullYear();\n  const month = currentDate.getMonth();\n  const firstDayOfMonth = new Date(year, month, 1).getDay();\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\n  const weekdays = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\n\n  const prevMonth = () => {\n    const newDate = new Date(year, month - 1, selectedDate.getDate());\n    setCurrentDate(new Date(year, month - 1, 1));\n    onSelectDate(newDate);\n  };\n\n  const nextMonth = () => {\n    const newDate = new Date(year, month + 1, selectedDate.getDate());\n    setCurrentDate(new Date(year, month + 1, 1));\n    onSelectDate(newDate);\n  };\n\n  const goToday = () => {\n    const today = new Date();\n    setCurrentDate(today);\n    onSelectDate(today);\n  };\n\n  const today = new Date();\n  const isHighlighted = (date) =>\n    date === today.getDate() &&\n    month === today.getMonth() &&\n    year === today.getFullYear();\n\n  const isSelected = (date) =>\n    selectedDate.getDate() === date &&\n    selectedDate.getMonth() === month &&\n    selectedDate.getFullYear() === year;\n\n  return (\n    <div className=\"rounded-xl shadow-lg bg-white/80 backdrop-blur border-0\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center p-6 border-b border-slate-200\">\n        <span className=\"text-lg font-semibold\">\n          {currentDate.toLocaleString(\"default\", { month: \"long\" })} {year}\n        </span>\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={prevMonth}\n            className=\"h-8 w-8 rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground text-xs\"\n          >\n            â€¹\n          </button>\n          <button\n            onClick={goToday}\n            className=\"h-8 px-3 rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground text-xs\"\n          >\n            Today\n          </button>\n          <button\n            onClick={nextMonth}\n            className=\"h-8 w-8 rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground text-xs\"\n          >\n            â€º\n          </button>\n        </div>\n      </div>\n\n      {/* Weekdays */}\n      <div className=\"grid grid-cols-7 gap-1 p-4 border-b border-slate-200\">\n        {weekdays.map((day) => (\n          <div\n            key={day}\n            className=\"text-center text-xs font-medium text-slate-500 py-2\"\n          >\n            {day}\n          </div>\n        ))}\n      </div>\n\n      {/* Dates */}\n      <div className=\"grid grid-cols-7 gap-1 p-4\">\n        {Array.from({ length: firstDayOfMonth }).map((_, i) => (\n          <div key={`empty-${i}`} />\n        ))}\n\n        {Array.from({ length: daysInMonth }, (_, i) => {\n          const date = i + 1;\n          const hasEvent = events.includes(\n            new Date(year, month, date).toDateString()\n          );\n\n          return (\n            <button\n              key={date}\n              onClick={() => onSelectDate(new Date(year, month, date))}\n              className={`aspect-square p-1 rounded-lg text-sm relative transition-all hover:bg-slate-100 ${\n                isSelected(date)\n                  ? \"bg-teal-600 text-white font-bold scale-110 shadow-lg\"\n                  : isHighlighted(date)\n                  ? \"bg-teal-500 text-white font-semibold\"\n                  : \"text-slate-700\"\n              }`}\n            >\n              <div>{date}</div>\n              {hasEvent && (\n                <div className=\"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 rounded-full bg-teal-500\" />\n              )}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Calendar;\n\n"],"names":[],"mappings":";;;;;AAAA;;;;AAEA,MAAM,WAAW,CAAC,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,EAAE,EAAE;;IAC3D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC,IAAI;IAEnD,MAAM,OAAO,YAAY,WAAW;IACpC,MAAM,QAAQ,YAAY,QAAQ;IAClC,MAAM,kBAAkB,IAAI,KAAK,MAAM,OAAO,GAAG,MAAM;IACvD,MAAM,cAAc,IAAI,KAAK,MAAM,QAAQ,GAAG,GAAG,OAAO;IACxD,MAAM,WAAW;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IAE3D,MAAM,YAAY;QAChB,MAAM,UAAU,IAAI,KAAK,MAAM,QAAQ,GAAG,aAAa,OAAO;QAC9D,eAAe,IAAI,KAAK,MAAM,QAAQ,GAAG;QACzC,aAAa;IACf;IAEA,MAAM,YAAY;QAChB,MAAM,UAAU,IAAI,KAAK,MAAM,QAAQ,GAAG,aAAa,OAAO;QAC9D,eAAe,IAAI,KAAK,MAAM,QAAQ,GAAG;QACzC,aAAa;IACf;IAEA,MAAM,UAAU;QACd,MAAM,QAAQ,IAAI;QAClB,eAAe;QACf,aAAa;IACf;IAEA,MAAM,QAAQ,IAAI;IAClB,MAAM,gBAAgB,CAAC,OACrB,SAAS,MAAM,OAAO,MACtB,UAAU,MAAM,QAAQ,MACxB,SAAS,MAAM,WAAW;IAE5B,MAAM,aAAa,CAAC,OAClB,aAAa,OAAO,OAAO,QAC3B,aAAa,QAAQ,OAAO,SAC5B,aAAa,WAAW,OAAO;IAEjC,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;;4BACb,YAAY,cAAc,CAAC,WAAW;gCAAE,OAAO;4BAAO;4BAAG;4BAAE;;;;;;;kCAE9D,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;0CAGD,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAOL,6LAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,oBACb,6LAAC;wBAEC,WAAU;kCAET;uBAHI;;;;;;;;;;0BASX,6LAAC;gBAAI,WAAU;;oBACZ,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAgB,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC/C,6LAAC,WAAS,CAAC,MAAM,EAAE,GAAG;;;;;oBAGvB,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAY,GAAG,CAAC,GAAG;wBACvC,MAAM,OAAO,IAAI;wBACjB,MAAM,WAAW,OAAO,QAAQ,CAC9B,IAAI,KAAK,MAAM,OAAO,MAAM,YAAY;wBAG1C,qBACE,6LAAC;4BAEC,SAAS,IAAM,aAAa,IAAI,KAAK,MAAM,OAAO;4BAClD,WAAW,CAAC,gFAAgF,EAC1F,WAAW,QACP,yDACA,cAAc,QACd,yCACA,kBACJ;;8CAEF,6LAAC;8CAAK;;;;;;gCACL,0BACC,6LAAC;oCAAI,WAAU;;;;;;;2BAZZ;;;;;oBAgBX;;;;;;;;;;;;;AAIR;GAjHM;KAAA;uCAmHS"}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/appointments/AppointmentList.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { FaTrash } from \"react-icons/fa\";\nimport { Calendar, Clock, Stethoscope, Check, X } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\nimport { toast } from \"react-hot-toast\";\n\nconst AppointmentList = ({ onEdit }) => {\n  const [appointments, setAppointments] = useState([]);\n  const [statusFilter, setStatusFilter] = useState(\"All\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // Fetch appointments from API\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      const res = await apiRequest(\"/appointments\");\n      if (res?.success && Array.isArray(res.data)) {\n        setAppointments(res.data);\n      } else {\n        setAppointments([]);\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch appointments:\", err);\n      toast.error(\"Failed to fetch appointments\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchAppointments();\n  }, []);\n\n  // Filter appointments based on search term and status\n  const filteredAppointments = appointments.filter((appt) => {\n    const matchesStatus = statusFilter === \"All\" || appt.status === statusFilter;\n    const matchesSearch = appt.patient.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesStatus && matchesSearch;\n  });\n\n  // Update appointment status locally\n  const updateStatus = (id, newStatus) => {\n    setAppointments((prev) =>\n      prev.map((appt) =>\n        appt._id === id ? { ...appt, status: newStatus } : appt\n      )\n    );\n\n    if (newStatus === \"Confirmed\") {\n      const appt = appointments.find((a) => a._id === id);\n      if (appt) {\n        console.log(`Profit for ${appt.patient}: ${appt.fee}`);\n      }\n    }\n  };\n\n  // Delete appointment\n  const deleteAppointment = async (id) => {\n    try {\n      await apiRequest(`/appointments/deleteAppointment/${id}`, {\n        method: \"DELETE\",\n      });\n      setAppointments((prev) => prev.filter((appt) => appt._id !== id));\n      toast.success(\"Appointment deleted successfully\");\n    } catch (error) {\n      console.error(\"Failed to delete appointment:\", error);\n      toast.error(\n        error?.response?.data?.message || \"Failed to delete appointment\"\n      );\n    }\n  };\n\n  const getBadgeClasses = (status) => {\n    switch (status) {\n      case \"Scheduled\":\n        return \"bg-purple-100 text-purple-800 border border-purple-200\";\n      case \"Confirmed\":\n        return \"bg-teal-100 text-teal-800 border border-teal-200\";\n      case \"Completed\":\n        return \"bg-green-100 text-green-800 border border-green-200\";\n      case \"Cancelled\":\n        return \"bg-red-100 text-red-800 border border-red-200\";\n      default:\n        return \"bg-teal-100 text-teal-800 border border-teal-200\";\n    }\n  };\n\n  return (\n    <div className=\"rounded-2xl shadow-lg bg-white/90 backdrop-blur border border-slate-200 lg:col-span-2\">\n      {/* Header */}\n      <div className=\"flex flex-col space-y-3 p-6 border-b border-slate-200\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-3\">\n          <div className=\"p-3 font-semibold tracking-tight text-xl\">\n            Appointments\n            <span className=\"ml-2 text-sm font-normal text-slate-500\">\n              ({appointments.length})\n            </span>\n          </div>\n\n          <div className=\"px-5 flex gap-2 flex-wrap\">\n            {[\"All\", \"Scheduled\", \"Confirmed\", \"Completed\"].map((status) => (\n              <button\n                key={status}\n                onClick={() => setStatusFilter(status)}\n                className={`inline-flex items-center justify-center h-9 px-4 text-sm rounded-md font-medium ${\n                  statusFilter === status\n                    ? \"bg-teal-600 text-white shadow\"\n                    : \"border border-gray-200 text-gray-600 bg-white hover:bg-slate-100\"\n                }`}\n              >\n                {status}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Search Bar */}\n        <div className=\"w-full md:w-1/2\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by patient name...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full rounded-md border border-gray-200 p-2\"\n          />\n        </div>\n      </div>\n\n      {/* Appointments List */}\n      <div className=\"p-4\">\n        {loading ? (\n          <div className=\"text-center py-12 text-slate-500\">Loading...</div>\n        ) : filteredAppointments.length === 0 ? (\n          <div className=\"text-center py-12 text-slate-500\">\n            <Calendar className=\"w-10 h-10 mx-auto mb-3 text-slate-300\" />\n            <p className=\"text-lg font-medium\">No appointments</p>\n            <p className=\"text-sm\">Schedule a new appointment to get started</p>\n          </div>\n        ) : (\n          <div className=\"space-y-5 max-h-[500px] overflow-y-auto\">\n            {filteredAppointments.map((appt) => (\n              <div\n                key={appt._id}\n                className=\"p-6 bg-white rounded-2xl shadow-lg border border-slate-200 cursor-pointer\"\n                onClick={() => onEdit?.(appt)}\n              >\n                <div className=\"flex justify-between items-start\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"-mt-5 h-12 w-12 rounded-xl bg-teal-600 flex items-center justify-center text-white font-bold text-lg\">\n                      {appt.patient?.charAt(0)}\n                    </div>\n\n                    <div>\n                      <p className=\"text-lg font-semibold\">{appt.patient}</p>\n                      <p className=\"text-sm text-slate-600 flex items-center gap-3 mt-1\">\n                        <span className=\"flex items-center gap-1\">\n                          <Stethoscope className=\"w-4 h-4 text-teal-600\" />\n                          {appt.doctor} ({appt.fee} Rs)\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <Clock className=\"w-4 h-4 text-blue-500\" />\n                          {appt.time}\n                        </span>\n                      </p>\n                      <p className=\"text-sm text-slate-700 mt-1\">{appt.reason}</p>\n                    </div>\n                  </div>\n\n                  <span\n                    onClick={(e) => e.stopPropagation()}\n                    className={`px-4 py-0.5 text-xs rounded-full shadow ${getBadgeClasses(\n                      appt.status\n                    )}`}\n                  >\n                    {appt.status}\n                  </span>\n                </div>\n\n                <div className=\"my-4 border-t border-slate-200\"></div>\n\n                {/* Action Buttons */}\n                <div\n                  className=\"mt-6 flex items-center gap-2 flex-wrap\"\n                  onClick={(e) => e.stopPropagation()}\n                >\n                  {appt.status === \"Scheduled\" && (\n                    <button\n                      onClick={() => updateStatus(appt._id, \"Confirmed\")}\n                      className=\"flex-1 border border-green-600 text-green-700 rounded-md text-xs py-1\"\n                    >\n                      <Check className=\"w-4 h-4 inline\" /> Confirm\n                    </button>\n                  )}\n\n                  {(appt.status === \"Scheduled\" || appt.status === \"Confirmed\") && (\n                    <button\n                      onClick={() => updateStatus(appt._id, \"Completed\")}\n                      className=\"flex-1 border border-green-600 text-green-700 rounded-md text-xs py-1\"\n                    >\n                      <Check className=\"w-4 h-4 inline\" /> Complete\n                    </button>\n                  )}\n\n                  {appt.status !== \"Cancelled\" && (\n                    <button\n                      onClick={() => updateStatus(appt._id, \"Cancelled\")}\n                      className=\"border border-red-500 text-red-600 rounded-md p-1\"\n                    >\n                      <X className=\"w-4 h-4\" />\n                    </button>\n                  )}\n\n                  {appt.status === \"Scheduled\" && (\n                    <button\n                      onClick={() => deleteAppointment(appt._id)}\n                      className=\"p-1 rounded-md border border-gray-400 text-teal-600 hover:bg-gray-100 text-xs flex items-center gap-1 ml-auto\"\n                    >\n                      <FaTrash className=\"w-4 h-4\" /> Delete\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AppointmentList;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 806, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/appointments/AppointmentModel.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { X, CheckCircle, AlertTriangle } from \"lucide-react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nconst AppointmentModal = ({ onClose, onUpdate, appointment = null }) => {\n  const [patients, setPatients] = useState([]);\n  const [doctors, setDoctors] = useState([]);\n  const [patient, setPatient] = useState(\"\");\n  const [doctor, setDoctor] = useState(\"\");\n  const [date, setDate] = useState(new Date().toISOString().split(\"T\")[0]);\n  const [time, setTime] = useState(\"\");\n  const [fee, setFee] = useState(\"\");\n  const [status, setStatus] = useState(\"Scheduled\");\n  const [reason, setReason] = useState(\"\");  \n  const [loading, setLoading] = useState(false);\n  const [formErrors, setFormErrors] = useState({});\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [showError, setShowError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  // Fetch patients\n  useEffect(() => {\n    const fetchPatients = async () => {\n      try {\n        const res = await apiRequest(\"/patients\");\n        if (res?.success && Array.isArray(res.data)) {\n          setPatients(res.data.map(p => p.name));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch patients:\", err);\n      }\n    };\n    fetchPatients();\n  }, []);\n\n  // Fetch doctors\n  useEffect(() => {\n    const fetchDoctors = async () => {\n      try {\n        const res = await apiRequest(\"/doctors\");\n        if (res?.success && Array.isArray(res.data)) {\n          // Expecting res.data = [{name: \"Dr. A\", fee: 100}, ...]\n          setDoctors(res.data.map(d => ({ name: d.name, fee: d.fee })));\n        }\n      } catch (err) {\n        console.error(\"Failed to fetch doctors:\", err);\n      }\n    };\n    fetchDoctors();\n  }, []);\n\n  // Initialize form if editing\n  useEffect(() => {\n    if (appointment) {\n      setPatient(appointment.patient || \"\");\n      setDoctor(appointment.doctor || \"\");\n      setDate(appointment.date || new Date().toISOString().split(\"T\")[0]);\n      setTime(appointment.time || \"\");\n      setFee(appointment.fee || \"\");\n      setStatus(appointment.status || \"Scheduled\");\n      setReason(appointment.reason || \"\");      \n    }\n  }, [appointment]);\n\n  // Update fee when doctor changes\n  useEffect(() => {\n    const selectedDoctor = doctors.find(d => d.name === doctor);\n    if (selectedDoctor) {\n      setFee(selectedDoctor.fee);\n    } else {\n      setFee(\"\");\n    }\n  }, [doctor, doctors]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    let errors = {};\n    if (!patient) errors.patient = \"Patient is required.\";\n    if (!doctor) errors.doctor = \"Doctor is required.\";\n    if (!date) errors.date = \"Date is required.\";\n    if (!time) errors.time = \"Time is required.\";\n    if (!fee) errors.fee = \"Fee is required.\";\n    if (!reason) errors.reason = \"Reason is required.\";\n\n    setFormErrors(errors);\n    if (Object.keys(errors).length > 0) return;\n\n    const newAppointment = { patient, doctor, date, time, fee, status, reason };\n\n    try {\n      setLoading(true);\n      if (appointment && onUpdate) {\n        await onUpdate({ ...appointment, ...newAppointment });\n      } else {\n        await apiRequest(\"/appointments/createAppointment\", {\n          method: \"POST\",\n          data: newAppointment,\n        });\n      }\n      setShowSuccess(true);\n      setTimeout(() => {\n        setShowSuccess(false);\n        onClose();\n      }, 1500);\n    } catch (error) {\n      console.error(error);\n      setErrorMessage(error?.response?.data?.message || \"Failed to save appointment.\");\n      setShowError(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* Success / Error Modals */}\n      {showSuccess && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-[9999]\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center animate-fadeIn scale-110\">\n            <CheckCircle className=\"text-green-600 text-5xl mx-auto mb-3\" />\n            <h2 className=\"text-xl font-bold text-green-700\">Success!</h2>\n            <p className=\"text-gray-600 mt-2\">Appointment saved successfully.</p>\n          </div>\n        </div>\n      )}\n      {showError && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-[9999]\">\n          <div className=\"bg-white p-6 rounded-xl shadow-xl text-center animate-fadeIn scale-110\">\n            <AlertTriangle className=\"text-red-600 text-5xl mx-auto mb-3\" />\n            <h2 className=\"text-xl font-bold text-red-700\">Error</h2>\n            <p className=\"text-gray-600 mt-2\">{errorMessage}</p>\n            <button\n              onClick={() => setShowError(false)}\n              className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Main Modal */}\n      <div className=\"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[9998] flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n          <div className=\"sticky top-0 bg-gradient-to-r from-teal-500 to-teal-600 text-white p-6 rounded-t-2xl flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold\">{appointment ? \"Edit Appointment\" : \"New Appointment\"}</h2>\n            <button onClick={onClose} className=\"p-2 hover:bg-white/20 rounded-lg transition-colors\">\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n\n          <form className=\"p-6 space-y-6\" onSubmit={handleSubmit}>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {/* Patient */}\n              <div className=\"space-y-1\">\n                <label className=\"text-sm font-medium\">Patient *</label>\n                <select\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                  value={patient}\n                  onChange={(e) => setPatient(e.target.value)}\n                >\n                  <option value=\"\">Select patient</option>\n                  {patients.map((p, idx) => (\n                    <option key={idx} value={p}>{p}</option>\n                  ))}\n                </select>\n                {formErrors.patient && <p className=\"text-red-600 text-xs mt-1\">{formErrors.patient}</p>}\n              </div>\n\n              {/* Doctor */}\n              <div className=\"space-y-1\">\n                <label className=\"text-sm font-medium\">Doctor *</label>\n                <select\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                  value={doctor}\n                  onChange={(e) => setDoctor(e.target.value)}\n                >\n                  <option value=\"\">Select doctor</option>\n                  {doctors.map((d, idx) => (\n                    <option key={idx} value={d.name}>{d.name}</option>\n                  ))}\n                </select>\n                {formErrors.doctor && <p className=\"text-red-600 text-xs mt-1\">{formErrors.doctor}</p>}\n              </div>\n\n              {/* Date */}\n              <div className=\"space-y-1\">\n                <label className=\"text-sm font-medium\">Date *</label>\n                <input\n                  type=\"date\"\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                  value={date}\n                  onChange={(e) => setDate(e.target.value)}\n                />\n                {formErrors.date && <p className=\"text-red-600 text-xs mt-1\">{formErrors.date}</p>}\n              </div>\n\n              {/* Time */}\n              <div className=\"space-y-1\">\n                <label className=\"text-sm font-medium\">Time *</label>\n                <input\n                  type=\"time\"\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                  value={time}\n                  onChange={(e) => setTime(e.target.value)}\n                />\n                {formErrors.time && <p className=\"text-red-600 text-xs mt-1\">{formErrors.time}</p>}\n              </div>\n\n              {/* Fee */}\n              <div className=\"space-y-1\">\n                <label className=\"text-sm font-medium\">Consultation Fee *</label>\n                <input\n                  type=\"number\"\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                  value={fee}\n                  onChange={(e) => setFee(e.target.value)}\n                  step=\"0.01\"\n                />\n                {formErrors.fee && <p className=\"text-red-600 text-xs mt-1\">{formErrors.fee}</p>}\n              </div>\n\n              {/* Status */}\n              <div className=\"space-y-1\">\n                <label className=\"text-sm font-medium\">Status *</label>\n                <select\n                  className=\"flex h-9 w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                  value={status}\n                  onChange={(e) => setStatus(e.target.value)}\n                >\n                  <option value=\"Scheduled\">Scheduled</option>\n                  <option value=\"Confirmed\">Confirmed</option>\n                  <option value=\"Completed\">Completed</option>\n                  <option value=\"Cancelled\">Cancelled</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Reason */}\n            <div className=\"space-y-1\">\n              <label className=\"text-sm font-medium\">Reason for Visit *</label>\n              <textarea\n                className=\"flex min-h-[60px] w-full rounded-md border border-gray-200 bg-transparent px-3 text-base shadow-sm focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                placeholder=\"Enter reason for visit\"\n                value={reason}\n                onChange={(e) => setReason(e.target.value)}\n                rows={3}\n              />\n              {formErrors.reason && <p className=\"text-red-600 text-xs mt-1\">{formErrors.reason}</p>}\n            </div>\n\n            {/* Buttons */}\n            <div className=\"flex justify-end gap-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium h-9 px-4 py-2 border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium h-9 px-4 py-2 bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow hover:from-teal-600 hover:to-teal-700 disabled:opacity-50\"\n              >\n                {loading ? (appointment ? \"Updating...\" : \"Creating...\") : appointment ? \"Update Appointment\" : \"Create Appointment\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes fadeIn {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }\n      `}</style>\n    </>\n  );\n};\n\nexport default AppointmentModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1480, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/components/pages/AppointmentsPage.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { apiRequest } from \"@/app/authservice/api\";\n\nimport Header from \"../../components/appointments/Header\";\nimport Calendar from \"../../components/appointments/Calender\";\nimport AppointmentList from \"../../components/appointments/AppointmentList\";\nimport AppointmentModal from \"../../components/appointments/AppointmentModel\";\n\nconst AppointmentsPage = () => {\n  const [appointments, setAppointments] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingAppointment, setEditingAppointment] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  /* ---------------- FETCH ALL APPOINTMENTS ---------------- */\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      const res = await apiRequest(\"/appointments\", { method: \"GET\" });\n\n      console.log(\"Fetched appointments:\", res); // ðŸ” Debug API response\n\n      // Adjust depending on how apiRequest returns data\n      const data = res?.data?.data || res?.data || [];\n      setAppointments(data);\n    } catch (error) {\n      console.error(\"Failed to fetch appointments:\", error);\n      setAppointments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchAppointments();\n  }, []);\n\n  /* ---------------- CREATE APPOINTMENT ---------------- */\n  const handleCreate = async (newAppointment) => {\n    try {\n      const res = await apiRequest(\"/appointments\", {\n        method: \"POST\",\n        body: newAppointment,\n      });\n\n      const created = res?.data || res;\n      setAppointments((prev) => [...prev, created]);\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Failed to create appointment:\", error);\n    }\n  };\n\n  /* ---------------- UPDATE APPOINTMENT ---------------- */\n  const handleUpdate = async (updatedAppointment) => {\n    try {\n      const res = await apiRequest(`/appointments/${updatedAppointment._id}`, {\n        method: \"PUT\",\n        body: updatedAppointment,\n      });\n\n      const updated = res?.data || res;\n      setAppointments((prev) =>\n        prev.map((appt) => (appt._id === updated._id ? updated : appt))\n      );\n      setIsModalOpen(false);\n    } catch (error) {\n      console.error(\"Failed to update appointment:\", error);\n    }\n  };\n\n  return (\n    <main className=\"flex flex-col md:flex-row gap-4 p-4\">\n      <div className=\"space-y-6 w-full\">\n        {/* Header */}\n        <Header\n          title=\"Appointments\"\n          description=\"Manage patient appointments and schedules\"\n          onNew={() => {\n            setEditingAppointment(null);\n            setIsModalOpen(true);\n          }}\n        />\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Calendar */}\n          <Calendar\n            selectedDate={selectedDate}\n            onSelectDate={setSelectedDate}\n            events={appointments.map((a) => new Date(a.date))}\n          />\n\n          {/* Appointment List */}\n          <AppointmentList\n            loading={loading}\n            date=\"All Appointments\"\n            appointments={appointments}\n            onEdit={(appt) => {\n              setEditingAppointment(appt);\n              setIsModalOpen(true);\n            }}\n          />\n        </div>\n      </div>\n\n      {/* Modal */}\n      {isModalOpen && (\n        <AppointmentModal\n          onClose={() => setIsModalOpen(false)}\n          onCreate={handleCreate}\n          onUpdate={handleUpdate}\n          appointment={editingAppointment}\n        />\n      )}\n    </main>\n  );\n};\n\nexport default AppointmentsPage;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;;;AARA;;;;;;;AAUA,MAAM,mBAAmB;;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC,IAAI;IACrD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,yKAAQ,EAAC;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,4DAA4D,GAC5D,MAAM,oBAAoB;QACxB,IAAI;YACF,WAAW;YACX,MAAM,MAAM,MAAM,IAAA,2IAAU,EAAC,iBAAiB;gBAAE,QAAQ;YAAM;YAE9D,QAAQ,GAAG,CAAC,yBAAyB,MAAM,wBAAwB;YAEnE,kDAAkD;YAClD,MAAM,OAAO,KAAK,MAAM,QAAQ,KAAK,QAAQ,EAAE;YAC/C,gBAAgB;QAClB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,gBAAgB,EAAE;QACpB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,0KAAS;sCAAC;YACR;QACF;qCAAG,EAAE;IAEL,wDAAwD,GACxD,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,2IAAU,EAAC,iBAAiB;gBAC5C,QAAQ;gBACR,MAAM;YACR;YAEA,MAAM,UAAU,KAAK,QAAQ;YAC7B,gBAAgB,CAAC,OAAS;uBAAI;oBAAM;iBAAQ;YAC5C,eAAe;QACjB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF;IAEA,wDAAwD,GACxD,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,2IAAU,EAAC,CAAC,cAAc,EAAE,mBAAmB,GAAG,EAAE,EAAE;gBACtE,QAAQ;gBACR,MAAM;YACR;YAEA,MAAM,UAAU,KAAK,QAAQ;YAC7B,gBAAgB,CAAC,OACf,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,GAAG,KAAK,QAAQ,GAAG,GAAG,UAAU;YAE3D,eAAe;QACjB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,0JAAM;wBACL,OAAM;wBACN,aAAY;wBACZ,OAAO;4BACL,sBAAsB;4BACtB,eAAe;wBACjB;;;;;;kCAGF,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC,4JAAQ;gCACP,cAAc;gCACd,cAAc;gCACd,QAAQ,aAAa,GAAG,CAAC,CAAC,IAAM,IAAI,KAAK,EAAE,IAAI;;;;;;0CAIjD,6LAAC,mKAAe;gCACd,SAAS;gCACT,MAAK;gCACL,cAAc;gCACd,QAAQ,CAAC;oCACP,sBAAsB;oCACtB,eAAe;gCACjB;;;;;;;;;;;;;;;;;;YAML,6BACC,6LAAC,oKAAgB;gBACf,SAAS,IAAM,eAAe;gBAC9B,UAAU;gBACV,UAAU;gBACV,aAAa;;;;;;;;;;;;AAKvB;GA7GM;KAAA;uCA+GS"}},
    {"offset": {"line": 1642, "column": 0}, "map": {"version":3,"sources":["file:///E:/Backup/mediposfrontend1/app/appointments/page.jsx"],"sourcesContent":["\"use client\";\n\nimport AppointmentsPage from \"../components/pages/AppointmentsPage\";\n\nexport default function Appointments() {\n  return (\n    <AppointmentsPage />    \n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,6LAAC,6JAAgB;;;;;AAErB;KAJwB"}}]
}